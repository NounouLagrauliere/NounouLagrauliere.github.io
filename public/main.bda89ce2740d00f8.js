"use strict";(self.webpackChunknounoulagrauliere=self.webpackChunknounoulagrauliere||[]).push([[179],{2011:(Et,Se,V)=>{V.d(Se,{Dh:()=>Le,GT:()=>Te,cc:()=>Ge,on:()=>Fe,pX:()=>ce,xv:()=>Ee});var y=V(4650),$=V(9260);Et=V.hmd(Et);const L=["ngOnDestroy"],ce=(ie,De,we,Ae={})=>new Proxy(ie,{get:(ye,ve)=>we.runOutsideAngular(()=>{var Ie;if(ie[ve])return!(null===(Ie=Ae?.spy)||void 0===Ie)&&Ie.get&&Ae.spy.get(ve,ie[ve]),ie[ve];if(L.indexOf(ve)>-1)return()=>{};const Be=De.toPromise().then(K=>{const ne=K&&K[ve];return"function"==typeof ne?ne.bind(K):ne&&ne.then?ne.then(me=>we.run(()=>me)):we.run(()=>ne)});return new Proxy(()=>{},{get:(K,ne)=>Be[ne],apply:(K,ne,me)=>Be.then(Ke=>{var Ve;const Dt=Ke&&Ke(...me);return!(null===(Ve=Ae?.spy)||void 0===Ve)&&Ve.apply&&Ae.spy.apply(ve,me,Dt),Dt})})})}),Te=(ie,De)=>{De.forEach(we=>{Object.getOwnPropertyNames(we.prototype||we).forEach(Ae=>{Object.defineProperty(ie.prototype,Ae,Object.getOwnPropertyDescriptor(we.prototype||we,Ae))})})};class he{constructor(De){return De}}const Le=new y.OlP("angularfire2.app.options"),Ee=new y.OlP("angularfire2.app.name");function Fe(ie,De,we){const ye="object"==typeof we&&we||{};ye.name=ye.name||"string"==typeof we&&we||"[DEFAULT]";const Ie=$.Z.apps.filter(Be=>Be&&Be.name===ye.name)[0]||De.runOutsideAngular(()=>$.Z.initializeApp(ie,ye));try{JSON.stringify(ie)!==JSON.stringify(Ie.options)&&G("error",`${Ie.name} Firebase App already initialized with different options${Et.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new he(Ie)}const G=(ie,...De)=>{(0,y.X6Q)()&&typeof console<"u"&&console[ie](...De)};function Ge(ie,De,we,Ae,ye){const[,ve,Ie]=globalThis.\u0275AngularfireInstanceCache.find(Be=>Be[0]===ie)||[];if(ve)return function ke(ie,De){try{return ie.toString()===De.toString()}catch{return ie===De}}(ye,Ie)||(qe("error",`${De} was already initialized on the ${we} Firebase App with different settings.${rt?" You may need to reload as Firebase is not HMR aware.":""}`),qe("warn",{is:ye,was:Ie})),ve;{const Be=Ae();return globalThis.\u0275AngularfireInstanceCache.push([ie,Be,ye]),Be}}const rt=!!Et.hot,qe=(ie,...De)=>{(0,y.X6Q)()&&typeof console<"u"&&console[ie](...De)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5114:(Et,Se,V)=>{V.d(Se,{$:()=>m_,A:()=>z,B:()=>ke,G:()=>fe,H:()=>H,J:()=>Gt,L:()=>An,M:()=>ud,N:()=>Kw,P:()=>Pc,Q:()=>h_,R:()=>k_,T:()=>Zw,U:()=>nu,V:()=>iu,W:()=>dD,X:()=>Uf,Y:()=>dd,Z:()=>hd,_:()=>nr,a:()=>ep,a0:()=>vc,a1:()=>js,a2:()=>gd,a3:()=>jf,a4:()=>__,a5:()=>y_,a6:()=>v_,a7:()=>rr,a8:()=>cn,a9:()=>w_,aA:()=>j,aB:()=>Eu,aC:()=>Lc,aD:()=>lI,aE:()=>fr,aI:()=>hu,aL:()=>ru,aa:()=>au,ab:()=>Gf,ac:()=>zf,af:()=>Ei,ag:()=>uu,ah:()=>es,ak:()=>qo,al:()=>E_,an:()=>iI,ao:()=>Td,ap:()=>me,aq:()=>Lt,ar:()=>nt,as:()=>Ae,at:()=>Hd,au:()=>U_,av:()=>Ct,aw:()=>ye,ax:()=>K,ay:()=>hI,az:()=>Ve,b:()=>Qo,c:()=>O_,d:()=>fD,e:()=>Oc,f:()=>Fc,g:()=>mp,h:()=>Iu,i:()=>mu,j:()=>Pd,k:()=>rs,l:()=>Rn,m:()=>G_,n:()=>Dp,o:()=>Ee,q:()=>Yf,r:()=>up,s:()=>M_,u:()=>hD,v:()=>C_,y:()=>nI});var y=V(5861),$=V(2090),L=V(9681),ce=V(1877),Te=V(655),he=V(4859);const Ee={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ke=function Y(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},rt=function Ge(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},qe=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),De=new ce.Yd("@firebase/auth");function we(w,...g){De.logLevel<=ce.in.ERROR&&De.error(`Auth (${L.SDK_VERSION}): ${w}`,...g)}function Ae(w,...g){throw Be(w,...g)}function ye(w,...g){return Be(w,...g)}function ve(w,g,m){const T=Object.assign(Object.assign({},rt()),{[g]:m});return new $.LL("auth","Firebase",T).create(g,{appName:w.name})}function Ie(w,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&Ae(w,"argument-error"),ve(w,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Be(w,...g){if("string"!=typeof w){const m=g[0],T=[...g.slice(1)];return T[0]&&(T[0].appName=w.name),w._errorFactory.create(m,...T)}return qe.create(w,...g)}function K(w,g,...m){if(!w)throw Be(g,...m)}function ne(w){const g="INTERNAL ASSERTION FAILED: "+w;throw we(g),new Error(g)}function me(w,g){w||ne(g)}const Ke=new Map;function Ve(w){me(w instanceof Function,"Expected a class definition");let g=Ke.get(w);return g?(me(g instanceof w,"Instance stored in cache mismatched with class"),g):(g=new w,Ke.set(w,g),g)}function re(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function oe(){return"http:"===de()||"https:"===de()}function de(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Me{constructor(g,m){this.shortDelay=g,this.longDelay=m,me(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return function be(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(oe()||(0,$.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xe(w,g){me(w.emulator,"Emulator should always be set here");const{url:m}=w.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class st{static initialize(g,m,T){this.fetchImpl=g,m&&(this.headersImpl=m),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ne("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ne("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ne("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},vt=new Me(3e4,6e4);function ft(w,g){return w.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:w.tenantId}):g}function Ze(w,g,m,T){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,y.Z)(function*(w,g,m,T,A={}){return Cn(w,A,(0,y.Z)(function*(){let O={},J={};T&&("GET"===g?J=T:O={body:JSON.stringify(T)});const pe=(0,$.xO)(Object.assign({key:w.config.apiKey},J)).slice(1),ut=yield w._getAdditionalHeaders();return ut["Content-Type"]="application/json",w.languageCode&&(ut["X-Firebase-Locale"]=w.languageCode),st.fetch()(Qn(w,w.config.apiHost,m,pe),Object.assign({method:g,headers:ut,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function Cn(w,g,m){return wn.apply(this,arguments)}function wn(){return(wn=(0,y.Z)(function*(w,g,m){w._canInitEmulator=!1;const T=Object.assign(Object.assign({},hn),g);try{const A=new kr(w),O=yield Promise.race([m(),A.promise]);A.clearNetworkTimeout();const J=yield O.json();if("needConfirmation"in J)throw Xn(w,"account-exists-with-different-credential",J);if(O.ok&&!("errorMessage"in J))return J;{const pe=O.ok?J.errorMessage:J.error.message,[ut,wt]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ut)throw Xn(w,"credential-already-in-use",J);if("EMAIL_EXISTS"===ut)throw Xn(w,"email-already-in-use",J);if("USER_DISABLED"===ut)throw Xn(w,"user-disabled",J);const zt=T[ut]||ut.toLowerCase().replace(/[_\s]+/g,"-");if(wt)throw ve(w,zt,wt);Ae(w,zt)}}catch(A){if(A instanceof $.ZR)throw A;Ae(w,"internal-error",{message:String(A)})}})).apply(this,arguments)}function on(w,g,m,T){return nn.apply(this,arguments)}function nn(){return(nn=(0,y.Z)(function*(w,g,m,T,A={}){const O=yield Ze(w,g,m,T,A);return"mfaPendingCredential"in O&&Ae(w,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function Qn(w,g,m,T){const A=`${g}${m}?${T}`;return w.config.emulator?Xe(w.config,A):`${w.config.apiScheme}://${A}`}class kr{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,T)=>{this.timer=setTimeout(()=>T(ye(this.auth,"network-request-failed")),vt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xn(w,g,m){const T={appName:w.name};m.email&&(T.email=m.email),m.phoneNumber&&(T.phoneNumber=m.phoneNumber);const A=ye(w,g,T);return A.customData._tokenResponse=m,A}function Hr(){return(Hr=(0,y.Z)(function*(w,g){return Ze(w,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Mn(){return(Mn=(0,y.Z)(function*(w,g){return Ze(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Jn(){return(Jn=(0,y.Z)(function*(w,g){return Ze(w,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function dr(w){if(w)try{const g=new Date(Number(w));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Gr(){return(Gr=(0,y.Z)(function*(w,g=!1){const m=(0,$.m9)(w),T=yield m.getIdToken(g),A=ht(T);K(A&&A.exp&&A.auth_time&&A.iat,m.auth,"internal-error");const O="object"==typeof A.firebase?A.firebase:void 0,J=O?.sign_in_provider;return{claims:A,token:T,authTime:dr(St(A.auth_time)),issuedAtTime:dr(St(A.iat)),expirationTime:dr(St(A.exp)),signInProvider:J||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function St(w){return 1e3*Number(w)}function ht(w){const[g,m,T]=w.split(".");if(void 0===g||void 0===m||void 0===T)return we("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,$.tV)(m);return A?JSON.parse(A):(we("Failed to decode base64 JWT payload"),null)}catch(A){return we("Caught error parsing JWT payload as JSON",A?.toString()),null}}function mn(w,g){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,y.Z)(function*(w,g,m=!1){if(m)return g;try{return yield g}catch(T){throw T instanceof $.ZR&&function Un({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(T)&&w.auth.currentUser===w&&(yield w.auth.signOut()),T}})).apply(this,arguments)}class hr{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const A=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const T=this.getInterval(g);this.timerId=setTimeout((0,y.Z)(function*(){yield m.iteration()}),T)}iteration(){var g=this;return(0,y.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&g.schedule(!0))}g.schedule()})()}}class Sn{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=dr(this.lastLoginAt),this.creationTime=dr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vn(w){return Ot.apply(this,arguments)}function Ot(){return Ot=(0,y.Z)(function*(w){var g;const m=w.auth,T=yield w.getIdToken(),A=yield mn(w,function ot(w,g){return Jn.apply(this,arguments)}(m,{idToken:T}));K(A?.users.length,m,"internal-error");const O=A.users[0];w._notifyReloadListener(O);const J=null!==(g=O.providerUserInfo)&&void 0!==g&&g.length?function Bn(w){return w.map(g=>{var{providerId:m}=g,T=(0,Te._T)(g,["providerId"]);return{providerId:m,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}(O.providerUserInfo):[],pe=function Dr(w,g){return[...w.filter(T=>!g.some(A=>A.providerId===T.providerId)),...g]}(w.providerData,J),zt=!!w.isAnonymous&&!(w.email&&O.passwordHash||pe?.length),xn={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:pe,metadata:new Sn(O.createdAt,O.lastLoginAt),isAnonymous:zt};Object.assign(w,xn)}),Ot.apply(this,arguments)}function Vt(){return(Vt=(0,y.Z)(function*(w){const g=(0,$.m9)(w);yield Vn(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function _e(){return(_e=(0,y.Z)(function*(w,g){const m=yield Cn(w,{},(0,y.Z)(function*(){const T=(0,$.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:A,apiKey:O}=w.config,J=Qn(w,A,"/v1/token",`key=${O}`),pe=yield w._getAdditionalHeaders();return pe["Content-Type"]="application/x-www-form-urlencoded",st.fetch()(J,{method:"POST",headers:pe,body:T})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class tt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){K(g.idToken,"internal-error"),K(typeof g.idToken<"u","internal-error"),K(typeof g.refreshToken<"u","internal-error");const m="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function bt(w){const g=ht(w);return K(g,"internal-error"),K(typeof g.exp<"u","internal-error"),K(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var T=this;return(0,y.Z)(function*(){return K(!T.accessToken||T.refreshToken,g,"user-token-expired"),m||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(g,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var T=this;return(0,y.Z)(function*(){const{accessToken:A,refreshToken:O,expiresIn:J}=yield function He(w,g){return _e.apply(this,arguments)}(g,m);T.updateTokensAndExpiration(A,O,Number(J))})()}updateTokensAndExpiration(g,m,T){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(g,m){const{refreshToken:T,accessToken:A,expirationTime:O}=m,J=new tt;return T&&(K("string"==typeof T,"internal-error",{appName:g}),J.refreshToken=T),A&&(K("string"==typeof A,"internal-error",{appName:g}),J.accessToken=A),O&&(K("number"==typeof O,"internal-error",{appName:g}),J.expirationTime=O),J}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new tt,this.toJSON())}_performRefresh(){return ne("not implemented")}}function pt(w,g){K("string"==typeof w||typeof w>"u","internal-error",{appName:g})}class xt{constructor(g){var{uid:m,auth:T,stsTokenManager:A}=g,O=(0,Te._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=T,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new Sn(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,y.Z)(function*(){const T=yield mn(m,m.stsTokenManager.getToken(m.auth,g));return K(T,m.auth,"internal-error"),m.accessToken!==T&&(m.accessToken=T,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),T})()}getIdTokenResult(g){return function Fn(w){return Gr.apply(this,arguments)}(this,g)}reload(){return function zr(w){return Vt.apply(this,arguments)}(this)}_assign(g){this!==g&&(K(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const m=new xt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(g){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var T=this;return(0,y.Z)(function*(){let A=!1;g.idToken&&g.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(g),A=!0),m&&(yield Vn(T)),yield T.auth._persistUserIfCurrent(T),A&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var g=this;return(0,y.Z)(function*(){const m=yield g.getIdToken();return yield mn(g,function Mr(w,g){return Hr.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var T,A,O,J,pe,ut,wt,zt;const xn=null!==(T=m.displayName)&&void 0!==T?T:void 0,zi=null!==(A=m.email)&&void 0!==A?A:void 0,Pi=null!==(O=m.phoneNumber)&&void 0!==O?O:void 0,zs=null!==(J=m.photoURL)&&void 0!==J?J:void 0,Cu=null!==(pe=m.tenantId)&&void 0!==pe?pe:void 0,is=null!==(ut=m._redirectEventId)&&void 0!==ut?ut:void 0,Du=null!==(wt=m.createdAt)&&void 0!==wt?wt:void 0,Wd=null!==(zt=m.lastLoginAt)&&void 0!==zt?zt:void 0,{uid:qd,emailVerified:da,isAnonymous:Kd,providerData:Su,stsTokenManager:Sp}=m;K(qd&&Sp,g,"internal-error");const Zd=tt.fromJSON(this.name,Sp);K("string"==typeof qd,g,"internal-error"),pt(xn,g.name),pt(zi,g.name),K("boolean"==typeof da,g,"internal-error"),K("boolean"==typeof Kd,g,"internal-error"),pt(Pi,g.name),pt(zs,g.name),pt(Cu,g.name),pt(is,g.name),pt(Du,g.name),pt(Wd,g.name);const Wc=new xt({uid:qd,auth:g,email:zi,emailVerified:da,displayName:xn,isAnonymous:Kd,photoURL:zs,phoneNumber:Pi,tenantId:Cu,stsTokenManager:Zd,createdAt:Du,lastLoginAt:Wd});return Su&&Array.isArray(Su)&&(Wc.providerData=Su.map(Yd=>Object.assign({},Yd))),is&&(Wc._redirectEventId=is),Wc}static _fromIdTokenResponse(g,m,T=!1){return(0,y.Z)(function*(){const A=new tt;A.updateFromServerResponse(m);const O=new xt({uid:m.localId,auth:g,stsTokenManager:A,isAnonymous:T});return yield Vn(O),O})()}}const An=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,y.Z)(function*(){return!0})()}_set(m,T){var A=this;return(0,y.Z)(function*(){A.storage[m]=T})()}_get(m){var T=this;return(0,y.Z)(function*(){const A=T.storage[m];return void 0===A?null:A})()}_remove(m){var T=this;return(0,y.Z)(function*(){delete T.storage[m]})()}_addListener(m,T){}_removeListener(m,T){}}return w.type="NONE",w})();function j(w,g,m){return`firebase:${w}:${g}:${m}`}class B{constructor(g,m,T){this.persistence=g,this.auth=m,this.userKey=T;const{config:A,name:O}=this.auth;this.fullUserKey=j(this.userKey,A.apiKey,O),this.fullPersistenceKey=j("persistence",A.apiKey,O),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,y.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?xt._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,y.Z)(function*(){if(m.persistence===g)return;const T=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,T?m.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,T="authUser"){return(0,y.Z)(function*(){if(!m.length)return new B(Ve(An),g,T);const A=(yield Promise.all(m.map(function(){var wt=(0,y.Z)(function*(zt){if(yield zt._isAvailable())return zt});return function(zt){return wt.apply(this,arguments)}}()))).filter(wt=>wt);let O=A[0]||Ve(An);const J=j(T,g.config.apiKey,g.name);let pe=null;for(const wt of m)try{const zt=yield wt._get(J);if(zt){const xn=xt._fromJSON(g,zt);wt!==O&&(pe=xn),O=wt;break}}catch{}const ut=A.filter(wt=>wt._shouldAllowMigration);return O._shouldAllowMigration&&ut.length?(O=ut[0],pe&&(yield O._set(J,pe.toJSON())),yield Promise.all(m.map(function(){var wt=(0,y.Z)(function*(zt){if(zt!==O)try{yield zt._remove(J)}catch{}});return function(zt){return wt.apply(this,arguments)}}())),new B(O,g,T)):new B(O,g,T)})()}}function k(w){const g=w.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(ae(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(N(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(At(g))return"Blackberry";if(kt(g))return"Webos";if(x(g))return"Safari";if((g.includes("chrome/")||Z(g))&&!g.includes("edge/"))return"Chrome";if(nt(g))return"Android";{const T=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function N(w=(0,$.z$)()){return/firefox\//i.test(w)}function x(w=(0,$.z$)()){const g=w.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Z(w=(0,$.z$)()){return/crios\//i.test(w)}function ae(w=(0,$.z$)()){return/iemobile/i.test(w)}function nt(w=(0,$.z$)()){return/android/i.test(w)}function At(w=(0,$.z$)()){return/blackberry/i.test(w)}function kt(w=(0,$.z$)()){return/webos/i.test(w)}function Lt(w=(0,$.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function Ct(w=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function er(w=(0,$.z$)()){return Lt(w)||nt(w)||kt(w)||At(w)||/windows phone/i.test(w)||ae(w)}function Ls(w,g=[]){let m;switch(w){case"Browser":m=k((0,$.z$)());break;case"Worker":m=`${k((0,$.z$)())}-${w}`;break;default:m=w}const T=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${L.SDK_VERSION}/${T}`}class jo{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,m){const T=O=>new Promise((J,pe)=>{try{J(g(O))}catch(ut){pe(ut)}});T.onAbort=m,this.queue.push(T);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(g){var m=this;return(0,y.Z)(function*(){if(m.auth.currentUser===g)return;const T=[];try{for(const A of m.queue)yield A(g),A.onAbort&&T.push(A.onAbort)}catch(A){T.reverse();for(const O of T)try{O()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:A?.message})}})()}}class co{constructor(g,m,T){this.app=g,this.heartbeatServiceProvider=m,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X(this),this.idTokenSubscription=new X(this),this.beforeStateQueue=new jo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(g,m){var T=this;return m&&(this._popupRedirectResolver=Ve(m)),this._initializationPromise=this.queue((0,y.Z)(function*(){var A,O;if(!T._deleted&&(T.persistenceManager=yield B.create(T,g),!T._deleted)){if(null!==(A=T._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(m),T.lastNotifiedUid=(null===(O=T.currentUser)||void 0===O?void 0:O.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,y.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m,!0)}})()}initializeCurrentUser(g){var m=this;return(0,y.Z)(function*(){var T;const A=yield m.assertedPersistence.getCurrentUser();let O=A,J=!1;if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const pe=null===(T=m.redirectUser)||void 0===T?void 0:T._redirectEventId,ut=O?._redirectEventId,wt=yield m.tryRedirectSignIn(g);(!pe||pe===ut)&&wt?.user&&(O=wt.user,J=!0)}if(!O)return m.directlySetCurrentUser(null);if(!O._redirectEventId){if(J)try{yield m.beforeStateQueue.runMiddleware(O)}catch(pe){O=A,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(pe))}return O?m.reloadAndSetCurrentUserOrClear(O):m.directlySetCurrentUser(null)}return K(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===O._redirectEventId?m.directlySetCurrentUser(O):m.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(g){var m=this;return(0,y.Z)(function*(){let T=null;try{T=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch{yield m._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,y.Z)(function*(){try{yield Vn(g)}catch(T){if("auth/network-request-failed"!==T?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Ne(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var g=this;return(0,y.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,y.Z)(function*(){const T=g?(0,$.m9)(g):null;return T&&K(T.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(T&&T._clone(m))})()}_updateCurrentUser(g,m=!1){var T=this;return(0,y.Z)(function*(){if(!T._deleted)return g&&K(T.tenantId===g.tenantId,T,"tenant-id-mismatch"),m||(yield T.beforeStateQueue.runMiddleware(g)),T.queue((0,y.Z)(function*(){yield T.directlySetCurrentUser(g),T.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,y.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var m=this;return this.queue((0,y.Z)(function*(){yield m.assertedPersistence.setPersistence(Ve(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new $.LL("auth","Firebase",g())}onAuthStateChanged(g,m,T){return this.registerStateListener(this.authStateSubscription,g,m,T)}beforeAuthStateChanged(g,m){return this.beforeStateQueue.pushCallback(g,m)}onIdTokenChanged(g,m,T){return this.registerStateListener(this.idTokenSubscription,g,m,T)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var T=this;return(0,y.Z)(function*(){const A=yield T.getOrInitRedirectPersistenceManager(m);return null===g?A.removeCurrentUser():A.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,y.Z)(function*(){if(!m.redirectPersistenceManager){const T=g&&Ve(g)||m._popupRedirectResolver;K(T,m,"argument-error"),m.redirectPersistenceManager=yield B.create(m,[Ve(T._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,y.Z)(function*(){var T,A;return m._isInitialized&&(yield m.queue((0,y.Z)(function*(){}))),(null===(T=m._currentUser)||void 0===T?void 0:T._redirectEventId)===g?m._currentUser:(null===(A=m.redirectUser)||void 0===A?void 0:A._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,y.Z)(function*(){if(g===m.currentUser)return m.queue((0,y.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,T,A){if(this._deleted)return()=>{};const O="function"==typeof m?m:m.next.bind(m),J=this._isInitialized?Promise.resolve():this._initializationPromise;return K(J,this,"internal-error"),J.then(()=>O(this.currentUser)),"function"==typeof m?g.addObserver(m,T,A):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,y.Z)(function*(){m.currentUser&&m.currentUser!==g&&m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh(),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Ls(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,y.Z)(function*(){var m;const T={"X-Client-Version":g.clientVersion};g.app.options.appId&&(T["X-Firebase-gmpid"]=g.app.options.appId);const A=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return A&&(T["X-Firebase-Client"]=A),T})()}}function fr(w){return(0,$.m9)(w)}class X{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,$.ne)(m=>this.observer=m)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function fe(w,g,m){const T=fr(w);K(T._canInitEmulator,T,"emulator-config-failed"),K(/^https?:\/\//.test(g),T,"invalid-emulator-scheme");const A=!!m?.disableWarnings,O=Ue(g),{host:J,port:pe}=function ze(w){const g=Ue(w),m=/(\/\/)?([^?#/]+)/.exec(w.substr(g.length));if(!m)return{host:"",port:null};const T=m[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(T);if(A){const O=A[1];return{host:O,port:Kt(T.substr(O.length+1))}}{const[O,J]=T.split(":");return{host:O,port:Kt(J)}}}(g);T.config.emulator={url:`${O}//${J}${null===pe?"":`:${pe}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:J,port:pe,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function W(){function w(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function Ue(w){const g=w.indexOf(":");return g<0?"":w.substr(0,g+1)}function Kt(w){if(!w)return null;const g=Number(w);return isNaN(g)?null:g}class H{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return ne("not implemented")}_getIdTokenResponse(g){return ne("not implemented")}_linkToIdToken(g,m){return ne("not implemented")}_getReauthenticationResolver(g){return ne("not implemented")}}function te(w,g){return at.apply(this,arguments)}function at(){return(at=(0,y.Z)(function*(w,g){return Ze(w,"POST","/v1/accounts:resetPassword",ft(w,g))})).apply(this,arguments)}function Tt(w,g){return In.apply(this,arguments)}function In(){return(In=(0,y.Z)(function*(w,g){return Ze(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Qe(){return(Qe=(0,y.Z)(function*(w,g){return Ze(w,"POST","/v1/accounts:update",ft(w,g))})).apply(this,arguments)}function En(){return(En=(0,y.Z)(function*(w,g){return on(w,"POST","/v1/accounts:signInWithPassword",ft(w,g))})).apply(this,arguments)}function wr(w,g){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,y.Z)(function*(w,g){return Ze(w,"POST","/v1/accounts:sendOobCode",ft(w,g))})).apply(this,arguments)}function ms(){return(ms=(0,y.Z)(function*(w,g){return wr(w,g)})).apply(this,arguments)}function Ho(){return(Ho=(0,y.Z)(function*(w,g){return wr(w,g)})).apply(this,arguments)}function Zt(){return(Zt=(0,y.Z)(function*(w,g){return wr(w,g)})).apply(this,arguments)}function _s(){return(_s=(0,y.Z)(function*(w,g){return wr(w,g)})).apply(this,arguments)}function Fs(){return(Fs=(0,y.Z)(function*(w,g){return on(w,"POST","/v1/accounts:signInWithEmailLink",ft(w,g))})).apply(this,arguments)}function Us(){return(Us=(0,y.Z)(function*(w,g){return on(w,"POST","/v1/accounts:signInWithEmailLink",ft(w,g))})).apply(this,arguments)}class ys extends H{constructor(g,m,T,A=null){super("password",T),this._email=g,this._password=m,this._tenantId=A}static _fromEmailAndPassword(g,m){return new ys(g,m,"password")}static _fromEmailAndCode(g,m,T=null){return new ys(g,m,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,y.Z)(function*(){switch(m.signInMethod){case"password":return function $t(w,g){return En.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Pf(w,g){return Fs.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:Ae(g,"internal-error")}})()}_linkToIdToken(g,m){var T=this;return(0,y.Z)(function*(){switch(T.signInMethod){case"password":return Tt(g,{idToken:m,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function ti(w,g){return Us.apply(this,arguments)}(g,{idToken:m,email:T._email,oobCode:T._password});default:Ae(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Nr(w,g){return Go.apply(this,arguments)}function Go(){return(Go=(0,y.Z)(function*(w,g){return on(w,"POST","/v1/accounts:signInWithIdp",ft(w,g))})).apply(this,arguments)}class Gt extends H{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new Gt(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):Ae("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:T,signInMethod:A}=m,O=(0,Te._T)(m,["providerId","signInMethod"]);if(!T||!A)return null;const J=new Gt(T,A);return J.idToken=O.idToken||void 0,J.accessToken=O.accessToken||void 0,J.secret=O.secret,J.nonce=O.nonce,J.pendingToken=O.pendingToken||null,J}_getIdTokenResponse(g){return Nr(g,this.buildRequest())}_linkToIdToken(g,m){const T=this.buildRequest();return T.idToken=m,Nr(g,T)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Nr(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,$.xO)(m)}return g}}function eu(){return(eu=(0,y.Z)(function*(w,g){return Ze(w,"POST","/v1/accounts:sendVerificationCode",ft(w,g))})).apply(this,arguments)}function zo(){return(zo=(0,y.Z)(function*(w,g){return on(w,"POST","/v1/accounts:signInWithPhoneNumber",ft(w,g))})).apply(this,arguments)}function Vs(){return(Vs=(0,y.Z)(function*(w,g){const m=yield on(w,"POST","/v1/accounts:signInWithPhoneNumber",ft(w,g));if(m.temporaryProof)throw Xn(w,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const ni={USER_NOT_FOUND:"user-not-found"};function ri(){return(ri=(0,y.Z)(function*(w,g){return on(w,"POST","/v1/accounts:signInWithPhoneNumber",ft(w,Object.assign(Object.assign({},g),{operation:"REAUTH"})),ni)})).apply(this,arguments)}class Pr extends H{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new Pr({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new Pr({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function Of(w,g){return zo.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function fc(w,g){return Vs.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function qw(w,g){return ri.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:T,verificationCode:A}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:T,code:A}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:T,phoneNumber:A,temporaryProof:O}=g;return T||m||A||O?new Pr({verificationId:m,verificationCode:T,phoneNumber:A,temporaryProof:O}):null}}class Bs{constructor(g){var m,T,A,O,J,pe;const ut=(0,$.zd)((0,$.pd)(g)),wt=null!==(m=ut.apiKey)&&void 0!==m?m:null,zt=null!==(T=ut.oobCode)&&void 0!==T?T:null,xn=function ad(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=ut.mode)&&void 0!==A?A:null);K(wt&&zt&&xn,"argument-error"),this.apiKey=wt,this.operation=xn,this.code=zt,this.continueUrl=null!==(O=ut.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(J=ut.languageCode)&&void 0!==J?J:null,this.tenantId=null!==(pe=ut.tenantId)&&void 0!==pe?pe:null}static parseLink(g){const m=function tu(w){const g=(0,$.zd)((0,$.pd)(w)).link,m=g?(0,$.zd)((0,$.pd)(g)).deep_link_id:null,T=(0,$.zd)((0,$.pd)(w)).deep_link_id;return(T?(0,$.zd)((0,$.pd)(T)).link:null)||T||m||g||w}(g);try{return new Bs(m)}catch{return null}}}let ud=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(m,T){return ys._fromEmailAndPassword(m,T)}static credentialWithLink(m,T){const A=Bs.parseLink(T);return K(A,"argument-error"),ys._fromEmailAndCode(m,A.code,A.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class $s{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Wo extends $s{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class nu extends Wo{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return K("providerId"in m&&"signInMethod"in m,"argument-error"),Gt._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return K(g.idToken||g.accessToken,"argument-error"),Gt._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return nu.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return nu.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:T,oauthTokenSecret:A,pendingToken:O,nonce:J,providerId:pe}=g;if(!T&&!A&&!m&&!O||!pe)return null;try{return new nu(pe)._credential({idToken:m,accessToken:T,nonce:J,pendingToken:O})}catch{return null}}}let Kw=(()=>{class w extends Wo{constructor(){super("facebook.com")}static credential(m){return Gt._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return w.credential(m.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),h_=(()=>{class w extends Wo{constructor(){super("google.com"),this.addScope("profile")}static credential(m,T){return Gt._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:T})}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:T,oauthAccessToken:A}=m;if(!T&&!A)return null;try{return w.credential(T,A)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Zw=(()=>{class w extends Wo{constructor(){super("github.com")}static credential(m){return Gt._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return w.credential(m.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class ru extends H{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return Nr(g,this.buildRequest())}_linkToIdToken(g,m){const T=this.buildRequest();return T.idToken=m,Nr(g,T)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Nr(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:T,signInMethod:A,pendingToken:O}=m;return T&&A&&O&&T===A?new ru(T,O):null}static _create(g,m){return new ru(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class iu extends $s{constructor(g){K(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return iu.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return iu.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=ru.fromJSON(g);return K(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:T}=g;if(!m||!T)return null;try{return ru._create(T,m)}catch{return null}}}let dD=(()=>{class w extends Wo{constructor(){super("twitter.com")}static credential(m,T){return Gt._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:T})}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:T,oauthTokenSecret:A}=m;if(!T||!A)return null;try{return w.credential(T,A)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Qw(w,g){return Ff.apply(this,arguments)}function Ff(){return(Ff=(0,y.Z)(function*(w,g){return on(w,"POST","/v1/accounts:signUp",ft(w,g))})).apply(this,arguments)}class xi{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,T,A=!1){return(0,y.Z)(function*(){const O=yield xt._fromIdTokenResponse(g,T,A),J=f_(T);return new xi({user:O,providerId:J,_tokenResponse:T,operationType:m})})()}static _forOperation(g,m,T){return(0,y.Z)(function*(){yield g._updateTokensIfNecessary(T,!0);const A=f_(T);return new xi({user:g,providerId:A,_tokenResponse:T,operationType:m})})()}}function f_(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Uf(w){return pc.apply(this,arguments)}function pc(){return(pc=(0,y.Z)(function*(w){var g;const m=fr(w);if(yield m._initializationPromise,null!==(g=m.currentUser)&&void 0!==g&&g.isAnonymous)return new xi({user:m.currentUser,providerId:null,operationType:"signIn"});const T=yield Qw(m,{returnSecureToken:!0}),A=yield xi._fromIdTokenResponse(m,"signIn",T,!0);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class cd extends $.ZR{constructor(g,m,T,A){var O;super(m.code,m.message),this.operationType=T,this.user=A,Object.setPrototypeOf(this,cd.prototype),this.customData={appName:g.name,tenantId:null!==(O=g.tenantId)&&void 0!==O?O:void 0,_serverResponse:m.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(g,m,T,A){return new cd(g,m,T,A)}}function p_(w,g,m,T){return("reauthenticate"===g?m._getReauthenticationResolver(w):m._getIdTokenResponse(w)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?cd._fromErrorAndOperation(w,O,g,T):O})}function Xw(w){return new Set(w.map(({providerId:g})=>g).filter(g=>!!g))}function qo(w,g){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,y.Z)(function*(w,g){const m=(0,$.m9)(w);yield ou(!0,m,g);const{providerUserInfo:T}=yield function gn(w,g){return Mn.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),A=Xw(T||[]);return m.providerData=m.providerData.filter(O=>A.has(O.providerId)),A.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),Vf.apply(this,arguments)}function su(w,g){return gc.apply(this,arguments)}function gc(){return(gc=(0,y.Z)(function*(w,g,m=!1){const T=yield mn(w,g._linkToIdToken(w.auth,yield w.getIdToken()),m);return xi._forOperation(w,"link",T)})).apply(this,arguments)}function ou(w,g,m){return ld.apply(this,arguments)}function ld(){return(ld=(0,y.Z)(function*(w,g,m){yield Vn(g);const A=!1===w?"provider-already-linked":"no-such-provider";K(Xw(g.providerData).has(m)===w,g.auth,A)})).apply(this,arguments)}function Bf(w,g){return mc.apply(this,arguments)}function mc(){return(mc=(0,y.Z)(function*(w,g,m=!1){const{auth:T}=w,A="reauthenticate";try{const O=yield mn(w,p_(T,A,g,w),m);K(O.idToken,T,"internal-error");const J=ht(O.idToken);K(J,T,"internal-error");const{sub:pe}=J;return K(w.uid===pe,T,"user-mismatch"),xi._forOperation(w,A,O)}catch(O){throw"auth/user-not-found"===O?.code&&Ae(T,"user-mismatch"),O}})).apply(this,arguments)}function g_(w,g){return lo.apply(this,arguments)}function lo(){return(lo=(0,y.Z)(function*(w,g,m=!1){const T="signIn",A=yield p_(w,T,g),O=yield xi._fromIdTokenResponse(w,T,A);return m||(yield w._updateCurrentUser(O.user)),O})).apply(this,arguments)}function dd(w,g){return hi.apply(this,arguments)}function hi(){return(hi=(0,y.Z)(function*(w,g){return g_(fr(w),g)})).apply(this,arguments)}function hd(w,g){return _c.apply(this,arguments)}function _c(){return(_c=(0,y.Z)(function*(w,g){const m=(0,$.m9)(w);return yield ou(!1,m,g.providerId),su(m,g)})).apply(this,arguments)}function nr(w,g){return fd.apply(this,arguments)}function fd(){return(fd=(0,y.Z)(function*(w,g){return Bf((0,$.m9)(w),g)})).apply(this,arguments)}function ii(){return(ii=(0,y.Z)(function*(w,g){return on(w,"POST","/v1/accounts:signInWithCustomToken",ft(w,g))})).apply(this,arguments)}function m_(w,g){return pd.apply(this,arguments)}function pd(){return pd=(0,y.Z)(function*(w,g){const m=fr(w),T=yield function ho(w,g){return ii.apply(this,arguments)}(m,{token:g,returnSecureToken:!0}),A=yield xi._fromIdTokenResponse(m,"signIn",T);return yield m._updateCurrentUser(A.user),A}),pd.apply(this,arguments)}class vs{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?si._fromServerResponse(g,m):Ae(g,"internal-error")}}class si extends vs{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new si(m)}}function yc(w,g,m){var T;K((null===(T=m.url)||void 0===T?void 0:T.length)>0,w,"invalid-continue-uri"),K(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(K(m.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(K(m.android.packageName.length>0,w,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function vc(w,g,m){return $f.apply(this,arguments)}function $f(){return $f=(0,y.Z)(function*(w,g,m){const T=(0,$.m9)(w),A={requestType:"PASSWORD_RESET",email:g};m&&yc(T,A,m),yield function tr(w,g){return Ho.apply(this,arguments)}(T,A)}),$f.apply(this,arguments)}function js(w,g,m){return wc.apply(this,arguments)}function wc(){return(wc=(0,y.Z)(function*(w,g,m){yield te((0,$.m9)(w),{oobCode:g,newPassword:m})})).apply(this,arguments)}function gd(w,g){return Bt.apply(this,arguments)}function Bt(){return Bt=(0,y.Z)(function*(w,g){yield function Nn(w,g){return Qe.apply(this,arguments)}((0,$.m9)(w),{oobCode:g})}),Bt.apply(this,arguments)}function jf(w,g){return Hf.apply(this,arguments)}function Hf(){return(Hf=(0,y.Z)(function*(w,g){const m=(0,$.m9)(w),T=yield te(m,{oobCode:g}),A=T.requestType;switch(K(A,m,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":K(T.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":K(T.mfaInfo,m,"internal-error");default:K(T.email,m,"internal-error")}let O=null;return T.mfaInfo&&(O=vs._fromServerResponse(fr(m),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:O},operation:A}})).apply(this,arguments)}function __(w,g){return md.apply(this,arguments)}function md(){return(md=(0,y.Z)(function*(w,g){const{data:m}=yield jf((0,$.m9)(w),g);return m.email})).apply(this,arguments)}function y_(w,g,m){return _d.apply(this,arguments)}function _d(){return(_d=(0,y.Z)(function*(w,g,m){const T=fr(w),A=yield Qw(T,{returnSecureToken:!0,email:g,password:m}),O=yield xi._fromIdTokenResponse(T,"signIn",A);return yield T._updateCurrentUser(O.user),O})).apply(this,arguments)}function v_(w,g,m){return dd((0,$.m9)(w),ud.credential(g,m))}function rr(w,g,m){return Ce.apply(this,arguments)}function Ce(){return Ce=(0,y.Z)(function*(w,g,m){const T=(0,$.m9)(w),A={requestType:"EMAIL_SIGNIN",email:g};K(m.handleCodeInApp,T,"argument-error"),m&&yc(T,A,m),yield function hc(w,g){return Zt.apply(this,arguments)}(T,A)}),Ce.apply(this,arguments)}function cn(w,g){return"EMAIL_SIGNIN"===Bs.parseLink(g)?.operation}function w_(w,g,m){return yd.apply(this,arguments)}function yd(){return(yd=(0,y.Z)(function*(w,g,m){const T=(0,$.m9)(w),A=ud.credentialWithLink(g,m||re());return K(A._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),dd(T,A)})).apply(this,arguments)}function vd(){return(vd=(0,y.Z)(function*(w,g){return Ze(w,"POST","/v1/accounts:createAuthUri",ft(w,g))})).apply(this,arguments)}function au(w,g){return Hi.apply(this,arguments)}function Hi(){return Hi=(0,y.Z)(function*(w,g){const T={identifier:g,continueUri:oe()?re():"http://localhost"},{signinMethods:A}=yield function Wr(w,g){return vd.apply(this,arguments)}((0,$.m9)(w),T);return A||[]}),Hi.apply(this,arguments)}function Gf(w,g){return Ic.apply(this,arguments)}function Ic(){return Ic=(0,y.Z)(function*(w,g){const m=(0,$.m9)(w),A={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};g&&yc(m.auth,A,g);const{email:O}=yield function pr(w,g){return ms.apply(this,arguments)}(m.auth,A);O!==w.email&&(yield w.reload())}),Ic.apply(this,arguments)}function zf(w,g,m){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,y.Z)(function*(w,g,m){const T=(0,$.m9)(w),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:g};m&&yc(T.auth,O,m);const{email:J}=yield function Ja(w,g){return _s.apply(this,arguments)}(T.auth,O);J!==w.email&&(yield w.reload())}),Wf.apply(this,arguments)}function Ir(){return(Ir=(0,y.Z)(function*(w,g){return Ze(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ei(w,g){return wd.apply(this,arguments)}function wd(){return wd=(0,y.Z)(function*(w,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const T=(0,$.m9)(w),O={idToken:yield T.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},J=yield mn(T,function qf(w,g){return Ir.apply(this,arguments)}(T.auth,O));T.displayName=J.displayName||null,T.photoURL=J.photoUrl||null;const pe=T.providerData.find(({providerId:ut})=>"password"===ut);pe&&(pe.displayName=T.displayName,pe.photoURL=T.photoURL),yield T._updateTokensIfNecessary(J)}),wd.apply(this,arguments)}function uu(w,g){return Id((0,$.m9)(w),g,null)}function es(w,g){return Id((0,$.m9)(w),null,g)}function Id(w,g,m){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,y.Z)(function*(w,g,m){const{auth:T}=w,O={idToken:yield w.getIdToken(),returnSecureToken:!0};g&&(O.email=g),m&&(O.password=m);const J=yield mn(w,Tt(T,O));yield w._updateTokensIfNecessary(J,!0)})).apply(this,arguments)}class Ko{constructor(g,m,T={}){this.isNewUser=g,this.providerId=m,this.profile=T}}class cu extends Ko{constructor(g,m,T,A){super(g,m,T),this.username=A}}class Kf extends Ko{constructor(g,m){super(g,"facebook.com",m)}}class I_ extends cu{constructor(g,m){super(g,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Zf extends Ko{constructor(g,m){super(g,"google.com",m)}}class eI extends cu{constructor(g,m,T){super(g,"twitter.com",m,T)}}function E_(w){const{user:g,_tokenResponse:m}=w;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Jw(w){var g,m;if(!w)return null;const{providerId:T}=w,A=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},O=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!T&&w?.idToken){const J=null===(m=null===(g=ht(w.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(J)return new Ko(O,"anonymous"!==J&&"custom"!==J?J:null)}if(!T)return null;switch(T){case"facebook.com":return new Kf(O,A);case"github.com":return new I_(O,A);case"google.com":return new Zf(O,A);case"twitter.com":return new eI(O,A,w.screenName||null);case"custom":case"anonymous":return new Ko(O,null);default:return new Ko(O,T,A)}}(m)}function Yf(w,g,m,T){return(0,$.m9)(w).onIdTokenChanged(g,m,T)}function C_(w,g,m,T){return(0,$.m9)(w).onAuthStateChanged(g,m,T)}function nI(w){return(0,$.m9)(w).signOut()}class ki{constructor(g,m,T){this.type=g,this.credential=m,this.auth=T}static _fromIdtoken(g,m){return new ki("enroll",g,m)}static _fromMfaPendingCredential(g){return new ki("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,T;if(g?.multiFactorSession){if(null!==(m=g.multiFactorSession)&&void 0!==m&&m.pendingCredential)return ki._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(T=g.multiFactorSession)&&void 0!==T&&T.idToken)return ki._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Pn{constructor(g,m,T){this.session=g,this.hints=m,this.signInResolver=T}static _fromError(g,m){const T=fr(g),A=m.customData._serverResponse,O=(A.mfaInfo||[]).map(pe=>vs._fromServerResponse(T,pe));K(A.mfaPendingCredential,T,"internal-error");const J=ki._fromMfaPendingCredential(A.mfaPendingCredential);return new Pn(J,O,function(){var pe=(0,y.Z)(function*(ut){const wt=yield ut._process(T,J);delete A.mfaInfo,delete A.mfaPendingCredential;const zt=Object.assign(Object.assign({},A),{idToken:wt.idToken,refreshToken:wt.refreshToken});switch(m.operationType){case"signIn":const xn=yield xi._fromIdTokenResponse(T,m.operationType,zt);return yield T._updateCurrentUser(xn.user),xn;case"reauthenticate":return K(m.user,T,"internal-error"),xi._forOperation(m.user,m.operationType,zt);default:Ae(T,"internal-error")}});return function(ut){return pe.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,y.Z)(function*(){return m.signInResolver(g)})()}}function iI(w,g){var m;const T=(0,$.m9)(w),A=g;return K(g.customData.operationType,T,"argument-error"),K(null===(m=A.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,T,"argument-error"),Pn._fromError(T,A)}class Xf{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(T=>vs._fromServerResponse(g.auth,T)))})}static _fromUser(g){return new Xf(g)}getSession(){var g=this;return(0,y.Z)(function*(){return ki._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,m){var T=this;return(0,y.Z)(function*(){const A=g,O=yield T.getSession(),J=yield mn(T.user,A._process(T.user.auth,O,m));return yield T.user._updateTokensIfNecessary(J),T.user.reload()})()}unenroll(g){var m=this;return(0,y.Z)(function*(){const T="string"==typeof g?g:g.uid,A=yield m.user.getIdToken();try{const O=yield mn(m.user,function aI(w,g){return Ze(w,"POST","/v2/accounts/mfaEnrollment:withdraw",ft(w,g))}(m.user.auth,{idToken:A,mfaEnrollmentId:T}));m.enrolledFactors=m.enrolledFactors.filter(({uid:J})=>J!==T),yield m.user._updateTokensIfNecessary(O),yield m.user.reload()}catch(O){throw O}})()}}const Jf=new WeakMap;function Td(w){const g=(0,$.m9)(w);return Jf.has(g)||Jf.set(g,Xf._fromUser(g)),Jf.get(g)}const Zo="__sak";class lu{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Zo,"1"),this.storage.removeItem(Zo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Qo=(()=>{class w extends lu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,T)=>this.onStorageEvent(m,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function du(){const w=(0,$.z$)();return x(w)||Lt(w)}()&&function gs(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=er(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const T of Object.keys(this.listeners)){const A=this.storage.getItem(T),O=this.localCache[T];A!==O&&m(T,O,A)}}onStorageEvent(m,T=!1){if(!m.key)return void this.forAllChangedKeys((pe,ut,wt)=>{this.notifyListeners(pe,wt)});const A=m.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pe=this.storage.getItem(A);if(m.newValue!==pe)null!==m.newValue?this.storage.setItem(A,m.newValue):this.storage.removeItem(A);else if(this.localCache[A]===m.newValue&&!T)return}const O=()=>{const pe=this.storage.getItem(A);!T&&this.localCache[A]===pe||this.notifyListeners(A,pe)},J=this.storage.getItem(A);!function Ht(){return(0,$.w1)()&&10===document.documentMode}()||J===m.newValue||m.newValue===m.oldValue?O():setTimeout(O,10)}notifyListeners(m,T){this.localCache[m]=T;const A=this.listeners[m];if(A)for(const O of Array.from(A))O(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,T,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:T,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(T)}_removeListener(m,T){this.listeners[m]&&(this.listeners[m].delete(T),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,T){var A=()=>super._set,O=this;return(0,y.Z)(function*(){yield A().call(O,m,T),O.localCache[m]=JSON.stringify(T)})()}_get(m){var T=()=>super._get,A=this;return(0,y.Z)(function*(){const O=yield T().call(A,m);return A.localCache[m]=JSON.stringify(O),O})()}_remove(m){var T=()=>super._remove,A=this;return(0,y.Z)(function*(){yield T().call(A,m),delete A.localCache[m]})()}}return w.type="LOCAL",w})(),ep=(()=>{class w extends lu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,T){}_removeListener(m,T){}}return w.type="SESSION",w})();let uI=(()=>{class w{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const T=this.receivers.find(O=>O.isListeningto(m));if(T)return T;const A=new w(m);return this.receivers.push(A),A}isListeningto(m){return this.eventTarget===m}handleEvent(m){var T=this;return(0,y.Z)(function*(){const A=m,{eventId:O,eventType:J,data:pe}=A.data,ut=T.handlersMap[J];if(!ut?.size)return;A.ports[0].postMessage({status:"ack",eventId:O,eventType:J});const wt=Array.from(ut).map(function(){var xn=(0,y.Z)(function*(zi){return zi(A.origin,pe)});return function(zi){return xn.apply(this,arguments)}}()),zt=yield function bd(w){return Promise.all(w.map(function(){var g=(0,y.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(T){return{fulfilled:!1,reason:T}}});return function(m){return g.apply(this,arguments)}}()))}(wt);A.ports[0].postMessage({status:"done",eventId:O,eventType:J,response:zt})})()}_subscribe(m,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(T)}_unsubscribe(m,T){this.handlersMap[m]&&T&&this.handlersMap[m].delete(T),(!T||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function hu(w="",g=10){let m="";for(let T=0;T<g;T++)m+=Math.floor(10*Math.random());return w+m}class Ec{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,T=50){var A=this;return(0,y.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let J,pe;return new Promise((ut,wt)=>{const zt=hu("",20);O.port1.start();const xn=setTimeout(()=>{wt(new Error("unsupported_event"))},T);pe={messageChannel:O,onMessage(zi){const Pi=zi;if(Pi.data.eventId===zt)switch(Pi.data.status){case"ack":clearTimeout(xn),J=setTimeout(()=>{wt(new Error("timeout"))},3e3);break;case"done":clearTimeout(J),ut(Pi.data.response);break;default:clearTimeout(xn),clearTimeout(J),wt(new Error("invalid_response"))}}},A.handlers.add(pe),O.port1.addEventListener("message",pe.onMessage),A.target.postMessage({eventType:g,eventId:zt,data:m},[O.port2])}).finally(()=>{pe&&A.removeMessageHandler(pe)})})()}}function ir(){return window}function Xo(){return typeof ir().WorkerGlobalScope<"u"&&"function"==typeof ir().importScripts}function ea(){return(ea=(0,y.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Tc="firebaseLocalStorageDb",bc=1,Cc="firebaseLocalStorage",fu="fbase_key";class Gs{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function po(w,g){return w.transaction([Cc],g?"readwrite":"readonly").objectStore(Cc)}function pu(){const w=indexedDB.open(Tc,bc);return new Promise((g,m)=>{w.addEventListener("error",()=>{m(w.error)}),w.addEventListener("upgradeneeded",()=>{const T=w.result;try{T.createObjectStore(Cc,{keyPath:fu})}catch(A){m(A)}}),w.addEventListener("success",(0,y.Z)(function*(){const T=w.result;T.objectStoreNames.contains(Cc)?g(T):(T.close(),yield function cI(){const w=indexedDB.deleteDatabase(Tc);return new Gs(w).toPromise()}(),g(yield pu()))}))})}function Dc(w,g,m){return gu.apply(this,arguments)}function gu(){return(gu=(0,y.Z)(function*(w,g,m){const T=po(w,!0).put({[fu]:g,value:m});return new Gs(T).toPromise()})).apply(this,arguments)}function Dd(){return(Dd=(0,y.Z)(function*(w,g){const m=po(w,!1).get(g),T=yield new Gs(m).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function ta(w,g){const m=po(w,!0).delete(g);return new Gs(m).toPromise()}const mu=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,y.Z)(function*(){return m.db||(m.db=yield pu()),m.db})()}_withRetries(m){var T=this;return(0,y.Z)(function*(){let A=0;for(;;)try{const O=yield T._openDb();return yield m(O)}catch(O){if(A++>3)throw O;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,y.Z)(function*(){return Xo()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,y.Z)(function*(){m.receiver=uI._getInstance(function Cd(){return Xo()?self:null}()),m.receiver._subscribe("keyChanged",function(){var T=(0,y.Z)(function*(A,O){return{keyProcessed:(yield m._poll()).includes(O.key)}});return function(A,O){return T.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var T=(0,y.Z)(function*(A,O){return["keyChanged"]});return function(A,O){return T.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,y.Z)(function*(){var T,A;if(m.activeServiceWorker=yield function Jo(){return ea.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Ec(m.activeServiceWorker);const O=yield m.sender._send("ping",{},800);O&&null!==(T=O[0])&&void 0!==T&&T.fulfilled&&null!==(A=O[0])&&void 0!==A&&A.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var T=this;return(0,y.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function fo(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:m},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,y.Z)(function*(){try{if(!indexedDB)return!1;const m=yield pu();return yield Dc(m,Zo,"1"),yield ta(m,Zo),!0}catch{}return!1})()}_withPendingWrite(m){var T=this;return(0,y.Z)(function*(){T.pendingWrites++;try{yield m()}finally{T.pendingWrites--}})()}_set(m,T){var A=this;return(0,y.Z)(function*(){return A._withPendingWrite((0,y.Z)(function*(){return yield A._withRetries(O=>Dc(O,m,T)),A.localCache[m]=T,A.notifyServiceWorker(m)}))})()}_get(m){var T=this;return(0,y.Z)(function*(){const A=yield T._withRetries(O=>function Mi(w,g){return Dd.apply(this,arguments)}(O,m));return T.localCache[m]=A,A})()}_remove(m){var T=this;return(0,y.Z)(function*(){return T._withPendingWrite((0,y.Z)(function*(){return yield T._withRetries(A=>ta(A,m)),delete T.localCache[m],T.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,y.Z)(function*(){const T=yield m._withRetries(J=>{const pe=po(J,!1).getAll();return new Gs(pe).toPromise()});if(!T)return[];if(0!==m.pendingWrites)return[];const A=[],O=new Set;for(const{fbase_key:J,value:pe}of T)O.add(J),JSON.stringify(m.localCache[J])!==JSON.stringify(pe)&&(m.notifyListeners(J,pe),A.push(J));for(const J of Object.keys(m.localCache))m.localCache[J]&&!O.has(J)&&(m.notifyListeners(J,null),A.push(J));return A})()}notifyListeners(m,T){this.localCache[m]=T;const A=this.listeners[m];if(A)for(const O of Array.from(A))O(T)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,y.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(T)}_removeListener(m,T){this.listeners[m]&&(this.listeners[m].delete(T),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function Rc(){return(Rc=(0,y.Z)(function*(w){return(yield Ze(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function xc(w){return new Promise((g,m)=>{const T=document.createElement("script");T.setAttribute("src",w),T.onload=g,T.onerror=A=>{const O=ye("internal-error");O.customData=A,m(O)},T.type="text/javascript",T.charset="UTF-8",function rp(){var w,g;return null!==(g=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==g?g:document}().appendChild(T)})}function kc(w){return`__${w}${Math.floor(1e6*Math.random())}`}const Mc=1e12;class sp{constructor(g){this.auth=g,this.counter=Mc,this._widgets=new Map}render(g,m){const T=this.counter;return this._widgets.set(T,new ra(g,this.auth.name,m||{})),this.counter++,T}reset(g){var m;const T=g||Mc;null===(m=this._widgets.get(T))||void 0===m||m.delete(),this._widgets.delete(T)}getResponse(g){var m;return(null===(m=this._widgets.get(g||Mc))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,y.Z)(function*(){var T;return null===(T=m._widgets.get(g||Mc))||void 0===T||T.execute(),""})()}}class ra{constructor(g,m,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof g?document.getElementById(g):g;K(A,"argument-error",{appName:m}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function x_(w){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<w;T++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const _u=kc("rcb"),Ad=new Me(3e4,6e4);class Rd{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=ir().grecaptcha)||void 0===g||!g.render)}load(g,m=""){return K(function Nc(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(m),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(ir().grecaptcha):new Promise((T,A)=>{const O=ir().setTimeout(()=>{A(ye(g,"network-request-failed"))},Ad.get());ir()[_u]=()=>{ir().clearTimeout(O),delete ir()[_u];const pe=ir().grecaptcha;if(!pe)return void A(ye(g,"internal-error"));const ut=pe.render;pe.render=(wt,zt)=>{const xn=ut(wt,zt);return this.counter++,xn},this.hostLanguage=m,T(pe)},xc(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:_u,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(O),A(ye(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var m;return!(null===(m=ir().grecaptcha)||void 0===m||!m.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ia{load(g){return(0,y.Z)(function*(){return new sp(g)})()}clearedOneInstance(){}}const sa="recaptcha",oa={theme:"light",type:"image"};class k_{constructor(g,m=Object.assign({},oa),T){this.parameters=m,this.type=sa,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fr(T),this.isInvisible="invisible"===this.parameters.size,K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof g?document.getElementById(g):g;K(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ia:new Rd,this.validateStartingState()}verify(){var g=this;return(0,y.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),T=g.getAssertedRecaptcha();return T.getResponse(m)||new Promise(O=>{const J=pe=>{pe&&(g.tokenChangeListeners.delete(J),O(pe))};g.tokenChangeListeners.add(J),g.isInvisible&&T.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){K(!this.parameters.sitekey,this.auth,"argument-error"),K(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(T=>T(m)),"function"==typeof g)g(m);else if("string"==typeof g){const T=ir()[g];"function"==typeof T&&T(m)}}}assertNotDestroyed(){K(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,y.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const T=document.createElement("div");m.appendChild(T),m=T}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,y.Z)(function*(){K(oe()&&!Xo(),g.auth,"internal-error"),yield function xd(){let w=null;return new Promise(g=>{"complete"!==document.readyState?(w=()=>g(),window.addEventListener("load",w)):g()}).catch(g=>{throw w&&window.removeEventListener("load",w),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function np(w){return Rc.apply(this,arguments)}(g.auth);K(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return K(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ws{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=Pr._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function M_(w,g,m){return ts.apply(this,arguments)}function ts(){return(ts=(0,y.Z)(function*(w,g,m){const T=fr(w),A=yield cp(T,g,(0,$.m9)(m));return new ws(A,O=>dd(T,O))})).apply(this,arguments)}function Rn(w,g,m){return ap.apply(this,arguments)}function ap(){return(ap=(0,y.Z)(function*(w,g,m){const T=(0,$.m9)(w);yield ou(!1,T,"phone");const A=yield cp(T.auth,g,(0,$.m9)(m));return new ws(A,O=>hd(T,O))})).apply(this,arguments)}function up(w,g,m){return kd.apply(this,arguments)}function kd(){return(kd=(0,y.Z)(function*(w,g,m){const T=(0,$.m9)(w),A=yield cp(T.auth,g,(0,$.m9)(m));return new ws(A,O=>nr(T,O))})).apply(this,arguments)}function cp(w,g,m){return N_.apply(this,arguments)}function N_(){return N_=(0,y.Z)(function*(w,g,m){var T;const A=yield m.verify();try{let O;if(K("string"==typeof A,w,"argument-error"),K(m.type===sa,w,"argument-error"),O="string"==typeof g?{phoneNumber:g}:g,"session"in O){const J=O.session;if("phoneNumber"in O)return K("enroll"===J.type,w,"internal-error"),(yield function sI(w,g){return Ze(w,"POST","/v2/accounts/mfaEnrollment:start",ft(w,g))}(w,{idToken:J.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{K("signin"===J.type,w,"internal-error");const pe=(null===(T=O.multiFactorHint)||void 0===T?void 0:T.uid)||O.multiFactorUid;return K(pe,w,"missing-multi-factor-info"),(yield function R_(w,g){return Ze(w,"POST","/v2/accounts/mfaSignIn:start",ft(w,g))}(w,{mfaPendingCredential:J.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:J}=yield function Ww(w,g){return eu.apply(this,arguments)}(w,{phoneNumber:O.phoneNumber,recaptchaToken:A});return J}}finally{m._reset()}}),N_.apply(this,arguments)}function hD(w,g){return lp.apply(this,arguments)}function lp(){return(lp=(0,y.Z)(function*(w,g){yield su((0,$.m9)(w),g)})).apply(this,arguments)}let Pc=(()=>{class w{constructor(m){this.providerId=w.PROVIDER_ID,this.auth=fr(m)}verifyPhoneNumber(m,T){return cp(this.auth,m,(0,$.m9)(T))}static credential(m,T){return Pr._fromVerification(m,T)}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:T,temporaryProof:A}=m;return T&&A?Pr._fromTokenResponse(T,A):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function yu(w,g){return g?Ve(g):(K(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class P_ extends H{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Nr(g,this._buildIdpRequest())}_linkToIdToken(g,m){return Nr(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return Nr(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function Sr(w){return g_(w.auth,new P_(w),w.bypassAuthState)}function dp(w){const{auth:g,user:m}=w;return K(m,g,"internal-error"),Bf(m,new P_(w),w.bypassAuthState)}function vu(w){return hp.apply(this,arguments)}function hp(){return(hp=(0,y.Z)(function*(w){const{auth:g,user:m}=w;return K(m,g,"internal-error"),su(m,new P_(w),w.bypassAuthState)})).apply(this,arguments)}class Ni{constructor(g,m,T,A,O=!1){this.auth=g,this.resolver=T,this.user=A,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,y.Z)(function*(T,A){g.pendingPromise={resolve:T,reject:A};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(O){g.reject(O)}});return function(T,A){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,y.Z)(function*(){const{urlResponse:T,sessionId:A,postBody:O,tenantId:J,error:pe,type:ut}=g;if(pe)return void m.reject(pe);const wt={auth:m.auth,requestUri:T,sessionId:A,tenantId:J||void 0,postBody:O||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(ut)(wt))}catch(zt){m.reject(zt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Sr;case"linkViaPopup":case"linkViaRedirect":return vu;case"reauthViaPopup":case"reauthViaRedirect":return dp;default:Ae(this.auth,"internal-error")}}resolve(g){me(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){me(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const aa=new Me(2e3,1e4);function O_(w,g,m){return wu.apply(this,arguments)}function wu(){return(wu=(0,y.Z)(function*(w,g,m){const T=fr(w);Ie(w,g,$s);const A=yu(T,m);return new L_(T,"signInViaPopup",g,A).executeNotNull()})).apply(this,arguments)}function Oc(w,g,m){return fp.apply(this,arguments)}function fp(){return(fp=(0,y.Z)(function*(w,g,m){const T=(0,$.m9)(w);Ie(T.auth,g,$s);const A=yu(T.auth,m);return new L_(T.auth,"reauthViaPopup",g,A,T).executeNotNull()})).apply(this,arguments)}function fD(w,g,m){return Md.apply(this,arguments)}function Md(){return(Md=(0,y.Z)(function*(w,g,m){const T=(0,$.m9)(w);Ie(T.auth,g,$s);const A=yu(T.auth,m);return new L_(T.auth,"linkViaPopup",g,A,T).executeNotNull()})).apply(this,arguments)}let L_=(()=>{class w extends Ni{constructor(m,T,A,O,J){super(m,T,O,J),this.provider=A,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var m=this;return(0,y.Z)(function*(){const T=yield m.execute();return K(T,m.auth,"internal-error"),T})()}onExecution(){var m=this;return(0,y.Z)(function*(){me(1===m.filter.length,"Popup operations only handle one event");const T=hu();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],T),m.authWindow.associatedEvent=T,m.resolver._originValidation(m.auth).catch(A=>{m.reject(A)}),m.resolver._isIframeWebStorageSupported(m.auth,A=>{A||m.reject(ye(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ye(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const m=()=>{var T,A;this.pollId=null!==(A=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ye(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,aa.get())};m()}}return w.currentPopupAction=null,w})();const Mt="pendingRedirect",go=new Map;class ua extends Ni{constructor(g,m,T=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,T),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,y.Z)(function*(){let T=go.get(m.auth._key());if(!T){try{const O=(yield function _t(w,g){return P.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;T=()=>Promise.resolve(O)}catch(A){T=()=>Promise.reject(A)}go.set(m.auth._key(),T)}return m.bypassAuthState||go.set(m.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,T=this;return(0,y.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(T,g);if("unknown"!==g.type){if(g.eventId){const A=yield T.auth._redirectUserForId(g.eventId);if(A)return T.user=A,m().call(T,g);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,y.Z)(function*(){})()}cleanUp(){}}function P(){return(P=(0,y.Z)(function*(w,g){const m=pp(g),T=Nd(w);if(!(yield T._isAvailable()))return!1;const A="true"===(yield T._get(m));return yield T._remove(m),A})).apply(this,arguments)}function Lr(w,g){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,y.Z)(function*(w,g){return Nd(w)._set(pp(g),"true")})).apply(this,arguments)}function lI(){go.clear()}function Lc(w,g){go.set(w._key(),g)}function Nd(w){return Ve(w._redirectPersistence)}function pp(w){return j(Mt,w.config.apiKey,w.name)}function Fc(w,g,m){return function Uc(w,g,m){return Ar.apply(this,arguments)}(w,g,m)}function Ar(){return(Ar=(0,y.Z)(function*(w,g,m){const T=fr(w);Ie(w,g,$s),yield T._initializationPromise;const A=yu(T,m);return yield Lr(A,T),A._openRedirect(T,g,"signInViaRedirect")})).apply(this,arguments)}function Iu(w,g,m){return function gp(w,g,m){return mo.apply(this,arguments)}(w,g,m)}function mo(){return(mo=(0,y.Z)(function*(w,g,m){const T=(0,$.m9)(w);Ie(T.auth,g,$s),yield T.auth._initializationPromise;const A=yu(T.auth,m);yield Lr(A,T.auth);const O=yield _o(T);return A._openRedirect(T.auth,g,"reauthViaRedirect",O)})).apply(this,arguments)}function mp(w,g,m){return function _p(w,g,m){return Is.apply(this,arguments)}(w,g,m)}function Is(){return(Is=(0,y.Z)(function*(w,g,m){const T=(0,$.m9)(w);Ie(T.auth,g,$s),yield T.auth._initializationPromise;const A=yu(T.auth,m);yield ou(!1,T,g.providerId),yield Lr(A,T.auth);const O=yield _o(T);return A._openRedirect(T.auth,g,"linkViaRedirect",O)})).apply(this,arguments)}function Pd(w,g){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,y.Z)(function*(w,g){return yield fr(w)._initializationPromise,Eu(w,g,!1)})).apply(this,arguments)}function Eu(w,g){return Od.apply(this,arguments)}function Od(){return(Od=(0,y.Z)(function*(w,g,m=!1){const T=fr(w),A=yu(T,g),J=yield new ua(T,A,m).execute();return J&&!m&&(delete J.user._redirectEventId,yield T._persistUserIfCurrent(J.user),yield T._setRedirectUser(null,g)),J})).apply(this,arguments)}function _o(w){return Es.apply(this,arguments)}function Es(){return(Es=(0,y.Z)(function*(w){const g=hu(`${w.uid}:::`);return w._redirectEventId=g,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),g})).apply(this,arguments)}class hI{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(g,T)&&(m=!0,this.sendToConsumer(g,T),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Ld(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return F_(w);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var T;if(g.error&&!F_(g)){const A=(null===(T=g.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";m.onError(ye(this.auth,A))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const T=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&T}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(yp(g))}saveEventToCache(g){this.cachedEventUids.add(yp(g)),this.lastProcessedEventTime=Date.now()}}function yp(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(g=>g).join("-")}function F_({type:w,error:g}){return"unknown"===w&&"auth/no-auth-event"===g?.code}function U_(w){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,y.Z)(function*(w,g={}){return Ze(w,"GET","/v1/projects",g)})).apply(this,arguments)}const V_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bc=/^https?/;function Ud(){return(Ud=(0,y.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:g}=yield U_(w);for(const m of g)try{if(wp(m))return}catch{}Ae(w,"unauthorized-domain")})).apply(this,arguments)}function wp(w){const g=re(),{protocol:m,hostname:T}=new URL(g);if(w.startsWith("chrome-extension://")){const J=new URL(w);return""===J.hostname&&""===T?"chrome-extension:"===m&&w.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&J.hostname===T}if(!Bc.test(m))return!1;if(V_.test(w))return T===w;const A=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(T)}const fI=new Me(3e4,6e4);function Vd(){const w=ir().___jsl;if(w?.H)for(const g of Object.keys(w.H))if(w.H[g].r=w.H[g].r||[],w.H[g].L=w.H[g].L||[],w.H[g].r=[...w.H[g].L],w.CP)for(let m=0;m<w.CP.length;m++)w.CP[m]=null}let $c=null;const Ts=new Me(5e3,15e3),gI="__/auth/iframe",mI="emulator/auth/iframe",Bd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_I=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yI(w){const g=w.config;K(g.authDomain,w,"auth-domain-config-required");const m=g.emulator?Xe(g,mI):`https://${w.config.authDomain}/${gI}`,T={apiKey:g.apiKey,appName:w.name,v:L.SDK_VERSION},A=_I.get(w.config.apiHost);A&&(T.eid=A);const O=w._getFrameworks();return O.length&&(T.fw=O.join(",")),`${m}?${(0,$.xO)(T).slice(1)}`}function B_(){return B_=(0,y.Z)(function*(w){const g=yield function jc(w){return $c=$c||function pI(w){return new Promise((g,m)=>{var T,A,O;function J(){Vd(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Vd(),m(ye(w,"network-request-failed"))},timeout:fI.get()})}if(null!==(A=null===(T=ir().gapi)||void 0===T?void 0:T.iframes)&&void 0!==A&&A.Iframe)g(gapi.iframes.getContext());else{if(null===(O=ir().gapi)||void 0===O||!O.load){const pe=kc("iframefcb");return ir()[pe]=()=>{gapi.load?J():m(ye(w,"network-request-failed"))},xc(`https://apis.google.com/js/api.js?onload=${pe}`).catch(ut=>m(ut))}J()}}).catch(g=>{throw $c=null,g})}(w),$c}(w),m=ir().gapi;return K(m,w,"internal-error"),g.open({where:document.body,url:yI(w),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bd,dontclear:!0},T=>new Promise(function(){var A=(0,y.Z)(function*(O,J){yield T.restyle({setHideOnLeave:!1});const pe=ye(w,"network-request-failed"),ut=ir().setTimeout(()=>{J(pe)},Ts.get());function wt(){ir().clearTimeout(ut),O(T)}T.ping(wt).then(wt,()=>{J(pe)})});return function(O,J){return A.apply(this,arguments)}}()))}),B_.apply(this,arguments)}const Ip={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$_=500,Hc=600,yo="_blank",Ep="http://localhost";class $d{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Tp="__/auth/handler",j_="emulator/auth/handler";function Hd(w,g,m,T,A,O){K(w.config.authDomain,w,"auth-domain-config-required"),K(w.config.apiKey,w,"invalid-api-key");const J={apiKey:w.config.apiKey,appName:w.name,authType:m,redirectUrl:T,v:L.SDK_VERSION,eventId:A};if(g instanceof $s){g.setDefaultLanguage(w.languageCode),J.providerId=g.providerId||"",(0,$.xb)(g.getCustomParameters())||(J.customParameters=JSON.stringify(g.getCustomParameters()));for(const[ut,wt]of Object.entries(O||{}))J[ut]=wt}if(g instanceof Wo){const ut=g.getScopes().filter(wt=>""!==wt);ut.length>0&&(J.scopes=ut.join(","))}w.tenantId&&(J.tid=w.tenantId);const pe=J;for(const ut of Object.keys(pe))void 0===pe[ut]&&delete pe[ut];return`${function bp({config:w}){return w.emulator?Xe(w,j_):`https://${w.authDomain}/${Tp}`}(w)}?${(0,$.xO)(pe).slice(1)}`}const Gc="webStorageSupport",rs=class ca{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ep,this._completeRedirectFn=Eu,this._overrideRedirectResult=Lc}_openPopup(g,m,T,A){var O=this;return(0,y.Z)(function*(){var J;me(null===(J=O.eventManagers[g._key()])||void 0===J?void 0:J.manager,"_initialize() not called before _openPopup()");const pe=Hd(g,m,T,re(),A);return function jd(w,g,m,T=$_,A=Hc){const O=Math.max((window.screen.availHeight-A)/2,0).toString(),J=Math.max((window.screen.availWidth-T)/2,0).toString();let pe="";const ut=Object.assign(Object.assign({},Ip),{width:T.toString(),height:A.toString(),top:O,left:J}),wt=(0,$.z$)().toLowerCase();m&&(pe=Z(wt)?yo:m),N(wt)&&(g=g||Ep,ut.scrollbars="yes");const zt=Object.entries(ut).reduce((zi,[Pi,zs])=>`${zi}${Pi}=${zs},`,"");if(function _n(w=(0,$.z$)()){var g;return Lt(w)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(wt)&&"_self"!==pe)return function ns(w,g){const m=document.createElement("a");m.href=w,m.target=g;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(T)}(g||"",pe),new $d(null);const xn=window.open(g||"",pe,zt);K(xn,w,"popup-blocked");try{xn.focus()}catch{}return new $d(xn)}(g,pe,hu())})()}_openRedirect(g,m,T,A){var O=this;return(0,y.Z)(function*(){return yield O._originValidation(g),function A_(w){ir().location.href=w}(Hd(g,m,T,re(),A)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:A,promise:O}=this.eventManagers[m];return A?Promise.resolve(A):(me(O,"If manager is not set, promise should be"),O)}const T=this.initAndGetManager(g);return this.eventManagers[m]={promise:T},T.catch(()=>{delete this.eventManagers[m]}),T}initAndGetManager(g){var m=this;return(0,y.Z)(function*(){const T=yield function vI(w){return B_.apply(this,arguments)}(g),A=new hI(g);return T.register("authEvent",O=>(K(O?.authEvent,g,"invalid-auth-event"),{status:A.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:A},m.iframes[g._key()]=T,A})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(Gc,{type:Gc},A=>{var O;const J=null===(O=A?.[0])||void 0===O?void 0:O[Gc];void 0!==J&&m(!!J),Ae(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function vp(w){return Ud.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return er()||x()||Lt()}};class H_{constructor(g){this.factorId=g}_process(g,m,T){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,T);case"signin":return this._finalizeSignIn(g,m.credential);default:return ne("unexpected MultiFactorSessionType")}}}class la extends H_{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new la(g)}_finalizeEnroll(g,m,T){return function oI(w,g){return Ze(w,"POST","/v2/accounts/mfaEnrollment:finalize",ft(w,g))}(g,{idToken:m,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function Sd(w,g){return Ze(w,"POST","/v2/accounts/mfaSignIn:finalize",ft(w,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let G_=(()=>{class w{constructor(){}static assertion(m){return la._fromCredential(m)}}return w.FACTOR_ID="phone",w})();var Gd="@firebase/auth";class Tu{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,y.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(T=>{g(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);m&&(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Gi=(0,$.Pz)("authIdTokenMaxAge")||300;let bu=null;const zc=w=>function(){var g=(0,y.Z)(function*(m){const T=m&&(yield m.getIdTokenResult()),A=T&&((new Date).getTime()-Date.parse(T.issuedAtTime))/1e3;if(A&&A>Gi)return;const O=T?.token;bu!==O&&(bu=O,yield fetch(w,{method:O?"POST":"DELETE",headers:O?{Authorization:`Bearer ${O}`}:{}}))});return function(m){return g.apply(this,arguments)}}();function Dp(w=(0,L.getApp)()){const g=(0,L._getProvider)(w,"auth");if(g.isInitialized())return g.getImmediate();const m=function Dt(w,g){const m=(0,L._getProvider)(w,"auth");if(m.isInitialized()){const A=m.getImmediate(),O=m.getOptions();if((0,$.vZ)(O,g??{}))return A;Ae(A,"already-initialized")}return m.initialize({options:g})}(w,{popupRedirectResolver:rs,persistence:[mu,Qo,ep]}),T=(0,$.Pz)("authTokenSyncURL");if(T){const O=zc(T);(function b_(w,g,m){(0,$.m9)(w).beforeAuthStateChanged(g,m)})(m,O,()=>O(m.currentUser)),Yf(m,J=>O(J))}const A=(0,$.q4)("auth");return A&&fe(m,`http://${A}`),m}!function zd(w){(0,L._registerComponent)(new he.wA("auth",(g,{options:m})=>{const T=g.getProvider("app").getImmediate(),A=g.getProvider("heartbeat"),{apiKey:O,authDomain:J}=T.options;return((pe,ut)=>{K(O&&!O.includes(":"),"invalid-api-key",{appName:pe.name}),K(!J?.includes(":"),"argument-error",{appName:pe.name});const wt={apiKey:O,authDomain:J,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ls(w)},zt=new co(pe,ut,wt);return function it(w,g){const m=g?.persistence||[],T=(Array.isArray(m)?m:[m]).map(Ve);g?.errorMap&&w._updateErrorMap(g.errorMap),w._initializeWithPersistence(T,g?.popupRedirectResolver)}(zt,m),zt})(T,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,T)=>{g.getProvider("auth-internal").initialize()})),(0,L._registerComponent)(new he.wA("auth-internal",g=>{const m=fr(g.getProvider("auth").getImmediate());return new Tu(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,L.registerVersion)(Gd,"0.21.5",function Cp(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,L.registerVersion)(Gd,"0.21.5","esm2017")}("Browser")},2090:(Et,Se,V)=>{V.d(Se,{$s:()=>pt,BH:()=>Ie,DV:()=>Mr,Dv:()=>Un,GJ:()=>kr,L:()=>Fe,LL:()=>vt,P0:()=>Ae,Pz:()=>ve,Sg:()=>Be,UG:()=>me,UI:()=>gn,US:()=>he,Wj:()=>Vn,Wl:()=>Cn,Yr:()=>de,ZB:()=>Y,ZR:()=>hn,aH:()=>ye,b$:()=>Dt,cI:()=>Jt,dS:()=>zr,eu:()=>Me,g5:()=>L,gK:()=>hr,gQ:()=>Gr,h$:()=>Ee,hl:()=>Ne,hu:()=>$,jU:()=>Ke,lb:()=>Ot,m9:()=>An,ne:()=>St,p$:()=>z,pd:()=>Fn,q4:()=>we,r3:()=>Xn,ru:()=>Ve,tV:()=>G,uI:()=>ne,ug:()=>Vt,vZ:()=>Mn,w1:()=>re,w9:()=>Qn,xO:()=>dr,xb:()=>Hr,z$:()=>K,zI:()=>Xe,zd:()=>Ln});const y={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},$=function(j,B){if(!j)throw L(B)},L=function(j){return new Error("Firebase Database ("+y.SDK_VERSION+") INTERNAL ASSERT FAILED: "+j)},ce=function(j){const B=[];let k=0;for(let N=0;N<j.length;N++){let x=j.charCodeAt(N);x<128?B[k++]=x:x<2048?(B[k++]=x>>6|192,B[k++]=63&x|128):55296==(64512&x)&&N+1<j.length&&56320==(64512&j.charCodeAt(N+1))?(x=65536+((1023&x)<<10)+(1023&j.charCodeAt(++N)),B[k++]=x>>18|240,B[k++]=x>>12&63|128,B[k++]=x>>6&63|128,B[k++]=63&x|128):(B[k++]=x>>12|224,B[k++]=x>>6&63|128,B[k++]=63&x|128)}return B},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,B){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const k=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,N=[];for(let x=0;x<j.length;x+=3){const Z=j[x],ae=x+1<j.length,nt=ae?j[x+1]:0,At=x+2<j.length,kt=At?j[x+2]:0;let _n=(15&nt)<<2|kt>>6,Ht=63&kt;At||(Ht=64,ae||(_n=64)),N.push(k[Z>>2],k[(3&Z)<<4|nt>>4],k[_n],k[Ht])}return N.join("")},encodeString(j,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(j):this.encodeByteArray(ce(j),B)},decodeString(j,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(j):function(j){const B=[];let k=0,N=0;for(;k<j.length;){const x=j[k++];if(x<128)B[N++]=String.fromCharCode(x);else if(x>191&&x<224){const Z=j[k++];B[N++]=String.fromCharCode((31&x)<<6|63&Z)}else if(x>239&&x<365){const At=((7&x)<<18|(63&j[k++])<<12|(63&j[k++])<<6|63&j[k++])-65536;B[N++]=String.fromCharCode(55296+(At>>10)),B[N++]=String.fromCharCode(56320+(1023&At))}else{const Z=j[k++],ae=j[k++];B[N++]=String.fromCharCode((15&x)<<12|(63&Z)<<6|63&ae)}}return B.join("")}(this.decodeStringToByteArray(j,B))},decodeStringToByteArray(j,B){this.init_();const k=B?this.charToByteMapWebSafe_:this.charToByteMap_,N=[];for(let x=0;x<j.length;){const Z=k[j.charAt(x++)],nt=x<j.length?k[j.charAt(x)]:0;++x;const kt=x<j.length?k[j.charAt(x)]:64;++x;const Ct=x<j.length?k[j.charAt(x)]:64;if(++x,null==Z||null==nt||null==kt||null==Ct)throw new Le;N.push(Z<<2|nt>>4),64!==kt&&(N.push(nt<<4&240|kt>>2),64!==Ct&&N.push(kt<<6&192|Ct))}return N},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}};class Le extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ee=function(j){const B=ce(j);return he.encodeByteArray(B,!0)},Fe=function(j){return Ee(j).replace(/\./g,"")},G=function(j){try{return he.decodeString(j,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function z(j){return Y(void 0,j)}function Y(j,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return B}for(const k in B)!B.hasOwnProperty(k)||!Ge(k)||(j[k]=Y(j[k],B[k]));return j}function Ge(j){return"__proto__"!==j}const De=()=>{try{return function ke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const j=process.env.__FIREBASE_DEFAULTS__;return j?JSON.parse(j):void 0})()||(()=>{if(typeof document>"u")return;let j;try{j=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=j&&G(j[1]);return B&&JSON.parse(B)})()}catch(j){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${j}`)}},we=j=>{var B,k;return null===(k=null===(B=De())||void 0===B?void 0:B.emulatorHosts)||void 0===k?void 0:k[j]},Ae=j=>{const B=we(j);if(!B)return;const k=B.lastIndexOf(":");if(k<=0||k+1===B.length)throw new Error(`Invalid host ${B} with no separate hostname and port!`);const N=parseInt(B.substring(k+1),10);return"["===B[0]?[B.substring(1,k-1),N]:[B.substring(0,k),N]},ye=()=>{var j;return null===(j=De())||void 0===j?void 0:j.config},ve=j=>{var B;return null===(B=De())||void 0===B?void 0:B[`_${j}`]};class Ie{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,k)=>{this.resolve=B,this.reject=k})}wrapCallback(B){return(k,N)=>{k?this.reject(k):this.resolve(N),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(k):B(k,N))}}}function Be(j,B){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const N=B||"demo-project",x=j.iat||0,Z=j.sub||j.user_id;if(!Z)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ae=Object.assign({iss:`https://securetoken.google.com/${N}`,aud:N,iat:x,exp:x+3600,auth_time:x,sub:Z,user_id:Z,firebase:{sign_in_provider:"custom",identities:{}}},j);return[Fe(JSON.stringify({alg:"none",type:"JWT"})),Fe(JSON.stringify(ae)),""].join(".")}function K(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(K())}function me(){var j;const B=null===(j=De())||void 0===j?void 0:j.forceEnvironment;if("node"===B)return!0;if("browser"===B)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ke(){return"object"==typeof self&&self.self===self}function Ve(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function Dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function re(){const j=K();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function de(){return!0===y.NODE_CLIENT||!0===y.NODE_ADMIN}function Ne(){try{return"object"==typeof indexedDB}catch{return!1}}function Me(){return new Promise((j,B)=>{try{let k=!0;const N="validate-browser-context-for-indexeddb-analytics-module",x=self.indexedDB.open(N);x.onsuccess=()=>{x.result.close(),k||self.indexedDB.deleteDatabase(N),j(!0)},x.onupgradeneeded=()=>{k=!1},x.onerror=()=>{var Z;B((null===(Z=x.error)||void 0===Z?void 0:Z.message)||"")}}catch(k){B(k)}})}function Xe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class hn extends Error{constructor(B,k,N){super(k),this.code=B,this.customData=N,this.name="FirebaseError",Object.setPrototypeOf(this,hn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vt.prototype.create)}}class vt{constructor(B,k,N){this.service=B,this.serviceName=k,this.errors=N}create(B,...k){const N=k[0]||{},x=`${this.service}/${B}`,Z=this.errors[B],ae=Z?function ft(j,B){return j.replace(Ze,(k,N)=>{const x=B[N];return null!=x?String(x):`<${N}?>`})}(Z,N):"Error";return new hn(x,`${this.serviceName}: ${ae} (${x}).`,N)}}const Ze=/\{\$([^}]+)}/g;function Jt(j){return JSON.parse(j)}function Cn(j){return JSON.stringify(j)}const wn=function(j){let B={},k={},N={},x="";try{const Z=j.split(".");B=Jt(G(Z[0])||""),k=Jt(G(Z[1])||""),x=Z[2],N=k.d||{},delete k.d}catch{}return{header:B,claims:k,data:N,signature:x}},Qn=function(j){const k=wn(j).claims;return!!k&&"object"==typeof k&&k.hasOwnProperty("iat")},kr=function(j){const B=wn(j).claims;return"object"==typeof B&&!0===B.admin};function Xn(j,B){return Object.prototype.hasOwnProperty.call(j,B)}function Mr(j,B){if(Object.prototype.hasOwnProperty.call(j,B))return j[B]}function Hr(j){for(const B in j)if(Object.prototype.hasOwnProperty.call(j,B))return!1;return!0}function gn(j,B,k){const N={};for(const x in j)Object.prototype.hasOwnProperty.call(j,x)&&(N[x]=B.call(k,j[x],x,j));return N}function Mn(j,B){if(j===B)return!0;const k=Object.keys(j),N=Object.keys(B);for(const x of k){if(!N.includes(x))return!1;const Z=j[x],ae=B[x];if(ot(Z)&&ot(ae)){if(!Mn(Z,ae))return!1}else if(Z!==ae)return!1}for(const x of N)if(!k.includes(x))return!1;return!0}function ot(j){return null!==j&&"object"==typeof j}function dr(j){const B=[];for(const[k,N]of Object.entries(j))Array.isArray(N)?N.forEach(x=>{B.push(encodeURIComponent(k)+"="+encodeURIComponent(x))}):B.push(encodeURIComponent(k)+"="+encodeURIComponent(N));return B.length?"&"+B.join("&"):""}function Ln(j){const B={};return j.replace(/^\?/,"").split("&").forEach(N=>{if(N){const[x,Z]=N.split("=");B[decodeURIComponent(x)]=decodeURIComponent(Z)}}),B}function Fn(j){const B=j.indexOf("?");if(!B)return"";const k=j.indexOf("#",B);return j.substring(B,k>0?k:void 0)}class Gr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let B=1;B<this.blockSize;++B)this.pad_[B]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(B,k){k||(k=0);const N=this.W_;if("string"==typeof B)for(let Ct=0;Ct<16;Ct++)N[Ct]=B.charCodeAt(k)<<24|B.charCodeAt(k+1)<<16|B.charCodeAt(k+2)<<8|B.charCodeAt(k+3),k+=4;else for(let Ct=0;Ct<16;Ct++)N[Ct]=B[k]<<24|B[k+1]<<16|B[k+2]<<8|B[k+3],k+=4;for(let Ct=16;Ct<80;Ct++){const _n=N[Ct-3]^N[Ct-8]^N[Ct-14]^N[Ct-16];N[Ct]=4294967295&(_n<<1|_n>>>31)}let kt,Lt,x=this.chain_[0],Z=this.chain_[1],ae=this.chain_[2],nt=this.chain_[3],At=this.chain_[4];for(let Ct=0;Ct<80;Ct++){Ct<40?Ct<20?(kt=nt^Z&(ae^nt),Lt=1518500249):(kt=Z^ae^nt,Lt=1859775393):Ct<60?(kt=Z&ae|nt&(Z|ae),Lt=2400959708):(kt=Z^ae^nt,Lt=3395469782);const _n=(x<<5|x>>>27)+kt+At+Lt+N[Ct]&4294967295;At=nt,nt=ae,ae=4294967295&(Z<<30|Z>>>2),Z=x,x=_n}this.chain_[0]=this.chain_[0]+x&4294967295,this.chain_[1]=this.chain_[1]+Z&4294967295,this.chain_[2]=this.chain_[2]+ae&4294967295,this.chain_[3]=this.chain_[3]+nt&4294967295,this.chain_[4]=this.chain_[4]+At&4294967295}update(B,k){if(null==B)return;void 0===k&&(k=B.length);const N=k-this.blockSize;let x=0;const Z=this.buf_;let ae=this.inbuf_;for(;x<k;){if(0===ae)for(;x<=N;)this.compress_(B,x),x+=this.blockSize;if("string"==typeof B){for(;x<k;)if(Z[ae]=B.charCodeAt(x),++ae,++x,ae===this.blockSize){this.compress_(Z),ae=0;break}}else for(;x<k;)if(Z[ae]=B[x],++ae,++x,ae===this.blockSize){this.compress_(Z),ae=0;break}}this.inbuf_=ae,this.total_+=k}digest(){const B=[];let k=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let x=this.blockSize-1;x>=56;x--)this.buf_[x]=255&k,k/=256;this.compress_(this.buf_);let N=0;for(let x=0;x<5;x++)for(let Z=24;Z>=0;Z-=8)B[N]=this.chain_[x]>>Z&255,++N;return B}}function St(j,B){const k=new ht(j,B);return k.subscribe.bind(k)}class ht{constructor(B,k){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=k,this.task.then(()=>{B(this)}).catch(N=>{this.error(N)})}next(B){this.forEachObserver(k=>{k.next(B)})}error(B){this.forEachObserver(k=>{k.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,k,N){let x;if(void 0===B&&void 0===k&&void 0===N)throw new Error("Missing Observer.");x=function mn(j,B){if("object"!=typeof j||null===j)return!1;for(const k of B)if(k in j&&"function"==typeof j[k])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:k,complete:N},void 0===x.next&&(x.next=Dn),void 0===x.error&&(x.error=Dn),void 0===x.complete&&(x.complete=Dn);const Z=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?x.error(this.finalError):x.complete()}catch{}}),this.observers.push(x),Z}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let k=0;k<this.observers.length;k++)this.sendOne(k,B)}sendOne(B,k){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{k(this.observers[B])}catch(N){typeof console<"u"&&console.error&&console.error(N)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dn(){}const Un=function(j,B,k,N){let x;if(N<B?x="at least "+B:N>k&&(x=0===k?"none":"no more than "+k),x)throw new Error(j+" failed: Was called with "+N+(1===N?" argument.":" arguments.")+" Expects "+x+".")};function hr(j,B){return`${j} failed: ${B} argument `}function Vn(j,B,k,N){if((!N||k)&&"function"!=typeof k)throw new Error(hr(j,B)+"must be a valid function.")}function Ot(j,B,k,N){if((!N||k)&&("object"!=typeof k||null===k))throw new Error(hr(j,B)+"must be a valid context object.")}const zr=function(j){const B=[];let k=0;for(let N=0;N<j.length;N++){let x=j.charCodeAt(N);if(x>=55296&&x<=56319){const Z=x-55296;N++,$(N<j.length,"Surrogate pair missing trail surrogate."),x=65536+(Z<<10)+(j.charCodeAt(N)-56320)}x<128?B[k++]=x:x<2048?(B[k++]=x>>6|192,B[k++]=63&x|128):x<65536?(B[k++]=x>>12|224,B[k++]=x>>6&63|128,B[k++]=63&x|128):(B[k++]=x>>18|240,B[k++]=x>>12&63|128,B[k++]=x>>6&63|128,B[k++]=63&x|128)}return B},Vt=function(j){let B=0;for(let k=0;k<j.length;k++){const N=j.charCodeAt(k);N<128?B++:N<2048?B+=2:N>=55296&&N<=56319?(B+=4,k++):B+=3}return B},Bn=1e3,He=2,_e=144e5,tt=.5;function pt(j,B=Bn,k=He){const N=B*Math.pow(k,j),x=Math.round(tt*N*(Math.random()-.5)*2);return Math.min(_e,N+x)}function An(j){return j&&j._delegate?j._delegate:j}},4958:(Et,Se,V)=>{var y=V(4650);let $=null;function L(){return $}class Te{}const he=new y.OlP("DocumentToken");let Le=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:function(){return function Ee(){return(0,y.LFG)(G)}()},providedIn:"platform"}),n})();const Fe=new y.OlP("Location Initialized");let G=(()=>{class n extends Le{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){z()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){z()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(he))},n.\u0275prov=y.Yz7({token:n,factory:function(){return function Y(){return new G((0,y.LFG)(he))}()},providedIn:"platform"}),n})();function z(){return!!window.history.pushState}function Ge(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ke(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function rt(n){return n&&"?"!==n[0]?"?"+n:n}let qe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:function(){return(0,y.f3M)(De)},providedIn:"root"}),n})();const ie=new y.OlP("appBaseHref");let De=(()=>{class n extends qe{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,y.f3M)(he).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ge(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+rt(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const c=this.prepareExternalUrl(i+rt(o));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,o){const c=this.prepareExternalUrl(i+rt(o));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(Le),y.LFG(ie,8))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),we=(()=>{class n extends qe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ge(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let c=this.prepareExternalUrl(i+rt(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,o){let c=this.prepareExternalUrl(i+rt(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(Le),y.LFG(ie,8))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n{constructor(t){this._subject=new y.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Be(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(ke(Ie(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+rt(r))}normalize(t){return n.stripTrailingSlash(function ve(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Ie(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rt(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=rt,n.joinWithSlash=Ge,n.stripTrailingSlash=ke,n.\u0275fac=function(t){return new(t||n)(y.LFG(qe))},n.\u0275prov=y.Yz7({token:n,factory:function(){return function ye(){return new Ae((0,y.LFG)(qe))}()},providedIn:"root"}),n})();function Ie(n){return n.replace(/\/index.html$/,"")}let Ff=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({}),n})();let su=(()=>{class n{}return n.\u0275prov=(0,y.Yz7)({token:n,providedIn:"root",factory:()=>new gc((0,y.LFG)(he),window)}),n})();class gc{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ld(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const c=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ou(this.window.history)||ou(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ou(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class lu extends Te{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class du extends lu{static makeCurrent(){!function ce(n){$||($=n)}(new du)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function D_(){return Yo=Yo||document.querySelector("base"),Yo?Yo.getAttribute("href"):null}();return null==t?null:function Qo(n){Hs=Hs||document.createElement("a"),Hs.setAttribute("href",n);const e=Hs.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Yo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Tt(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Hs,Yo=null;const S_=new y.OlP("TRANSITION_ID"),bd=[{provide:y.ip1,useFactory:function ep(n,e,t){return()=>{t.get(y.CZH).donePromise.then(()=>{const r=L(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[S_,he,y.zs3],multi:!0}];let hu=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();const Ec=new y.OlP("EventManagerPlugins");let ir=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const c=i[o];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(Ec),y.LFG(y.R0b))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();class A_{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=L().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Xo=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let o=i.get(t)??0;return o+=r,o>0?i.set(t,o):i.delete(t),o}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})(),Jo=(()=>{class n extends Xo{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(o=>o.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const o=this.styleRef.get(r);o?o.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(he))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();const ea={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},fo=/%COMP%/g,Gs=new y.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function pu(n,e){return e.flat(100).map(t=>t.replace(fo,n))}function Dc(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let gu=(()=>{class n{constructor(t,r,i,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new Mi(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof mu?i.applyToHost(t):i instanceof Ac&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const c=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestory;switch(r.encapsulation){case y.ifc.Emulated:o=new mu(c,d,r,this.appId,f);break;case y.ifc.ShadowDom:return new tp(c,d,t,r);default:o=new Ac(c,d,r,f)}o.onDestroy=()=>i.delete(r.id),i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(ir),y.LFG(Jo),y.LFG(y.AFp),y.LFG(Gs))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();class Mi{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ea[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Sc(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Sc(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=ea[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=ea[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(y.JOm.DashCase|y.JOm.Important)?e.style.setProperty(t,r,i&y.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&y.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Dc(r)):this.eventManager.addEventListener(e,t,Dc(r))}}function Sc(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class tp extends Mi{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=pu(i.id,i.styles);for(const c of o){const d=document.createElement("style");d.textContent=c,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ac extends Mi{constructor(e,t,r,i,o=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=pu(o,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class mu extends Ac{constructor(e,t,r,i,o){const c=i+"-"+r.id;super(e,t,r,o,c),this.contentAttr=function po(n){return"_ngcontent-%COMP%".replace(fo,n)}(c),this.hostAttr=function cI(n){return"_nghost-%COMP%".replace(fo,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let R_=(()=>{class n extends A_{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(he))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();const Sd=["alt","control","meta","shift"],np={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Rc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let rp=(()=>{class n extends A_{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),c=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(t,o.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let c="",d=r.indexOf("code");if(d>-1&&(r.splice(d,1),c="code."),Sd.forEach(_=>{const I=r.indexOf(_);I>-1&&(r.splice(I,1),c+=_+".")}),c+=o,0!=r.length||0===o.length)return null;const f={};return f.domEventName=i,f.fullKey=c,f}static matchEventFullKeyCode(t,r){let i=np[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Sd.forEach(c=>{c!==i&&(0,Rc[c])(t)&&(o+=c+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(he))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();const Ad=(0,y.eFA)(y._c5,"browser",[{provide:y.Lbi,useValue:"browser"},{provide:y.g9A,useValue:function sp(){du.makeCurrent()},multi:!0},{provide:he,useFactory:function x_(){return(0,y.RDi)(document),document},deps:[]}]),op=new y.OlP(""),Rd=[{provide:y.rWj,useClass:class uI{addToWindow(e){y.dqk.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},y.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),y.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),y.dqk.frameworkStabilizers||(y.dqk.frameworkStabilizers=[]),y.dqk.frameworkStabilizers.push(r=>{const i=y.dqk.getAllAngularTestabilities();let o=i.length,c=!1;const d=function(f){c=c||f,o--,0==o&&r(c)};i.forEach(function(f){f.whenStable(d)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?L().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:y.lri,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]},{provide:y.dDg,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]}],Nc=[{provide:y.zSh,useValue:"root"},{provide:y.qLn,useFactory:function ra(){return new y.qLn},deps:[]},{provide:Ec,useClass:R_,multi:!0,deps:[he,y.R0b,y.Lbi]},{provide:Ec,useClass:rp,multi:!0,deps:[he]},{provide:gu,useClass:gu,deps:[ir,Jo,y.AFp,Gs]},{provide:y.FYo,useExisting:gu},{provide:Xo,useExisting:Jo},{provide:Jo,useClass:Jo,deps:[he]},{provide:ir,useClass:ir,deps:[Ec,y.R0b]},{provide:class mc{},useClass:hu,deps:[]},[]];let ia=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:y.AFp,useValue:t.appId},{provide:S_,useExisting:y.AFp},bd]}}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(op,12))},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({providers:[...Nc,...Rd],imports:[Ff,y.hGG]}),n})(),ws=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(he))},n.\u0275prov=y.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function xd(){return new ws((0,y.LFG)(he))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Mt=V(9681);(0,Mt.registerVersion)("firebase","9.18.0","app");var _t=V(5861),P=V(2090),Lr=V(4859),Ti=V(1877);V(2833);const Lc="@firebase/remote-config",Ar=new P.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class V_{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return(0,_t.Z)(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const o=yield t.client.fetch(e),c=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&c.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(c),o})()}}function Bc(n=navigator){return n.languages&&n.languages[0]||n.language}class vp{constructor(e,t,r,i,o,c){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=c}fetch(e){var t=this;return(0,_t.Z)(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),c=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,d={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},f={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:Bc()},_={method:"POST",headers:d,body:JSON.stringify(f)},I=fetch(c,_),C=new Promise((Oe,Re)=>{e.signal.addEventListener(()=>{const Ye=new Error("The operation was aborted.");Ye.name="AbortError",Re(Ye)})});let S;try{yield Promise.race([I,C]),S=yield I}catch(Oe){let Re="fetch-client-network";throw"AbortError"===Oe?.name&&(Re="fetch-timeout"),Ar.create(Re,{originalErrorMessage:Oe?.message})}let M=S.status;const U=S.headers.get("ETag")||void 0;let Q,se;if(200===S.status){let Oe;try{Oe=yield S.json()}catch(Re){throw Ar.create("fetch-client-parse",{originalErrorMessage:Re?.message})}Q=Oe.entries,se=Oe.state}if("INSTANCE_STATE_UNSPECIFIED"===se?M=500:"NO_CHANGE"===se?M=304:("NO_TEMPLATE"===se||"EMPTY_CONFIG"===se)&&(Q={}),304!==M&&200!==M)throw Ar.create("fetch-status",{httpStatus:M});return{status:M,eTag:U,config:Q}})()}}class fI{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,_t.Z)(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return(0,_t.Z)(function*(){yield function Ud(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(Ar.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const o=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),o}catch(o){if(!function wp(n){if(!(n instanceof P.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const c={throttleEndTimeMillis:Date.now()+(0,P.$s)(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(c),i.attemptFetch(e,c)}})()}}class $c{constructor(e,t,r,i,o){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function jc(n,e){const t=n.target.error||void 0;return Ar.create(e,{originalErrorMessage:t&&t?.message})}const Ts="app_namespace_store";class _I{constructor(e,t,r,i=function Bd(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(jc(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ts,{keyPath:"compositeKey"})}}catch(t){e(Ar.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,_t.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const d=r.transaction([Ts],"readonly").objectStore(Ts),f=t.createCompositeKey(e);try{const _=d.get(f);_.onerror=I=>{o(jc(I,"storage-get"))},_.onsuccess=I=>{const C=I.target.result;i(C?C.value:void 0)}}catch(_){o(Ar.create("storage-get",{originalErrorMessage:_?.message}))}})})()}set(e,t){var r=this;return(0,_t.Z)(function*(){const i=yield r.openDbPromise;return new Promise((o,c)=>{const f=i.transaction([Ts],"readwrite").objectStore(Ts),_=r.createCompositeKey(e);try{const I=f.put({compositeKey:_,value:t});I.onerror=C=>{c(jc(C,"storage-set"))},I.onsuccess=()=>{o()}}catch(I){c(Ar.create("storage-set",{originalErrorMessage:I?.message}))}})})()}delete(e){var t=this;return(0,_t.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const d=r.transaction([Ts],"readwrite").objectStore(Ts),f=t.createCompositeKey(e);try{const _=d.delete(f);_.onerror=I=>{o(jc(I,"storage-delete"))},_.onsuccess=()=>{i()}}catch(_){o(Ar.create("storage-delete",{originalErrorMessage:_?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class yI{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,_t.Z)(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const c=yield r;c&&(e.lastSuccessfulFetchTimestampMillis=c);const d=yield i;d&&(e.activeConfig=d)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function $_(){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,_t.Z)(function*(){if(!(0,P.hl)())return!1;try{return yield(0,P.eu)()}catch{return!1}})).apply(this,arguments)}!function vI(){(0,Mt._registerComponent)(new Lr.wA("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ar.create("registration-window");if(!(0,P.hl)())throw Ar.create("indexed-db-unavailable");const{projectId:o,apiKey:c,appId:d}=r.options;if(!o)throw Ar.create("registration-project-id");if(!c)throw Ar.create("registration-api-key");if(!d)throw Ar.create("registration-app-id");const f=new _I(d,r.name,t=t||"firebase"),_=new yI(f),I=new Ti.Yd(Lc);I.logLevel=Ti.in.ERROR;const C=new vp(i,Mt.SDK_VERSION,t,o,c,d),S=new fI(C,f),M=new V_(S,f,_,I),U=new $c(r,M,_,f,I);return function Od(n){const e=(0,P.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(U),U},"PUBLIC").setMultipleInstances(!0)),(0,Mt.registerVersion)(Lc,"0.4.4"),(0,Mt.registerVersion)(Lc,"0.4.4","esm2017")}();var yo=V(8766);const Ep="/firebase-messaging-sw.js",$d="/firebase-cloud-messaging-push-scope",jd="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ns="https://fcmregistrations.googleapis.com/v1",Tp="google.c.a.c_id",j_="google.c.a.c_l",Hd="google.c.a.ts",bp="google.c.a.e";var ca=(()=>{return(n=ca||(ca={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",ca;var n})();function rs(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function H_(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const la="fcm_token_details_db",G_=5,Gd="fcm_token_object_Store";function Tu(){return Tu=(0,_t.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(la))return null;let e=null;return(yield(0,yo.X3)(la,G_,{upgrade:(r=(0,_t.Z)(function*(i,o,c,d){var f;if(o<2||!i.objectStoreNames.contains(Gd))return;const _=d.objectStore(Gd),I=yield _.index("fcmSenderId").get(n);if(yield _.clear(),I)if(2===o){const C=I;if(!C.auth||!C.p256dh||!C.endpoint)return;e={token:C.fcmToken,createTime:null!==(f=C.createTime)&&void 0!==f?f:Date.now(),subscriptionOptions:{auth:C.auth,p256dh:C.p256dh,endpoint:C.endpoint,swScope:C.swScope,vapidKey:"string"==typeof C.vapidKey?C.vapidKey:rs(C.vapidKey)}}}else if(3===o){const C=I;e={token:C.fcmToken,createTime:C.createTime,subscriptionOptions:{auth:rs(C.auth),p256dh:rs(C.p256dh),endpoint:C.endpoint,swScope:C.swScope,vapidKey:rs(C.vapidKey)}}}else if(4===o){const C=I;e={token:C.fcmToken,createTime:C.createTime,subscriptionOptions:{auth:rs(C.auth),p256dh:rs(C.p256dh),endpoint:C.endpoint,swScope:C.swScope,vapidKey:rs(C.vapidKey)}}}}),function(o,c,d,f){return r.apply(this,arguments)})})).close(),yield(0,yo.Lj)(la),yield(0,yo.Lj)("fcm_vapid_details_db"),yield(0,yo.Lj)("undefined"),function Cp(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),Tu.apply(this,arguments)}const zd="firebase-messaging-database",qr=1,Gi="firebase-messaging-store";let bu=null;function zc(){return bu||(bu=(0,yo.X3)(zd,qr,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Gi)}})),bu}function Dp(n){return w.apply(this,arguments)}function w(){return w=(0,_t.Z)(function*(n){const e=O(n),r=yield(yield zc()).transaction(Gi).objectStore(Gi).get(e);if(r)return r;{const i=yield function oi(n){return Tu.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield g(n,i),i}}),w.apply(this,arguments)}function g(n,e){return m.apply(this,arguments)}function m(){return(m=(0,_t.Z)(function*(n,e){const t=O(n),i=(yield zc()).transaction(Gi,"readwrite");return yield i.objectStore(Gi).put(e,t),yield i.done,e})).apply(this,arguments)}function A(){return(A=(0,_t.Z)(function*(n){const e=O(n),r=(yield zc()).transaction(Gi,"readwrite");yield r.objectStore(Gi).delete(e),yield r.done})).apply(this,arguments)}function O({appConfig:n}){return n.appId}const pe=new P.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ut(n,e){return wt.apply(this,arguments)}function wt(){return(wt=(0,_t.Z)(function*(n,e){const t=yield Cu(n),r=Du(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(zs(n.appConfig),i)).json()}catch(c){throw pe.create("token-subscribe-failed",{errorInfo:c?.toString()})}if(o.error)throw pe.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw pe.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function xn(){return(xn=(0,_t.Z)(function*(n,e){const t=yield Cu(n),r=Du(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${zs(n.appConfig)}/${e.token}`,i)).json()}catch(c){throw pe.create("token-update-failed",{errorInfo:c?.toString()})}if(o.error)throw pe.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw pe.create("token-update-no-token");return o.token})).apply(this,arguments)}function zi(n,e){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,_t.Z)(function*(n,e){const r={method:"DELETE",headers:yield Cu(n)};try{const o=yield(yield fetch(`${zs(n.appConfig)}/${e}`,r)).json();if(o.error)throw pe.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw pe.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function zs({projectId:n}){return`${ns}/projects/${n}/registrations`}function Cu(n){return is.apply(this,arguments)}function is(){return(is=(0,_t.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function Du({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==jd&&(i.web.applicationPubKey=r),i}const Wd=6048e5;function da(){return da=(0,_t.Z)(function*(n){const e=yield function wI(n,e){return Qd.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:rs(e.getKey("auth")),p256dh:rs(e.getKey("p256dh"))},r=yield Dp(n.firebaseDependencies);if(r){if(function II(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+Wd?function Sp(n,e){return Zd.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield zi(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Wc(n.firebaseDependencies,t)}return Wc(n.firebaseDependencies,t)}),da.apply(this,arguments)}function Su(){return Su=(0,_t.Z)(function*(n){const e=yield Dp(n.firebaseDependencies);e&&(yield zi(n.firebaseDependencies,e.token),yield function T(n){return A.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),Su.apply(this,arguments)}function Zd(){return Zd=(0,_t.Z)(function*(n,e){try{const t=yield function zt(n,e){return xn.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield g(n.firebaseDependencies,r),t}catch(t){throw yield function Kd(n){return Su.apply(this,arguments)}(n),t}}),Zd.apply(this,arguments)}function Wc(n,e){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,_t.Z)(function*(n,e){const r={token:yield ut(n,e),createTime:Date.now(),subscriptionOptions:e};return yield g(n,r),r.token})).apply(this,arguments)}function Qd(){return(Qd=(0,_t.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:H_(e)})})).apply(this,arguments)}function Ap(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function pD(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const o=e.notification.icon;o&&(n.notification.icon=o)}(e,n),function gD(n,e){e.data&&(n.data=e.data)}(e,n),function EI(n,e){var t,r,i,o,c;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const d=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;d&&(n.fcmOptions.link=d);const f=null===(c=e.fcmOptions)||void 0===c?void 0:c.analytics_label;f&&(n.fcmOptions.analyticsLabel=f)}(e,n),e}function ha(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function Rp(n){return pe.create("missing-app-config-values",{valueName:n})}ha("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ha("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class mD{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function bI(n){if(!n||!n.options)throw Rp("App Configuration Object");if(!n.name)throw Rp("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw Rp(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function _D(n){return qc.apply(this,arguments)}function qc(){return(qc=(0,_t.Z)(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(Ep,{scope:$d}),n.swRegistration.update().catch(()=>{})}catch(e){throw pe.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function xp(){return(xp=(0,_t.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield _D(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw pe.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function kp(){return(kp=(0,_t.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=jd)})).apply(this,arguments)}function Np(){return Np=(0,_t.Z)(function*(n,e){if(!navigator)throw pe.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw pe.create("permission-blocked");return yield function CI(n,e){return kp.apply(this,arguments)}(n,e?.vapidKey),yield function yD(n,e){return xp.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function qd(n){return da.apply(this,arguments)}(n)}),Np.apply(this,arguments)}function Kc(){return(Kc=(0,_t.Z)(function*(n,e,t){const r=function DI(n){switch(n){case ca.NOTIFICATION_CLICKED:return"notification_open";case ca.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[Tp],message_name:t[j_],message_time:t[Hd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Xd(){return Xd=(0,_t.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===ca.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(Ap(t)):n.onMessageHandler.next(Ap(t)));const r=t.data;(function TI(n){return"object"==typeof n&&!!n&&Tp in n})(r)&&"1"===r[bp]&&(yield function Pp(n,e,t){return Kc.apply(this,arguments)}(n,t.messageType,r))}),Xd.apply(this,arguments)}const Op="@firebase/messaging",vD=n=>{const e=new mD(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function z_(n,e){return Xd.apply(this,arguments)}(e,t)),e},SI=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function Mp(n,e){return Np.apply(this,arguments)}(e,r)}};function AI(){return W_.apply(this,arguments)}function W_(){return(W_=(0,_t.Z)(function*(){try{yield(0,P.eu)()}catch{return!1}return typeof window<"u"&&(0,P.hl)()&&(0,P.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function wD(){(0,Mt._registerComponent)(new Lr.wA("messaging",vD,"PUBLIC")),(0,Mt._registerComponent)(new Lr.wA("messaging-internal",SI,"PRIVATE")),(0,Mt.registerVersion)(Op,"0.12.4"),(0,Mt.registerVersion)(Op,"0.12.4","esm2017")}();const Up="analytics",K_="firebase_id",ID="origin",kI=6e4,Vp="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Bp="https://www.googletagmanager.com/gtag/js",Kr=new Ti.Yd("@firebase/analytics");function Z_(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Y_(){return(Y_=(0,_t.Z)(function*(n,e,t,r,i,o){const c=r[i];try{if(c)yield e[c];else{const f=(yield Z_(t)).find(_=>_.measurementId===i);f&&(yield e[f.appId])}}catch(d){Kr.error(d)}n("config",i,o)})).apply(this,arguments)}function Q_(){return(Q_=(0,_t.Z)(function*(n,e,t,r,i){try{let o=[];if(i&&i.send_to){let c=i.send_to;Array.isArray(c)||(c=[c]);const d=yield Z_(t);for(const f of c){const _=d.find(C=>C.measurementId===f),I=_&&e[_.appId];if(!I){o=[];break}o.push(I)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),n("event",r,i||{})}catch(o){Kr.error(o)}})).apply(this,arguments)}const ss=new P.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),PM=30,DD=new class LM{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function PI(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function X_(){return(X_=(0,_t.Z)(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:PI(r)},o=Vp.replace("{app-id}",t),c=yield fetch(o,i);if(200!==c.status&&304!==c.status){let d="";try{const f=yield c.json();null!==(e=f.error)&&void 0!==e&&e.message&&(d=f.error.message)}catch{}throw ss.create("config-fetch-failed",{httpStatus:c.status,responseMessage:d})}return c.json()})).apply(this,arguments)}function J_(){return(J_=(0,_t.Z)(function*(n,e=DD,t){const{appId:r,apiKey:i,measurementId:o}=n.options;if(!r)throw ss.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw ss.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new LI;return setTimeout((0,_t.Z)(function*(){d.abort()}),void 0!==t?t:kI),$p({appId:r,apiKey:i,measurementId:o},c,d,e)})).apply(this,arguments)}function $p(n,e,t){return bs.apply(this,arguments)}function bs(){return bs=(0,_t.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=DD){var o;const{appId:c,measurementId:d}=n;try{yield function th(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(ss.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(f){if(d)return Kr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:c,measurementId:d};throw f}try{const f=yield function SD(n){return X_.apply(this,arguments)}(n);return i.deleteThrottleMetadata(c),f}catch(f){const _=f;if(!function OI(n){if(!(n instanceof P.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(_)){if(i.deleteThrottleMetadata(c),d)return Kr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${_?.message}]`),{appId:c,measurementId:d};throw f}const I=503===Number(null===(o=_?.customData)||void 0===o?void 0:o.httpStatus)?(0,P.$s)(t,i.intervalMillis,PM):(0,P.$s)(t,i.intervalMillis),C={throttleEndTimeMillis:Date.now()+I,backoffCount:t+1};return i.setThrottleMetadata(c,C),Kr.debug(`Calling attemptFetch again in ${I} millis`),$p(n,C,r,i)}}),bs.apply(this,arguments)}class LI{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let jp,ny;function FI(){return(FI=(0,_t.Z)(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const o=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function iy(){return(iy=(0,_t.Z)(function*(){if(!(0,P.hl)())return Kr.warn(ss.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,P.eu)()}catch(n){return Kr.warn(ss.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function oy(){return oy=(0,_t.Z)(function*(n,e,t,r,i,o,c){var d;const f=function AD(n){return J_.apply(this,arguments)}(n);f.then(M=>{t[M.measurementId]=M.appId,n.options.measurementId&&M.measurementId!==n.options.measurementId&&Kr.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${M.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(M=>Kr.error(M)),e.push(f);const _=function Gp(){return iy.apply(this,arguments)}().then(M=>{if(M)return r.getId()}),[I,C]=yield Promise.all([f,_]);(function eh(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Bp)&&t.src.includes(n))return t;return null})(o)||function MI(n,e){const t=document.createElement("script");t.src=`${Bp}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}(o,I.measurementId),ny&&(i("consent","default",ny),function VI(n){ny=n}(void 0)),i("js",new Date);const S=null!==(d=c?.config)&&void 0!==d?d:{};return S[ID]="firebase",S.update=!0,null!=C&&(S[K_]=C),i("config",I.measurementId,S),jp&&(i("set",jp),function ry(n){jp=n}(void 0)),I.measurementId}),oy.apply(this,arguments)}class Rr{constructor(e){this.app=e}_delete(){return delete vo[this.app.options.appId],Promise.resolve()}}let vo={},BI=[];const ay={};let jI,wo,rh="dataLayer",$I="gtag",uy=!1;function $M(n,e,t){!function BM(){const n=[];if((0,P.ru)()&&n.push("This is a browser extension environment."),(0,P.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=ss.create("invalid-analytics-context",{errorInfo:e});Kr.warn(t.message)}}();const r=n.options.appId;if(!r)throw ss.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw ss.create("no-api-key");Kr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=vo[r])throw ss.create("already-exists",{id:r});if(!uy){!function NI(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(rh);const{wrappedGtag:o,gtagCore:c}=function fa(n,e,t,r,i){let o=function(...c){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function bD(n,e,t,r){function o(){return o=(0,_t.Z)(function*(c,d,f){try{"event"===c?yield function TD(n,e,t,r,i){return Q_.apply(this,arguments)}(n,e,t,d,f):"config"===c?yield function ED(n,e,t,r,i,o){return Y_.apply(this,arguments)}(n,e,t,r,d,f):"consent"===c?n("consent","update",f):n("set",d)}catch(_){Kr.error(_)}}),o.apply(this,arguments)}return function i(c,d,f){return o.apply(this,arguments)}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}(vo,BI,ay,rh,$I);wo=o,jI=c,uy=!0}return vo[r]=function sy(n,e,t,r,i,o,c){return oy.apply(this,arguments)}(n,BI,ay,e,jI,rh,t),new Rr(n)}function HI(){return Wp.apply(this,arguments)}function Wp(){return(Wp=(0,_t.Z)(function*(){if((0,P.ru)()||!(0,P.zI)()||!(0,P.hl)())return!1;try{return yield(0,P.eu)()}catch{return!1}})).apply(this,arguments)}const qp="@firebase/analytics";!function dy(){(0,Mt._registerComponent)(new Lr.wA(Up,(e,{options:t})=>$M(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,Mt._registerComponent)(new Lr.wA("analytics-internal",function n(e){try{const t=e.getProvider(Up).getImmediate();return{logEvent:(r,i,o)=>function ly(n,e,t,r){n=(0,P.m9)(n),function FM(n,e,t,r,i){return FI.apply(this,arguments)}(wo,vo[n.app.options.appId],e,t,r).catch(i=>Kr.error(i))}(t,r,i,o)}}catch(t){throw ss.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,Mt.registerVersion)(qp,"0.9.4"),(0,Mt.registerVersion)(qp,"0.9.4","esm2017")}();var Kp=V(727);class zI extends Kp.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const Ws={setInterval(n,e,...t){const{delegate:r}=Ws;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Ws;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var PD=V(8737);class Zp extends zI{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Ws.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Ws.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,PD.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const hy={now:()=>(hy.delegate||Date).now(),delegate:void 0};class Au{constructor(e,t=Au.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Au.now=hy.now;class ih extends Au{constructor(e,t=Au.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const WI=new class Ru extends ih{}(class Yp extends Zp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),fy=new ih(Zp);var fi=V(9751),Io=V(576),Fr=V(4482),xr=V(5403),xu=V(4671);function Gn(n,e,t){const r=(0,Io.m)(n)||e||t?{next:n,error:e,complete:t}:n;return r?(0,Fr.e)((i,o)=>{var c;null===(c=r.subscribe)||void 0===c||c.call(r);let d=!0;i.subscribe((0,xr.x)(o,f=>{var _;null===(_=r.next)||void 0===_||_.call(r,f),o.next(f)},()=>{var f;d=!1,null===(f=r.complete)||void 0===f||f.call(r),o.complete()},f=>{var _;d=!1,null===(_=r.error)||void 0===_||_.call(r,f),o.error(f)},()=>{var f,_;d&&(null===(f=r.unsubscribe)||void 0===f||f.call(r)),null===(_=r.finalize)||void 0===_||_.call(r)}))}):xu.y}var ku=V(5363),Yc=V(9468);const Qc=new y.GfV("7.5.0"),Qp="__angularfire_symbol__analyticsIsSupportedValue",KI="__angularfire_symbol__analyticsIsSupported",py="__angularfire_symbol__remoteConfigIsSupportedValue",Mu="__angularfire_symbol__remoteConfigIsSupported",gy="__angularfire_symbol__messagingIsSupportedValue",pa="__angularfire_symbol__messagingIsSupported";function Xp(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(c=>c.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[KI]||(globalThis[KI]=HI().then(n=>globalThis[Qp]=n).catch(()=>globalThis[Qp]=!1)),globalThis[pa]||(globalThis[pa]=AI().then(n=>globalThis[gy]=n).catch(()=>globalThis[gy]=!1)),globalThis[Mu]||(globalThis[Mu]=$_().then(n=>globalThis[py]=n).catch(()=>globalThis[py]=!1));const Jp=(n,e)=>{const t=e?[e]:(0,Mt.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(c=>{r.includes(c)||r.push(c)})}),r};function Pu(){}class my{constructor(e,t=WI){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(c){i.runGuarded(()=>{e.apply(this,[c])})},t,r)}}class _y{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pu,{},Pu,Pu)),t.pipe(Gn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ga=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new my(Zone.current)),this.insideAngular=t.run(()=>new my(Zone.current,fy)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(y.R0b))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ou(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Cs(n){return Ou().ngZone.run(()=>n())}function ZI(n){return n.pipe((0,ku.Q)(Ou().outsideAngular))}function qs(n){return Ou(),function LD(n){return function(t){return(t=t.lift(new _y(n.ngZone))).pipe((0,Yc.R)(n.outsideAngular),(0,ku.Q)(n.insideAngular))}}(Ou())(n)}const FD=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Cs(()=>n.apply(void 0,r))},Lu=(n,e)=>function(){let t;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(t||(t=Cs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pu,{},Pu,Pu)))),r[o]=FD(r[o],t));const i=function yy(n){return Ou().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof fi.y){const o=Ou();return i.pipe((0,Yc.R)(o.outsideAngular),(0,ku.Q)(o.insideAngular))}return Cs(()=>i)}return i instanceof fi.y?i.pipe(qs):i instanceof Promise?Cs(()=>new Promise((o,c)=>i.then(d=>Cs(()=>o(d)),d=>Cs(()=>c(d))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Cs(()=>i)};class Fu{constructor(e){return e}}class ma{constructor(){return(0,Mt.getApps)()}}const vy=new y.OlP("angularfire2._apps"),qM={provide:Fu,useFactory:function UD(n){return n&&1===n.length?n[0]:new Fu((0,Mt.getApp)())},deps:[[new y.FiY,vy]]},KM={provide:ma,deps:[[new y.FiY,vy]]};function YI(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Fu(r)}}let ZM=(()=>{class n{constructor(t){(0,Mt.registerVersion)("angularfire",Qc.full,"core"),(0,Mt.registerVersion)("angularfire",Qc.full,"app"),(0,Mt.registerVersion)("angular",y.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(y.Lbi))},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({providers:[qM,KM]}),n})();function QI(n,...e){return{ngModule:ZM,providers:[{provide:vy,useFactory:YI(n),multi:!0,deps:[y.R0b,y.zs3,ga,...e]}]}}const $D=Lu(Mt.initializeApp,!0),eg=new Map,XI={activated:!1,tokenObservers:[]},jD={initialized:!1,enabled:!1};function ai(n){return eg.get(n)||Object.assign({},XI)}function sh(){return jD}const wy="https://content-firebaseappcheck.googleapis.com/v1",Xt="exchangeDebugToken",JI={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class tE{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,_t.Z)(function*(){t.stop();try{t.pending=new P.BH,yield function WD(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new P.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const pi=new P.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function nE(n,e){return rg.apply(this,arguments)}function rg(){return(rg=(0,_t.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const C=yield i.getHeartbeatsHeader();C&&(r["X-Firebase-Client"]=C)}const o={method:"POST",body:JSON.stringify(e),headers:r};let c,d;try{c=yield fetch(n,o)}catch(C){throw pi.create("fetch-network-error",{originalErrorMessage:C?.message})}if(200!==c.status)throw pi.create("fetch-status-error",{httpStatus:c.status});try{d=yield c.json()}catch(C){throw pi.create("fetch-parse-error",{originalErrorMessage:C?.message})}const f=d.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw pi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});const _=1e3*Number(f[1]),I=Date.now();return{token:d.token,expireTimeMillis:I+_,issuedAtTimeMillis:I}})).apply(this,arguments)}const Ty="firebase-app-check-database",by=1,oh="firebase-app-check-store";let Cy=null;function Vu(n,e){return Dy.apply(this,arguments)}function Dy(){return(Dy=(0,_t.Z)(function*(n,e){const r=(yield function YD(){return Cy||(Cy=new Promise((n,e)=>{try{const t=indexedDB.open(Ty,by);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(pi.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(oh,{keyPath:"compositeKey"})}}catch(t){e(pi.create("storage-open",{originalErrorMessage:t?.message}))}}),Cy)}()).transaction(oh,"readwrite"),o=r.objectStore(oh).put({compositeKey:n,value:e});return new Promise((c,d)=>{o.onsuccess=f=>{c()},r.onerror=f=>{var _;d(pi.create("storage-set",{originalErrorMessage:null===(_=f.target.error)||void 0===_?void 0:_.message}))}})})).apply(this,arguments)}const Jc=new Ti.Yd("@firebase/app-check");function Ry(n,e){return(0,P.hl)()?function iE(n,e){return Vu(function sE(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Jc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function oE(){return ig.apply(this,arguments)}function ig(){return(ig=(0,_t.Z)(function*(){const n=sh();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const My={error:"UNKNOWN_ERROR"};function eN(n){return P.US.encodeString(JSON.stringify(n),!1)}function el(n){return Ny.apply(this,arguments)}function Ny(){return(Ny=(0,_t.Z)(function*(n,e=!1){const t=n.app;!function Iy(n){if(!ai(n).activated)throw pi.create("use-before-activation",{appName:n.name})}(t);const r=ai(t);let o,i=r.token;if(i&&!tl(i)&&(r.token=void 0,i=void 0),!i){const f=yield r.cachedTokenPromise;f&&(tl(f)?i=f:yield Ry(t,void 0))}if(!e&&i&&tl(i))return{token:i.token};let d,c=!1;if(function ky(){return sh().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=nE(function KD(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${wy}/projects/${t}/apps/${r}:${Xt}?key=${i}`,body:{debug_token:e}}}(t,yield oE()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const f=yield r.exchangeTokenPromise;return yield Ry(t,f),r.token=f,{token:f.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield ai(t).exchangeTokenPromise}catch(f){"appCheck/throttled"===f.code?Jc.warn(f.message):Jc.error(f),o=f}return i?o?d=tl(i)?{token:i.token,internalError:o}:cE(o):(d={token:i.token},r.token=i,yield Ry(t,i)):d=cE(o),c&&function Oy(n,e){const t=ai(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,d),d})).apply(this,arguments)}function ya(n,e){const t=ai(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Py(n){const{app:e}=n,t=ai(e);let r=t.tokenRefresher;r||(r=function tS(n){const{app:e}=n;return new tE((0,_t.Z)(function*(){let r;if(r=ai(e).token?yield el(n,!0):yield el(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=ai(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},JI.RETRIAL_MIN_WAIT,JI.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function tl(n){return n.expireTimeMillis-Date.now()>0}function cE(n){return{token:eN(My),error:n}}class sg{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ai(this.app);for(const t of e)ya(this.app,t.next);return Promise.resolve()}}const gE="app-check-internal";!function mE(){(0,Mt._registerComponent)(new Lr.wA("app-check",n=>function nl(n,e){return new sg(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(gE).initialize()})),(0,Mt._registerComponent)(new Lr.wA(gE,n=>function Ly(n){return{getToken:e=>el(n,e),addTokenListener:e=>function uE(n,e,t,r){const{app:i}=n,o=ai(i);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:r,type:e}],o.token&&tl(o.token)){const d=o.token;Promise.resolve().then(()=>{t({token:d.token}),Py(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Py(n))}(n,"INTERNAL",e),removeTokenListener:e=>ya(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Mt.registerVersion)("@firebase/app-check","0.6.4")}();class va{constructor(){return Jp("app-check")}}typeof window<"u"&&window;var uh=V(5114);function cg(n){return new fi.y(function(e){return{unsubscribe:(0,uh.v)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}function lg(n){return new fi.y(function(e){return{unsubscribe:(0,uh.q)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}class Bu{constructor(e){return e}}class cS{constructor(){return Jp("auth")}}const dg=new y.OlP("angularfire2.auth-instances");function IE(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Bu(r)}}const Ky={provide:cS,deps:[[new y.FiY,dg]]},Eo={provide:Bu,useFactory:function wE(n,e){const t=Xp("auth",n,e);return t&&new Bu(t)},deps:[[new y.FiY,dg],Fu]};let hg=(()=>{class n{constructor(){(0,Mt.registerVersion)("angularfire",Qc.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({providers:[Eo,Ky]}),n})();function fg(n,...e){return{ngModule:hg,providers:[{provide:dg,useFactory:IE(n),multi:!0,deps:[y.R0b,y.zs3,ga,ma,[new y.FiY,va],...e]}]}}const il=Lu(cg,!0),dS=Lu(lg,!0),ch=Lu(uh.a6,!0),Qy=Lu(uh.y,!0);var yt,bE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ys={},gg=gg||{},Wt=bE||self;function vh(){}function wh(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ol(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Xy="closure_uid_"+(1e9*Math.random()>>>0),vS=0;function wS(n,e,t){return n.call.apply(n.bind,arguments)}function IS(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ui(n,e,t){return(ui=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wS:IS).apply(null,arguments)}function Ih(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ur(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,o){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return e.prototype[i].apply(r,c)}}function wa(){this.s=this.s,this.o=this.o}wa.prototype.s=!1,wa.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function CE(n){Object.prototype.hasOwnProperty.call(n,Xy)&&n[Xy]||(n[Xy]=++vS)}(this)},wa.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Eh=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Th(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function DE(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(wh(r)){const i=n.length||0,o=r.length||0;n.length=i+o;for(let c=0;c<o;c++)n[i+c]=r[c]}else n.push(r)}}function Zr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Zr.prototype.h=function(){this.defaultPrevented=!0};var Jy=function(){if(!Wt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Wt.addEventListener("test",vh,e),Wt.removeEventListener("test",vh,e)}catch{}return n}();function bh(n){return/^[\s\xa0]*$/.test(n)}var ev=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ch(n,e){return n<e?-1:n>e?1:0}function Dh(){var n=Wt.navigator;return n&&(n=n.userAgent)?n:""}function Ss(n){return-1!=Dh().indexOf(n)}function Sh(n){return Sh[" "](n),n}Sh[" "]=vh;var yg,n,ES=Ss("Opera"),$u=Ss("Trident")||Ss("MSIE"),tv=Ss("Edge"),_g=tv||$u,AE=Ss("Gecko")&&!(-1!=Dh().toLowerCase().indexOf("webkit")&&!Ss("Edge"))&&!(Ss("Trident")||Ss("MSIE"))&&!Ss("Edge"),TS=-1!=Dh().toLowerCase().indexOf("webkit")&&!Ss("Edge");function RE(){var n=Wt.document;return n?n.documentMode:void 0}e:{var vg="",Ah=(n=Dh(),AE?/rv:([^\);]+)(\)|;)/.exec(n):tv?/Edge\/([\d\.]+)/.exec(n):$u?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):TS?/WebKit\/(\S+)/.exec(n):ES?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Ah&&(vg=Ah?Ah[1]:""),$u){var wg=RE();if(null!=wg&&wg>parseFloat(vg)){yg=String(wg);break e}}yg=vg}var xE={};var ME=Wt.document&&$u&&(RE()||parseInt(yg,10))||void 0;function al(n,e){if(Zr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(AE){e:{try{Sh(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:NE[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&al.X.h.call(this)}}Ur(al,Zr);var NE={2:"touch",3:"pen",4:"mouse"};al.prototype.h=function(){al.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ia="closure_listenable_"+(1e6*Math.random()|0),Ea=0;function bS(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++Ea,this.ba=this.ea=!1}function Eg(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Rh(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Ta(n){const e={};for(const t in n)e[t]=n[t];return e}const Tg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function PE(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let o=0;o<Tg.length;o++)t=Tg[o],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function ul(n){this.src=n,this.g={},this.h=0}function OE(n,e){var t=e.type;if(t in n.g){var o,r=n.g[t],i=Eh(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Eg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function LE(n,e,t,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.ba&&o.listener==e&&o.capture==!!t&&o.ha==r)return i}return-1}ul.prototype.add=function(n,e,t,r,i){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var c=LE(n,e,r,i);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new bS(e,this.src,o,!!r,i)).ea=t,n.push(e)),e};var rv="closure_lm_"+(1e6*Math.random()|0),iv={};function sv(n,e,t,r,i){if(r&&r.once)return ov(n,e,t,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)sv(n,e[o],t,r,i);return null}return t=ba(t),n&&n[Ia]?n.N(e,t,ol(r)?!!r.capture:!!r,i):FE(n,e,t,!1,r,i)}function FE(n,e,t,r,i,o){if(!e)throw Error("Invalid event type");var c=ol(i)?!!i.capture:!!i,d=bg(n);if(d||(n[rv]=d=new ul(n)),(t=d.add(e,t,r,c,o)).proxy)return t;if(r=function Vr(){const e=CS;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Jy||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(uv(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function ov(n,e,t,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)ov(n,e[o],t,r,i);return null}return t=ba(t),n&&n[Ia]?n.O(e,t,ol(r)?!!r.capture:!!r,i):FE(n,e,t,!0,r,i)}function UE(n,e,t,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)UE(n,e[o],t,r,i);else r=ol(r)?!!r.capture:!!r,t=ba(t),n&&n[Ia]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=LE(o=n.g[e],t,r,i))&&(Eg(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=bg(n))&&(e=n.g[e.toString()],n=-1,e&&(n=LE(e,t,r,i)),(t=-1<n?e[n]:null)&&av(t))}function av(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Ia])OE(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(uv(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=bg(e))?(OE(t,n),0==t.h&&(t.src=null,e[rv]=null)):Eg(n)}}}function uv(n){return n in iv?iv[n]:iv[n]="on"+n}function CS(n,e){if(n.ba)n=!0;else{e=new al(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&av(n),n=t.call(r,e)}return n}function bg(n){return(n=n[rv])instanceof ul?n:null}var Cg="__closure_events_fn_"+(1e9*Math.random()>>>0);function ba(n){return"function"==typeof n?n:(n[Cg]||(n[Cg]=function(e){return n.handleEvent(e)}),n[Cg])}function Yr(){wa.call(this),this.i=new ul(this),this.P=this,this.I=null}function ci(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Zr(e,n);else if(e instanceof Zr)e.target=e.target||n;else{var i=e;PE(e=new Zr(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var c=e.g=t[o];i=xh(c,r,!0,e)&&i}if(i=xh(c=e.g=n,r,!0,e)&&i,i=xh(c,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=xh(c=e.g=t[o],r,!1,e)&&i}function xh(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var c=e[o];if(c&&!c.ba&&c.capture==t){var d=c.listener,f=c.ha||c.src;c.ea&&OE(n.i,c),i=!1!==d.call(f,r)&&i}}return i&&!r.defaultPrevented}Ur(Yr,wa),Yr.prototype[Ia]=!0,Yr.prototype.removeEventListener=function(n,e,t,r){UE(this,n,e,t,r)},Yr.prototype.M=function(){if(Yr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Eg(t[r]);delete n.g[e],n.h--}}this.I=null},Yr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Yr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var cv=Wt.JSON.stringify;function VE(){var n=os;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var dv,lv=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new BE,n=>n.reset());class BE{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Qs(n){Wt.setTimeout(()=>{throw n},0)}function $E(n,e){dv||function Xs(){var n=Wt.Promise.resolve(void 0);dv=function(){n.then(jE)}}(),Wi||(dv(),Wi=!0),os.add(n,e)}var Wi=!1,os=new class NN{constructor(){this.h=this.g=null}add(e,t){const r=lv.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function jE(){for(var n;n=VE();){try{n.h.call(n.g)}catch(t){Qs(t)}var e=lv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Wi=!1}function kh(n,e){Yr.call(this),this.h=n||1,this.g=e||Wt,this.j=ui(this.lb,this),this.l=Date.now()}function hv(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function fv(n,e,t){if("function"==typeof n)t&&(n=ui(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ui(n.handleEvent,n)}return 2147483647<Number(e)?-1:Wt.setTimeout(n,e||0)}function HE(n){n.g=fv(()=>{n.g=null,n.i&&(n.i=!1,HE(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ur(kh,Yr),(yt=kh.prototype).ca=!1,yt.R=null,yt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ci(this,"tick"),this.ca&&(hv(this),this.start()))}},yt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},yt.M=function(){kh.X.M.call(this),hv(this),delete this.g};class DS extends wa{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:HE(this)}M(){super.M(),this.g&&(Wt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ju(n){wa.call(this),this.h=n,this.g={}}Ur(ju,wa);var cl=[];function GE(n,e,t,r){Array.isArray(t)||(t&&(cl[0]=t.toString()),t=cl);for(var i=0;i<t.length;i++){var o=sv(e,t[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function pv(n){Rh(n.g,function(e,t){this.g.hasOwnProperty(t)&&av(e)},n),n.g={}}function Dg(){this.g=!0}function bo(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function qE(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var c=1;c<i.length;c++)i[c]=""}}}return cv(t)}catch{return e}}(n,t)+(r?" "+r:"")})}ju.prototype.M=function(){ju.X.M.call(this),pv(this)},ju.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Dg.prototype.Aa=function(){this.g=!1},Dg.prototype.info=function(){};var Ca={},gv=null;function ll(){return gv=gv||new Yr}function mv(n){Zr.call(this,Ca.Pa,n)}function dl(n){const e=ll();ci(e,new mv(e))}function _v(n,e){Zr.call(this,Ca.STAT_EVENT,n),this.stat=e}function gi(n){const e=ll();ci(e,new _v(e,n))}function yv(n,e){Zr.call(this,Ca.Qa,n),this.size=e}function hl(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Wt.setTimeout(function(){n()},e)}Ca.Pa="serverreachability",Ur(mv,Zr),Ca.STAT_EVENT="statevent",Ur(_v,Zr),Ca.Qa="timingevent",Ur(yv,Zr);var Mh={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},vv={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function wv(){}function ZE(){}wv.prototype.h=null;var Tv,Nh={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Iv(){Zr.call(this,"d")}function Ev(){Zr.call(this,"c")}function Sg(){}function Ph(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new ju(this),this.O=AS,this.T=new kh(n=_g?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new YE}function YE(){this.i=null,this.g="",this.h=!1}Ur(Iv,Zr),Ur(Ev,Zr),Ur(Sg,wv),Sg.prototype.g=function(){return new XMLHttpRequest},Sg.prototype.i=function(){return{}},Tv=new Sg;var AS=45e3,bv={},Ag={};function Cv(n,e,t){n.K=1,n.v=Rv(Co(e)),n.s=t,n.P=!0,QE(n,null)}function QE(n,e){n.F=Date.now(),fl(n),n.A=Co(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),PS(t.i,"t",r),n.C=0,t=n.l.H,n.h=new YE,n.g=mT(n.l,t?e:null,!n.s),0<n.N&&(n.L=new DS(ui(n.La,n,n.g),n.N)),GE(n.S,n.g,"readystatechange",n.ib),e=n.H?Ta(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),dl(),function zE(n,e,t,r,i,o){n.info(function(){if(n.g)if(o)for(var c="",d=o.split("&"),f=0;f<d.length;f++){var _=d[f].split("=");if(1<_.length){var I=_[0];_=_[1];var C=I.split("_");c=2<=C.length&&"type"==C[1]?c+(I+"=")+_+"&":c+(I+"=redacted&")}}else c=null;else c=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function XE(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function JE(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=RS(n,t),i==Ag){4==e&&(n.o=4,gi(14),r=!1),bo(n.j,n.m,null,"[Incomplete Response]");break}if(i==bv){n.o=4,gi(15),bo(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}bo(n.j,n.m,i,null),Rg(n,i)}XE(n)&&i!=Ag&&i!=bv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,gi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Hv(e),e.K=!0,gi(11))):(bo(n.j,n.m,t,"[Invalid Chunked Response]"),Da(n),pl(n))}function RS(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Ag:(t=Number(e.substring(t,r)),isNaN(t)?bv:(r+=1)+t>e.length?Ag:(e=e.substr(r,t),n.C=r+t,e))}function fl(n){n.V=Date.now()+n.O,Dv(n,n.O)}function Dv(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=hl(ui(n.gb,n),e)}function Oh(n){n.B&&(Wt.clearTimeout(n.B),n.B=null)}function pl(n){0==n.l.G||n.I||Gv(n.l,n)}function Da(n){Oh(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,hv(n.T),pv(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Rg(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Nv(t.h,n)))if(!n.J&&Nv(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Og(t),Aa(t)}jv(t),gi(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=hl(ui(t.cb,t),6e3));if(1>=Mv(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Ra(t,11)}else if((n.J||t.g==n)&&Og(t),!bh(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let _=i[e];if(t.T=_[0],_=_[1],2==t.G)if("c"==_[0]){t.I=_[1],t.ka=_[2];const I=_[3];null!=I&&(t.ma=I,t.j.info("VER="+t.ma));const C=_[4];null!=C&&(t.Ca=C,t.j.info("SVER="+t.Ca));const S=_[5];null!=S&&"number"==typeof S&&0<S&&(t.J=r=1.5*S,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const M=n.g;if(M){const U=M.g?M.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var o=r.h;o.g||-1==U.indexOf("spdy")&&-1==U.indexOf("quic")&&-1==U.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Pv(o,o.h),o.h=null))}if(r.D){const Q=M.g?M.g.getResponseHeader("X-HTTP-Session-Id"):null;Q&&(r.za=Q,On(r.F,r.D,Q))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((r=t).sa=zv(r,r.H?r.ka:null,r.V),c.J){sT(r.h,c);var d=c,f=r.J;f&&d.setTimeout(f),d.B&&(Oh(d),fl(d)),r.g=c}else $v(r);0<t.i.length&&Ng(t)}else"stop"!=_[0]&&"close"!=_[0]||Ra(t,7);else 3==t.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?Ra(t,7):Mg(t):"noop"!=_[0]&&t.l&&t.l.wa(_),t.A=0)}dl()}catch{}}function Sv(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(wh(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function tT(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(wh(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function eT(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(wh(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],t&&t[o],n)}(yt=Ph.prototype).setTimeout=function(n){this.O=n},yt.ib=function(n){n=n.target;const e=this.L;e&&3==Sa(n)?e.l():this.La(n)},yt.La=function(n){try{if(n==this.g)e:{const I=Sa(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>I)&&(3!=I||_g||this.g&&(this.h.h||this.g.fa()||$S(this.g)))){this.I||4!=I||7==e||dl(),Oh(this);var t=this.g.aa();this.Y=t;t:if(XE(this)){var r=$S(this.g);n="";var i=r.length,o=4==Sa(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Da(this),pl(this);var c="";break t}this.h.i=new Wt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function WE(n,e,t,r,i,o,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+o+" "+c})}(this.j,this.u,this.A,this.m,this.U,I,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var d,f=this.g;if((d=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bh(d)){var _=d;break t}}_=null}if(!(t=_)){this.i=!1,this.o=3,gi(12),Da(this),pl(this);break e}bo(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Rg(this,t)}this.P?(JE(this,I,c),_g&&this.i&&3==I&&(GE(this.S,this.T,"tick",this.hb),this.T.start())):(bo(this.j,this.m,c,null),Rg(this,c)),4==I&&Da(this),this.i&&!this.I&&(4==I?Gv(this.l,this):(this.i=!1,fl(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,gi(12)):(this.o=0,gi(13)),Da(this),pl(this)}}}catch{}},yt.hb=function(){if(this.g){var n=Sa(this.g),e=this.g.fa();this.C<e.length&&(Oh(this),JE(this,n,e),this.i&&4!=n&&fl(this))}},yt.cancel=function(){this.I=!0,Da(this)},yt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function SS(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(dl(),gi(17)),Da(this),this.o=2,pl(this)):Dv(this,this.V-n)};var Av=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qi(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof qi){this.h=void 0!==e?e:n.h,xg(this,n.j),this.s=n.s,this.g=n.g,Do(this,n.m),this.l=n.l,e=n.i;var t=new Lh;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),xS(this,t),this.o=n.o}else n&&(t=String(n).match(Av))?(this.h=!!e,xg(this,t[1]||"",!0),this.s=gl(t[2]||""),this.g=gl(t[3]||"",!0),Do(this,t[4]),this.l=gl(t[5]||"",!0),xS(this,t[6]||"",!0),this.o=gl(t[7]||"")):(this.h=!!e,this.i=new Lh(null,this.h))}function Co(n){return new qi(n)}function xg(n,e,t){n.j=t?gl(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Do(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function xS(n,e,t){e instanceof Lh?(n.i=e,function rT(n,e){e&&!n.j&&(As(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Fh(this,r),PS(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=ml(e,NS)),n.i=new Lh(e,n.h))}function On(n,e,t){n.i.set(e,t)}function Rv(n){return On(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function gl(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ml(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,PN),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function PN(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}qi.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ml(e,Nt,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ml(e,Nt,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(ml(t,"/"==t.charAt(0)?MS:kS,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ml(t,_l)),n.join("")};var Nt=/[#\/\?@]/g,kS=/[#\?:]/g,MS=/[#\?]/g,NS=/[#\?@]/g,_l=/#/g;function Lh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function As(n){n.g||(n.g=new Map,n.h=0,n.i&&function nT(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var o=n[t].substring(0,r);i=n[t].substring(r+1)}else o=n[t];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Fh(n,e){As(n),e=Hu(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function sr(n,e){return As(n),e=Hu(n,e),n.g.has(e)}function PS(n,e,t){Fh(n,e),0<t.length&&(n.i=null,n.g.set(Hu(n,e),Th(t)),n.h+=t.length)}function Hu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function xv(n){this.l=n||iT,n=Wt.PerformanceNavigationTiming?0<(n=Wt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Wt.g&&Wt.g.Ga&&Wt.g.Ga()&&Wt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(yt=Lh.prototype).add=function(n,e){As(this),this.i=null,n=Hu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},yt.forEach=function(n,e){As(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},yt.oa=function(){As(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let o=0;o<i.length;o++)t.push(e[r])}return t},yt.W=function(n){As(this);let e=[];if("string"==typeof n)sr(this,n)&&(e=e.concat(this.g.get(Hu(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},yt.set=function(n,e){return As(this),this.i=null,sr(this,n=Hu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},yt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},yt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const o=encodeURIComponent(String(r)),c=this.W(r);for(r=0;r<c.length;r++){var i=o;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var iT=10;function kv(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Mv(n){return n.h?1:n.g?n.g.size:0}function Nv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Pv(n,e){n.g?n.g.add(e):n.h=e}function sT(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function yl(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Th(n.i)}function Ov(){}function LS(){this.g=new Ov}function FS(n,e,t){const r=t||"";try{Sv(n,function(i,o){let c=i;ol(i)&&(c=cv(i)),e.push(r+o+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Uh(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function vl(n){this.l=n.ac||null,this.j=n.jb||!1}function Vh(n,e){Yr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Lv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xv.prototype.cancel=function(){if(this.i=yl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Ov.prototype.stringify=function(n){return Wt.JSON.stringify(n,void 0)},Ov.prototype.parse=function(n){return Wt.JSON.parse(n,void 0)},Ur(vl,wv),vl.prototype.g=function(){return new Vh(this.l,this.j)},vl.prototype.i=function(n){return function(){return n}}({}),Ur(Vh,Yr);var Lv=0;function wl(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function So(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Bh(n)}function Bh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(yt=Vh.prototype).open=function(n,e){if(this.readyState!=Lv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Bh(this)},yt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Wt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},yt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,So(this)),this.readyState=Lv},yt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Bh(this)),this.g&&(this.readyState=3,Bh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Wt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wl(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},yt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?So(this):Bh(this),3==this.readyState&&wl(this)}},yt.Va=function(n){this.g&&(this.response=this.responseText=n,So(this))},yt.Ua=function(n){this.g&&(this.response=n,So(this))},yt.ga=function(){this.g&&So(this)},yt.setRequestHeader=function(n,e){this.v.append(n,e)},yt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},yt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Vh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var US=Wt.JSON.parse;function gr(n){Yr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Fv,this.K=this.L=!1}Ur(gr,Yr);var Fv="",oT=/^https?$/i,aT=["POST","PUT"];function Uv(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,uT(n),Vv(n)}function uT(n){n.D||(n.D=!0,ci(n,"complete"),ci(n,"error"))}function cT(n){if(n.h&&typeof gg<"u"&&(!n.C[1]||4!=Sa(n)||2!=n.aa()))if(n.v&&4==Sa(n))fv(n.Ha,0,n);else if(ci(n,"readystatechange"),4==Sa(n)){n.h=!1;try{const d=n.aa();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===d){var i=String(n.H).match(Av)[1]||null;if(!i&&Wt.self&&Wt.self.location){var o=Wt.self.location.protocol;i=o.substr(0,o.length-1)}r=!oT.test(i?i.toLowerCase():"")}t=r}if(t)ci(n,"complete"),ci(n,"success");else{n.m=6;try{var c=2<Sa(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",uT(n)}}finally{Vv(n)}}}function Vv(n,e){if(n.g){BS(n);const t=n.g,r=n.C[0]?vh:null;n.g=null,n.C=null,e||ci(n,"ready");try{t.onreadystatechange=r}catch{}}}function BS(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Wt.clearTimeout(n.A),n.A=null)}function Sa(n){return n.g?n.g.readyState:0}function $S(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Fv:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Bv(n){let e="";return Rh(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Il(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Bv(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):On(n,e,t))}function $h(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function lT(n){this.Ca=0,this.i=[],this.j=new Dg,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=$h("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=$h("baseRetryDelayMs",5e3,n),this.bb=$h("retryDelaySeedMs",1e4,n),this.$a=$h("forwardChannelMaxRetries",2,n),this.ta=$h("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new xv(n&&n.concurrentRequestLimit),this.Fa=new LS,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Mg(n){if(dT(n),3==n.G){var e=n.U++,t=Co(n.F);On(t,"SID",n.I),On(t,"RID",e),On(t,"TYPE","terminate"),Pg(n,t),(e=new Ph(n,n.j,e,void 0)).K=2,e.v=Rv(Co(t)),t=!1,Wt.navigator&&Wt.navigator.sendBeacon&&(t=Wt.navigator.sendBeacon(e.v.toString(),"")),!t&&Wt.Image&&((new Image).src=e.v,t=!0),t||(e.g=mT(e.l,null),e.g.da(e.v)),e.F=Date.now(),fl(e)}gT(n)}function Aa(n){n.g&&(Hv(n),n.g.cancel(),n.g=null)}function dT(n){Aa(n),n.u&&(Wt.clearTimeout(n.u),n.u=null),Og(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Wt.clearTimeout(n.m),n.m=null)}function Ng(n){kv(n.h)||n.m||(n.m=!0,$E(n.Ja,n),n.C=0)}function hT(n,e){var t;t=e?e.m:n.U++;const r=Co(n.F);On(r,"SID",n.I),On(r,"RID",t),On(r,"AID",n.T),Pg(n,r),n.o&&n.s&&Il(r,n.o,n.s),t=new Ph(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=fT(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Pv(n.h,t),Cv(t,r,e)}function Pg(n,e){n.ia&&Rh(n.ia,function(t,r){On(e,r,t)}),n.l&&Sv({},function(t,r){On(e,r,t)})}function fT(n,e,t){t=Math.min(n.i.length,t);var r=n.l?ui(n.l.Ra,n.l,n):null;e:{var i=n.i;let o=-1;for(;;){const c=["count="+t];-1==o?0<t?(o=i[0].h,c.push("ofs="+o)):o=0:c.push("ofs="+o);let d=!0;for(let f=0;f<t;f++){let _=i[f].h;const I=i[f].g;if(_-=o,0>_)o=Math.max(0,i[f].h-100),d=!1;else try{FS(I,c,"req"+_+"_")}catch{r&&r(I)}}if(d){r=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function $v(n){n.g||n.u||(n.Z=1,$E(n.Ia,n),n.A=0)}function jv(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=hl(ui(n.Ia,n),pT(n,n.A)),n.A++,0))}function Hv(n){null!=n.B&&(Wt.clearTimeout(n.B),n.B=null)}function El(n){n.g=new Ph(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Co(n.sa);On(e,"RID","rpc"),On(e,"SID",n.I),On(e,"CI",n.L?"0":"1"),On(e,"AID",n.T),On(e,"TYPE","xmlhttp"),Pg(n,e),n.o&&n.s&&Il(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Rv(Co(e)),t.s=null,t.P=!0,QE(t,n)}function Og(n){null!=n.v&&(Wt.clearTimeout(n.v),n.v=null)}function Gv(n,e){var t=null;if(n.g==e){Og(n),Hv(n),n.g=null;var r=2}else{if(!Nv(n.h,e))return;t=e.D,sT(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;ci(r=ll(),new yv(r,t)),Ng(n)}else $v(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function jS(n,e){return!(Mv(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=hl(ui(n.Ja,n,e),pT(n,n.C)),n.C++,0)))}(n,e)||2==r&&jv(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Ra(n,5);break;case 4:Ra(n,10);break;case 3:Ra(n,6);break;default:Ra(n,2)}}function pT(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Ra(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=ui(n.kb,n);t||(t=new qi("//www.google.com/images/cleardot.gif"),Wt.location&&"http"==Wt.location.protocol||xg(t,"https"),Rv(t)),function kg(n,e){const t=new Dg;if(Wt.Image){const r=new Image;r.onload=Ih(Uh,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Ih(Uh,t,r,"TestLoadImage: error",!1,e),r.onabort=Ih(Uh,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ih(Uh,t,r,"TestLoadImage: timeout",!1,e),Wt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else gi(2);n.G=0,n.l&&n.l.va(e),gT(n),dT(n)}function gT(n){if(n.G=0,n.la=[],n.l){const e=yl(n.h);(0!=e.length||0!=n.i.length)&&(DE(n.la,e),DE(n.la,n.i),n.h.i.length=0,Th(n.i),n.i.length=0),n.l.ua()}}function zv(n,e,t){var r=t instanceof qi?Co(t):new qi(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Do(r,r.m);else{var i=Wt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new qi(null,void 0);r&&xg(o,r),e&&(o.g=e),i&&Do(o,i),t&&(o.l=t),r=o}return e=n.za,(t=n.D)&&e&&On(r,t,e),On(r,"VER",n.ma),Pg(n,r),r}function mT(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new gr(t&&n.Da&&!n.ra?new vl({jb:!0}):n.ra)).Ka(n.H),e}function Lg(){}function Fg(){if($u&&!(10<=Number(ME)))throw Error("Environmental error: no available transport.")}function Li(n,e){Yr.call(this),this.g=new lT(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!bh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bh(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Tl(this)}function Wv(n){Iv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function _T(){Ev.call(this),this.status=1}function Tl(n){this.g=n}(yt=gr.prototype).Ka=function(n){this.L=n},yt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Tv.g(),this.C=function KE(n){return n.h||(n.h=n.i())}(this.u?this.u:Tv),this.g.onreadystatechange=ui(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(o){return void Uv(this,o)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())t.set(o,r.get(o))}r=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),i=Wt.FormData&&n instanceof Wt.FormData,!(0<=Eh(aT,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,c]of t)this.g.setRequestHeader(o,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{BS(this),0<this.B&&((this.K=function VS(n){return $u&&function kE(){return function SE(n){var e=xE;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=ev(String(yg)).split("."),t=ev("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",o=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;n=Ch(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||Ch(0==i[2].length,0==o[2].length)||Ch(i[2],o[2]),i=i[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ui(this.qa,this)):this.A=fv(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){Uv(this,o)}},yt.qa=function(){typeof gg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ci(this,"timeout"),this.abort(8))},yt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ci(this,"complete"),ci(this,"abort"),Vv(this))},yt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vv(this,!0)),gr.X.M.call(this)},yt.Ha=function(){this.s||(this.F||this.v||this.l?cT(this):this.fb())},yt.fb=function(){cT(this)},yt.aa=function(){try{return 2<Sa(this)?this.g.status:-1}catch{return-1}},yt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},yt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),US(e)}},yt.Ea=function(){return this.m},yt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(yt=lT.prototype).ma=8,yt.G=1,yt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Ph(this,this.j,n,void 0);let o=this.s;if(this.S&&(o?(o=Ta(o),PE(o,this.S)):o=this.S),null!==this.o||this.N||(i.H=o,o=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=fT(this,i,e),On(t=Co(this.F),"RID",n),On(t,"CVER",22),this.D&&On(t,"X-HTTP-Session-Id",this.D),Pg(this,t),o&&(this.N?e="headers="+encodeURIComponent(String(Bv(o)))+"&"+e:this.o&&Il(t,this.o,o)),Pv(this.h,i),this.Ya&&On(t,"TYPE","init"),this.O?(On(t,"$req",e),On(t,"SID","null"),i.Z=!0,Cv(i,t,null)):Cv(i,t,e),this.G=2}}else 3==this.G&&(n?hT(this,n):0==this.i.length||kv(this.h)||hT(this))},yt.Ia=function(){if(this.u=null,El(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=hl(ui(this.eb,this),n)}},yt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,gi(10),Aa(this),El(this))},yt.cb=function(){null!=this.v&&(this.v=null,Aa(this),jv(this),gi(19))},yt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),gi(2)):(this.j.info("Failed to ping google.com"),gi(1))},(yt=Lg.prototype).xa=function(){},yt.wa=function(){},yt.va=function(){},yt.ua=function(){},yt.Ra=function(){},Fg.prototype.g=function(n,e){return new Li(n,e)},Ur(Li,Yr),Li.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;gi(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=zv(n,null,n.V),Ng(n)},Li.prototype.close=function(){Mg(this.g)},Li.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=cv(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Ng(e)},Li.prototype.M=function(){this.g.l=null,delete this.j,Mg(this.g),delete this.g,Li.X.M.call(this)},Ur(Wv,Iv),Ur(_T,Ev),Ur(Tl,Lg),Tl.prototype.xa=function(){ci(this.g,"a")},Tl.prototype.wa=function(n){ci(this.g,new Wv(n))},Tl.prototype.va=function(n){ci(this.g,new _T)},Tl.prototype.ua=function(){ci(this.g,"b")},Fg.prototype.createWebChannel=Fg.prototype.g,Li.prototype.send=Li.prototype.u,Li.prototype.open=Li.prototype.m,Li.prototype.close=Li.prototype.close,Mh.NO_ERROR=0,Mh.TIMEOUT=8,Mh.HTTP_ERROR=6,vv.COMPLETE="complete",ZE.EventType=Nh,Nh.OPEN="a",Nh.CLOSE="b",Nh.ERROR="c",Nh.MESSAGE="d",Yr.prototype.listen=Yr.prototype.N,gr.prototype.listenOnce=gr.prototype.O,gr.prototype.getLastError=gr.prototype.Oa,gr.prototype.getLastErrorCode=gr.prototype.Ea,gr.prototype.getStatus=gr.prototype.aa,gr.prototype.getResponseJson=gr.prototype.Sa,gr.prototype.getResponseText=gr.prototype.fa,gr.prototype.send=gr.prototype.da,gr.prototype.setWithCredentials=gr.prototype.Ka,Ys.createWebChannelTransport=function(){return new Fg},Ys.getStatEventTarget=function(){return ll()},Ys.ErrorCode=Mh,Ys.EventType=vv,Ys.Event=Ca,Ys.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Ys.FetchXmlHttpFactory=vl,Ys.WebChannel=ZE,Ys.XhrIo=gr;const vT="@firebase/firestore";class Qr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qr.UNAUTHENTICATED=new Qr(null),Qr.GOOGLE_CREDENTIALS=new Qr("google-credentials-uid"),Qr.FIRST_PARTY=new Qr("first-party-uid"),Qr.MOCK_USER=new Qr("mock-user");let jh="9.18.0";const Ao=new Ti.Yd("@firebase/firestore");function $e(n,...e){if(Ao.logLevel<=Ti.in.DEBUG){const t=e.map(qv);Ao.debug(`Firestore (${jh}): ${n}`,...t)}}function mr(n,...e){if(Ao.logLevel<=Ti.in.ERROR){const t=e.map(qv);Ao.error(`Firestore (${jh}): ${n}`,...t)}}function qv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function dt(n="Unexpected state"){const e=`FIRESTORE (${jh}) INTERNAL ASSERTION FAILED: `+n;throw mr(e),new Error(e)}function gt(n,e){n||dt()}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends P.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Br{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Vg{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Qr.UNAUTHENTICATED))}shutdown(){}}class zS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class bl{constructor(e){this.t=e,this.currentUser=Qr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const o=_=>this.i!==i?(i=this.i,t(_)):Promise.resolve();let c=new Br;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Br,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const _=c;e.enqueueRetryable((0,_t.Z)(function*(){yield _.promise,yield o(r.currentUser)}))},f=_=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(_=>f(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?f(_):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Br)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(gt("string"==typeof r.accessToken),new Vg(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return gt(null===e||"string"==typeof e),new Qr(e)}}class IT{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Qr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(gt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class WS{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new IT(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Qr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ET{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=o=>{null!=o.error&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.A;return this.A=o.token,$e("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.T.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.T.getImmediate({optional:!0});o?i(o):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(gt("string"==typeof t.token),this.A=t.token,new qS(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function KS(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Bg{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=KS(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function Yt(n,e){return n<e?-1:n>e?1:0}class Gh{constructor(e,t,r){void 0===t?t=0:t>e.length&&dt(),void 0===r?r=e.length-t:r>e.length-t&&dt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Gh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Gh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),c=t.get(i);if(o<c)return-1;if(o>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ln extends Gh{construct(e,t,r){return new ln(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ln(t)}static emptyPath(){return new ln([])}}class et{constructor(e){this.path=e}static fromPath(e){return new et(ln.fromString(e))}static fromName(e){return new et(ln.fromString(e).popFirst(5))}static empty(){return new et(ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ln.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ln.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new ln(e.slice()))}}function xo(n){return"IndexedDbTransactionError"===n.name}class nA{constructor(e,t,r,i,o,c,d,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.useFetchStreams=f}}class zu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new zu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof zu&&e.projectId===this.projectId&&e.database===this.database}}class Wh extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $r{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw i instanceof DOMException?new Wh("Invalid base64 string: "+i):i}}(e);return new $r(t)}static fromUint8Array(e){const t=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new $r(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function $n(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}$r.EMPTY_BYTE_STRING=new $r("");class or{constructor(e,t){this.comparator=e,this.root=t||Xr.EMPTY}insert(e,t){return new or(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xr.BLACK,null,null))}remove(e){return new or(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rm(this.root,e,this.comparator,!1)}getReverseIterator(){return new rm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rm(this.root,e,this.comparator,!0)}}class rm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xr{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Xr.RED,this.left=i??Xr.EMPTY,this.right=o??Xr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Xr(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Xr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}Xr.EMPTY=null,Xr.RED=!0,Xr.BLACK=!1,Xr.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Xr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fn{constructor(e){this.comparator=e,this.data=new or(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new UT(this.data.getIterator())}getIteratorFrom(e){return new UT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new fn(this.comparator);return t.data=e,t}}class UT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}var yn,dn;(dn=yn||(yn={}))[dn.OK=0]="OK",dn[dn.CANCELLED=1]="CANCELLED",dn[dn.UNKNOWN=2]="UNKNOWN",dn[dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dn[dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dn[dn.NOT_FOUND=5]="NOT_FOUND",dn[dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",dn[dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",dn[dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",dn[dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dn[dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dn[dn.ABORTED=10]="ABORTED",dn[dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",dn[dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",dn[dn.INTERNAL=13]="INTERNAL",dn[dn.UNAVAILABLE=14]="UNAVAILABLE",dn[dn.DATA_LOSS=15]="DATA_LOSS",new or(et.comparator),new or(et.comparator),new or(et.comparator),new fn(et.comparator),new fn(Yt);class D{constructor(){}ae(e,t){this.he(e,t),t.le()}he(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de($n(e.integerValue));else if("doubleValue"in e){const r=$n(e.doubleValue);isNaN(r)?this.fe(t,13):(this.fe(t,15),function zh(n){return 0===n&&1/n==-1/0}(r)?t.de(0):t.de(r))}else if("timestampValue"in e){const r=e.timestampValue;this.fe(t,20),"string"==typeof r?t._e(r):(t._e(`${r.seconds||""}`),t.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(function qu(n){return"string"==typeof n?$r.fromBase64String(n):$r.fromUint8Array(n)}(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.fe(t,45),t.de(r.latitude||0),t.de(r.longitude||0)}else"mapValue"in e?function r0(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):dt()}we(e,t){this.fe(t,25),this.Te(e,t)}Te(e,t){t._e(e)}pe(e,t){const r=e.fields||{};this.fe(t,55);for(const i of Object.keys(r))this.we(i,t),this.he(r[i],t)}Ie(e,t){const r=e.values||[];this.fe(t,50);for(const i of r)this.he(i,t)}ye(e,t){this.fe(t,37),et.fromName(e).path.forEach(r=>{this.fe(t,60),this.Te(r,t)})}fe(e,t){e.de(t)}me(e){e.de(2)}}D.Ee=new D,new Uint8Array(0);class ds{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ds(e,ds.DEFAULT_COLLECTION_PERCENTILE,ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function xb(){return typeof document<"u"?document:null}ds.DEFAULT_COLLECTION_PERCENTILE=10,ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ds.DEFAULT=new ds(41943040,ds.DEFAULT_COLLECTION_PERCENTILE,ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ds.DISABLED=new ds(-1,0,0);class tR{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ys=e,this.timerId=t,this.po=r,this.Io=i,this.To=o,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}Po(){this.Eo=this.To}vo(e){this.cancel();const t=Math.floor(this.Eo+this.bo()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,t-r);i>0&&$e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Eo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}bo(){return(Math.random()-.5)*this.Eo}}class wR{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,o){const c=Date.now()+r,d=new wR(e,t,c,i,o);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pe(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class QV{constructor(e,t,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Qr.UNAUTHENTICATED,this.clientId=Bg.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,_t.Z)(function*(d){$e("FirestoreClient","Received user=",d.uid),yield o.authCredentialListener(d),o.user=d});return function(d){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>($e("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,_t.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pe(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_t.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=function Dm(n,e){if(mr("AsyncQueue",`${e}: ${n}`),xo(n))return new Pe(le.UNAVAILABLE,`${e}: ${n}`);throw n}(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}const iO=new Map;function pn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Pe(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function Lb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":dt()}(n);throw new Pe(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class uO{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Pe(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Pe(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function sB(n,e,t,r){if(!0===e&&!0===r)throw new Pe(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class V0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uO({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Pe(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Pe(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uO(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new GS;switch(t.type){case"gapi":return new WS(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Pe(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=iO.get(e);t&&($e("ComponentProvider","Removing Datastore"),iO.delete(e),t.terminate())}(this),Promise.resolve()}}class uB{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new tR(this,"async_queue_retry"),this.Hc=()=>{const t=xb();t&&$e("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ko.Vo()};const e=xb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const t=xb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const t=new Br;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}Zc(){var e=this;return(0,_t.Z)(function*(){if(0!==e.Uc.length){try{yield e.Uc[0](),e.Uc.shift(),e.ko.reset()}catch(t){if(!xo(t))throw t;$e("AsyncQueue","Operation failed with retryable error: "+t)}e.Uc.length>0&&e.ko.vo(()=>e.Zc())}})()}Yc(e){const t=this.qc.then(()=>(this.jc=!0,e().catch(r=>{throw this.Qc=r,this.jc=!1,mr("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(r)),r}).then(r=>(this.jc=!1,r))));return this.qc=t,t}enqueueAfterDelay(e,t,r){this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);const i=wR.createAndSchedule(this,e,t,r,o=>this.Xc(o));return this.Gc.push(i),i}Jc(){this.Qc&&dt()}verifyOperationInProgress(){}ta(){var e=this;return(0,_t.Z)(function*(){let t;do{t=e.qc,yield t}while(t!==e.qc)})()}ea(e){for(const t of this.Gc)if(t.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Gc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}class cr extends V0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new uB,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function lO(n){var e;const t=n._freezeSettings(),r=(o=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new nA(n._databaseId,o,n._persistenceKey,(d=t).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var o,d;n._firestoreClient=new QV(n._authCredentials,n._appCheckCredentials,n._queue,r)}(this),this._firestoreClient.terminate()}}function lB(n,e){const t="object"==typeof n?n:(0,Mt.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,Mt._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(0,P.P0)("firestore");o&&function oB(n,e,t,r={}){var i;const o=(n=pn(n,V0))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&function Hh(n,...e){if(Ao.logLevel<=Ti.in.WARN){const t=e.map(qv);Ao.warn(`Firestore (${jh}): ${n}`,...t)}}("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,d;if("string"==typeof r.mockUserToken)c=r.mockUserToken,d=Qr.MOCK_USER;else{c=(0,P.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Pe(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Qr(f)}n._authCredentials=new zS(new Vg(c,d))}}(i,...o)}return i}!function(n,e=!0){jh=Mt.SDK_VERSION,(0,Mt._registerComponent)(new Lr.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const o=t.getProvider("app").getImmediate(),c=new cr(new bl(t.getProvider("auth-internal")),new ET(t.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Pe(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zu(d.options.projectId,f)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,Mt.registerVersion)(vT,"3.9.0",n),(0,Mt.registerVersion)(vT,"3.9.0","esm2017")}();class Wb{constructor(e){return e}}const kO="firestore",mx=new y.OlP("angularfire2.firestore-instances");function xB(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Wb(r)}}const kB={provide:class AB{constructor(){return Jp(kO)}},deps:[[new y.FiY,mx]]},MB={provide:Wb,useFactory:function RB(n,e){const t=Xp(kO,n,e);return t&&new Wb(t)},deps:[[new y.FiY,mx],Fu]};let NB=(()=>{class n{constructor(){(0,Mt.registerVersion)("angularfire",Qc.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({providers:[MB,kB]}),n})();function PB(n,...e){return{ngModule:NB,providers:[{provide:mx,useFactory:xB(n),multi:!0,deps:[y.R0b,y.zs3,ga,ma,[new y.FiY,cS],[new y.FiY,va],...e]}]}}const OB=Lu(lB,!0),LB_firebaseConfig={apiKey:"AIzaSyC2mhxRrYNv3ytoMtqYZLAIxmQlar4cLwo",authDomain:"nounoulagrauliere.firebaseapp.com",projectId:"nounoulagrauliere",storageBucket:"nounoulagrauliere.appspot.com",messagingSenderId:"847471460553",appId:"1:847471460553:web:43abee7698bbe49f7d4d18",measurementId:"G-J4CVTW6FSD"};var jn=V(8996),Om=V(7669);function mt(...n){const e=(0,Om.yG)(n);return(0,jn.D)(n,e)}var $a=V(7579);class no extends $a.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const qb=(0,V(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:UB}=Array,{getPrototypeOf:VB,prototype:BB,keys:$B}=Object;var jt=V(4004);const{isArray:GB}=Array;var KB=V(9672);function MO(...n){const e=(0,Om.yG)(n),t=(0,Om.jO)(n),{args:r,keys:i}=function jB(n){if(1===n.length){const e=n[0];if(UB(e))return{args:e,keys:null};if(function HB(n){return n&&"object"==typeof n&&VB(n)===BB}(e)){const t=$B(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n);if(0===r.length)return(0,jn.D)([],e);const o=new fi.y(function ZB(n,e,t=xu.y){return r=>{NO(e,()=>{const{length:i}=n,o=new Array(i);let c=i,d=i;for(let f=0;f<i;f++)NO(e,()=>{const _=(0,jn.D)(n[f],e);let I=!1;_.subscribe((0,xr.x)(r,C=>{o[f]=C,I||(I=!0,d--),d||r.next(t(o.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>function qB(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}(i,c):xu.y));return t?o.pipe(function WB(n){return(0,jt.U)(e=>function zB(n,e){return GB(e)?n(...e):n(e)}(n,e))}(t)):o}function NO(n,e,t){n?(0,KB.f)(t,n,e):e()}var W0=V(8189);function _x(...n){return function YB(){return(0,W0.J)(1)}()((0,jn.D)(n,(0,Om.yG)(n)))}var q0=V(8421);function Lm(n){return new fi.y(e=>{(0,q0.Xf)(n()).subscribe(e)})}var QB=V(9635);function gf(n,e){const t=(0,Io.m)(n)?n:()=>n,r=i=>i.error(t());return new fi.y(e?i=>e.schedule(r,0,i):r)}var ja=V(515);function yx(){return(0,Fr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,xr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class PO extends fi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Fr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Kp.w0;const t=this.getSubject();e.add(this.source.subscribe((0,xr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Kp.w0.EMPTY)}return e}refCount(){return yx()(this)}}function Tr(n,e){return(0,Fr.e)((t,r)=>{let i=null,o=0,c=!1;const d=()=>c&&!i&&r.complete();t.subscribe((0,xr.x)(r,f=>{i?.unsubscribe();let _=0;const I=o++;(0,q0.Xf)(n(f,I)).subscribe(i=(0,xr.x)(r,C=>r.next(e?e(f,C,I,_++):C),()=>{i=null,d()}))},()=>{c=!0,d()}))})}function Fm(n){return n<=0?()=>ja.E:(0,Fr.e)((e,t)=>{let r=0;e.subscribe((0,xr.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Po(n,e){return(0,Fr.e)((t,r)=>{let i=0;t.subscribe((0,xr.x)(r,o=>n.call(e,o,i++)&&r.next(o)))})}var Si=V(5577);function Kb(n){return(0,Fr.e)((e,t)=>{let r=!1;e.subscribe((0,xr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function OO(n=JB){return(0,Fr.e)((e,t)=>{let r=!1;e.subscribe((0,xr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function JB(){return new qb}function oc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Po((i,o)=>n(i,o,r)):xu.y,Fm(1),t?Kb(e):OO(()=>new qb))}function Oo(n,e){return(0,Io.m)(e)?(0,Si.z)(n,e,1):(0,Si.z)(n,1)}function Lo(n){return(0,Fr.e)((e,t)=>{let o,r=null,i=!1;r=e.subscribe((0,xr.x)(t,void 0,void 0,c=>{o=(0,q0.Xf)(n(c,Lo(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function K0(n,e){return(0,Fr.e)(function e$(n,e,t,r,i){return(o,c)=>{let d=t,f=e,_=0;o.subscribe((0,xr.x)(c,I=>{const C=_++;f=d?n(f,I,C):(d=!0,I),r&&c.next(f)},i&&(()=>{d&&c.next(f),c.complete()})))}}(n,e,arguments.length>=2,!0))}function vx(n){return n<=0?()=>ja.E:(0,Fr.e)((e,t)=>{let r=[];e.subscribe((0,xr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function LO(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Po((i,o)=>n(i,o,r)):xu.y,vx(1),t?Kb(e):OO(()=>new qb))}function wx(n){return(0,Fr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const en="primary",Z0=Symbol("RouteTitle");class r${constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Um(n){return new r$(n)}function i$(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const c=r[o],d=n[o];if(c.startsWith(":"))i[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ha(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!FO(n[i],e[i]))return!1;return!0}function FO(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function UO(n){return Array.prototype.concat.apply([],n)}function VO(n){return n.length>0?n[n.length-1]:null}function Ai(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Wl(n){return(0,y.CqO)(n)?n:(0,y.QGY)(n)?(0,jn.D)(Promise.resolve(n)):mt(n)}const Zb=!1,o$={exact:function jO(n,e,t){if(!mf(n.segments,e.segments)||!Yb(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!jO(n.children[r],e.children[r],t))return!1;return!0},subset:HO},BO={exact:function a$(n,e){return Ha(n,e)},subset:function u$(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>FO(n[t],e[t]))},ignored:()=>!0};function $O(n,e,t){return o$[t.paths](n.root,e.root,t.matrixParams)&&BO[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function HO(n,e,t){return GO(n,e,e.segments,t)}function GO(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!mf(i,t)||e.hasChildren()||!Yb(i,t,r))}if(n.segments.length===t.length){if(!mf(n.segments,t)||!Yb(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!HO(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(mf(n.segments,i)&&Yb(n.segments,i,r)&&n.children[en])&&GO(n.children[en],e,o,r)}}function Yb(n,e,t){return e.every((r,i)=>BO[t](n[i].parameters,r.parameters))}class ql{constructor(e=new an([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Um(this.queryParams)),this._queryParamMap}toString(){return d$.serialize(this)}}class an{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ai(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qb(this)}}class Y0{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Um(this.parameters)),this._parameterMap}toString(){return qO(this)}}function mf(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Q0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:function(){return new Ix},providedIn:"root"}),n})();class Ix{parse(e){const t=new w$(e);return new ql(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${X0(e.root,!0)}`,r=function p$(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Xb(t)}=${Xb(i)}`).join("&"):`${Xb(t)}=${Xb(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function h$(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${i}`}}const d$=new Ix;function Qb(n){return n.segments.map(e=>qO(e)).join("/")}function X0(n,e){if(!n.hasChildren())return Qb(n);if(e){const t=n.children[en]?X0(n.children[en],!1):"",r=[];return Ai(n.children,(i,o)=>{o!==en&&r.push(`${o}:${X0(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function l$(n,e){let t=[];return Ai(n.children,(r,i)=>{i===en&&(t=t.concat(e(r,i)))}),Ai(n.children,(r,i)=>{i!==en&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===en?[X0(n.children[en],!1)]:[`${i}:${X0(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[en]?`${Qb(n)}/${t[0]}`:`${Qb(n)}/(${t.join("//")})`}}function zO(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xb(n){return zO(n).replace(/%3B/gi,";")}function Ex(n){return zO(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jb(n){return decodeURIComponent(n)}function WO(n){return Jb(n.replace(/\+/g,"%20"))}function qO(n){return`${Ex(n.path)}${function f$(n){return Object.keys(n).map(e=>`;${Ex(e)}=${Ex(n[e])}`).join("")}(n.parameters)}`}const g$=/^[^\/()?;=#]+/;function eC(n){const e=n.match(g$);return e?e[0]:""}const m$=/^[^=?&#]+/,y$=/^[^&#]+/;class w${constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new an([],{}):new an([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[en]=new an(e,t)),r}parseSegment(){const e=eC(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new y.vHH(4009,Zb);return this.capture(e),new Y0(Jb(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=eC(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=eC(this.remaining);i&&(r=i,this.capture(r))}e[Jb(t)]=Jb(r)}parseQueryParam(e){const t=function _$(n){const e=n.match(m$);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function v$(n){const e=n.match(y$);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=WO(t),o=WO(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=eC(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new y.vHH(4010,Zb);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=en);const c=this.parseChildren();t[o]=1===Object.keys(c).length?c[en]:new an([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new y.vHH(4011,Zb)}}function Tx(n){return n.segments.length>0?new an([],{[en]:n}):n}function tC(n){const e={};for(const r of Object.keys(n.children)){const o=tC(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function I$(n){if(1===n.numberOfChildren&&n.children[en]){const e=n.children[en];return new an(n.segments.concat(e.segments),e.children)}return n}(new an(n.segments,e))}function _f(n){return n instanceof ql}const bx=!1;function E$(n,e,t,r,i){if(0===t.length)return Vm(e.root,e.root,e.root,r,i);const o=function XO(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new QO(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,c)=>{if("object"==typeof o&&null!=o){if(o.outlets){const d={};return Ai(o.outlets,(f,_)=>{d[_]="string"==typeof f?f.split("/"):f}),[...i,{outlets:d}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===c?(o.split("/").forEach((d,f)=>{0==f&&"."===d||(0==f&&""===d?t=!0:".."===d?e++:""!=d&&i.push(d))}),i):[...i,o]},[]);return new QO(t,e,r)}(t);return o.toRoot()?Vm(e.root,e.root,new an([],{}),r,i):function c(f){const _=function b$(n,e,t,r){if(n.isAbsolute)return new Bm(e.root,!0,0);if(-1===r)return new Bm(t,t===e.root,0);return function JO(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new y.vHH(4005,bx&&"Invalid number of '../'");i=r.segments.length}return new Bm(r,!1,i-o)}(t,r+(J0(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,f),I=_.processChildren?$m(_.segmentGroup,_.index,o.commands):Cx(_.segmentGroup,_.index,o.commands);return Vm(e.root,_.segmentGroup,I,r,i)}(n.snapshot?._lastPathIndex)}function J0(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ew(n){return"object"==typeof n&&null!=n&&n.outlets}function Vm(n,e,t,r,i){let c,o={};r&&Ai(r,(f,_)=>{o[_]=Array.isArray(f)?f.map(I=>`${I}`):`${f}`}),c=n===e?t:YO(n,e,t);const d=Tx(tC(c));return new ql(d,o,i)}function YO(n,e,t){const r={};return Ai(n.children,(i,o)=>{r[o]=i===e?t:YO(i,e,t)}),new an(n.segments,r)}class QO{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&J0(r[0]))throw new y.vHH(4003,bx&&"Root segment cannot have matrix parameters");const i=r.find(ew);if(i&&i!==VO(r))throw new y.vHH(4004,bx&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Bm{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Cx(n,e,t){if(n||(n=new an([],{})),0===n.segments.length&&n.hasChildren())return $m(n,e,t);const r=function D$(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const c=n.segments[i],d=t[r];if(ew(d))break;const f=`${d}`,_=r<t.length-1?t[r+1]:null;if(i>0&&void 0===f)break;if(f&&_&&"object"==typeof _&&void 0===_.outlets){if(!t1(f,_,c))return o;r+=2}else{if(!t1(f,{},c))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new an(n.segments.slice(0,r.pathIndex),{});return o.children[en]=new an(n.segments.slice(r.pathIndex),n.children),$m(o,0,i)}return r.match&&0===i.length?new an(n.segments,{}):r.match&&!n.hasChildren()?Dx(n,e,t):r.match?$m(n,0,i):Dx(n,e,t)}function $m(n,e,t){if(0===t.length)return new an(n.segments,{});{const r=function C$(n){return ew(n[0])?n[0].outlets:{[en]:n}}(t),i={};return!r[en]&&n.children[en]&&1===n.numberOfChildren&&0===n.children[en].segments.length?$m(n.children[en],e,t):(Ai(r,(o,c)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[c]=Cx(n.children[c],e,o))}),Ai(n.children,(o,c)=>{void 0===r[c]&&(i[c]=o)}),new an(n.segments,i))}}function Dx(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(ew(o)){const f=S$(o.outlets);return new an(r,f)}if(0===i&&J0(t[0])){r.push(new Y0(n.segments[e].path,e1(t[0]))),i++;continue}const c=ew(o)?o.outlets[en]:`${o}`,d=i<t.length-1?t[i+1]:null;c&&d&&J0(d)?(r.push(new Y0(c,e1(d))),i+=2):(r.push(new Y0(c,{})),i++)}return new an(r,{})}function S$(n){const e={};return Ai(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Dx(new an([],{}),0,t))}),e}function e1(n){const e={};return Ai(n,(t,r)=>e[r]=`${t}`),e}function t1(n,e,t){return n==t.path&&Ha(e,t.parameters)}const tw="imperative";class Ga{constructor(e,t){this.id=e,this.url=t}}class Sx extends Ga{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class yf extends Ga{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class nC extends Ga{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rC extends Ga{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Ax extends Ga{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class A$ extends Ga{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class R$ extends Ga{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class x$ extends Ga{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class k$ extends Ga{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class M$ extends Ga{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class N${constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class P${constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class O${constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class L${constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class F${constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class U${constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class n1{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let $$=(()=>{class n{createUrlTree(t,r,i,o,c,d){return E$(t||r.root,i,o,c,d)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})(),H$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:function(e){return $$.\u0275fac(e)},providedIn:"root"}),n})();class r1{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Rx(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Rx(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=xx(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return xx(e,this._root).map(t=>t.value)}}function Rx(n,e){if(n===e.value)return e;for(const t of e.children){const r=Rx(n,t);if(r)return r}return null}function xx(n,e){if(n===e.value)return[e];for(const t of e.children){const r=xx(n,t);if(r.length)return r.unshift(e),r}return[]}class ac{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function jm(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class i1 extends r1{constructor(e,t){super(e),this.snapshot=t,kx(this,e)}toString(){return this.snapshot.toString()}}function s1(n,e){const t=function G$(n,e){const c=new iC([],{},{},"",{},en,e,null,n.root,-1,{});return new a1("",new ac(c,[]))}(n,e),r=new no([new Y0("",{})]),i=new no({}),o=new no({}),c=new no({}),d=new no(""),f=new Hm(r,i,c,d,o,en,e,t.root);return f.snapshot=t.root,new i1(new ac(f,[]),t)}class Hm{constructor(e,t,r,i,o,c,d,f){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=c,this.component=d,this.title=this.data?.pipe((0,jt.U)(_=>_[Z0]))??mt(void 0),this._futureSnapshot=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,jt.U)(e=>Um(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,jt.U)(e=>Um(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function o1(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function z$(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class iC{get title(){return this.data?.[Z0]}constructor(e,t,r,i,o,c,d,f,_,I,C){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=c,this.component=d,this.routeConfig=f,this._urlSegment=_,this._lastPathIndex=I,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Um(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Um(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class a1 extends r1{constructor(e,t){super(t),this.url=e,kx(this,t)}toString(){return u1(this._root)}}function kx(n,e){e.value._routerState=n,e.children.forEach(t=>kx(n,t))}function u1(n){const e=n.children.length>0?` { ${n.children.map(u1).join(", ")} } `:"";return`${n.value}${e}`}function Mx(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ha(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ha(e.params,t.params)||n.params.next(t.params),function s$(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ha(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ha(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Nx(n,e){const t=Ha(n.params,e.params)&&function c$(n,e){return mf(n,e)&&n.every((t,r)=>Ha(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Nx(n.parent,e.parent))}function nw(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function q$(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return nw(n,r,i);return nw(n,r)})}(n,e,t);return new ac(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const c=o.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(d=>nw(n,d)),c}}const r=function K$(n){return new Hm(new no(n.url),new no(n.params),new no(n.queryParams),new no(n.fragment),new no(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>nw(n,o));return new ac(r,i)}}const Px="ngNavigationCancelingError";function c1(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=_f(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=l1(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function l1(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Px]=!0,r.cancellationCode=e,t&&(r.url=t),r}function d1(n){return h1(n)&&_f(n.url)}function h1(n){return n&&n[Px]}class Z${constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new rw,this.attachRef=null}}let rw=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Z$,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sC=!1;let Ox=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=en,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.attachEvents=new y.vpe,this.detachEvents=new y.vpe,this.parentContexts=(0,y.f3M)(rw),this.location=(0,y.f3M)(y.s_b),this.changeDetector=(0,y.f3M)(y.sBO),this.environmentInjector=(0,y.f3M)(y.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y.vHH(4012,sC);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y.vHH(4012,sC);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y.vHH(4012,sC);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new y.vHH(4013,sC);this._activatedRoute=t;const i=this.location,c=t.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,f=new Y$(t,d,i.injector);if(r&&function Q$(n){return!!n.resolveComponentFactory}(r)){const _=r.resolveComponentFactory(c);this.activated=i.createComponent(_,i.length,f)}else this.activated=i.createComponent(c,{index:i.length,injector:f,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=y.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[y.TTD]}),n})();class Y${constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Hm?this.route:e===rw?this.childContexts:this.parent.get(e,t)}}let Lx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=y.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[y.jDz],decls:1,vars:0,template:function(t,r){1&t&&y._UZ(0,"router-outlet")},dependencies:[Ox],encapsulation:2}),n})();function f1(n,e){return n.providers&&!n._injector&&(n._injector=(0,y.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Ux(n){const e=n.children&&n.children.map(Ux),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==en&&(t.component=Lx),t}function ro(n){return n.outlet||en}function p1(n,e){const t=n.filter(r=>ro(r)===e);return t.push(...n.filter(r=>ro(r)!==e)),t}function iw(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class nj{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Mx(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=jm(t);e.children.forEach(o=>{const c=o.value.outlet;this.deactivateRoutes(o,i[c],r),delete i[c]}),Ai(i,(o,c)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=jm(e);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],i);if(r&&r.outlet){const c=r.outlet.detach(),d=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:d})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=jm(e);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=jm(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new U$(o.value.snapshot))}),e.children.length&&this.forwardEvent(new L$(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(Mx(i),i===o)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const d=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),Mx(d.route.value),this.activateChildRoutes(e,null,c.children)}else{const d=iw(i.snapshot),f=d?.get(y._Vd)??null;c.attachRef=null,c.route=i,c.resolver=f,c.injector=d,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class g1{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class oC{constructor(e,t){this.component=e,this.route=t}}function rj(n,e,t){const r=n._root;return sw(r,e?e._root:null,t,[r.value])}function Gm(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,y.Z0I)(n)?e.get(n):n:r}function sw(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=jm(e);return n.children.forEach(c=>{(function sj(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,c=e?e.value:null,d=t?t.getContext(n.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){const f=function oj(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!mf(n.url,e.url);case"pathParamsOrQueryParamsChange":return!mf(n.url,e.url)||!Ha(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Nx(n,e)||!Ha(n.queryParams,e.queryParams);default:return!Nx(n,e)}}(c,o,o.routeConfig.runGuardsAndResolvers);f?i.canActivateChecks.push(new g1(r)):(o.data=c.data,o._resolvedData=c._resolvedData),sw(n,e,o.component?d?d.children:null:t,r,i),f&&d&&d.outlet&&d.outlet.isActivated&&i.canDeactivateChecks.push(new oC(d.outlet.component,c))}else c&&ow(e,d,i),i.canActivateChecks.push(new g1(r)),sw(n,null,o.component?d?d.children:null:t,r,i)})(c,o[c.value.outlet],t,r.concat([c.value]),i),delete o[c.value.outlet]}),Ai(o,(c,d)=>ow(c,t.getContext(d),i)),i}function ow(n,e,t){const r=jm(n),i=n.value;Ai(r,(o,c)=>{ow(o,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new oC(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function aw(n){return"function"==typeof n}function Vx(n){return n instanceof qb||"EmptyError"===n?.name}const aC=Symbol("INITIAL_VALUE");function zm(){return Tr(n=>MO(n.map(e=>e.pipe(Fm(1),function XB(...n){const e=(0,Om.yG)(n);return(0,Fr.e)((t,r)=>{(e?_x(n,t,e):_x(n,t)).subscribe(r)})}(aC)))).pipe((0,jt.U)(e=>{for(const t of e)if(!0!==t){if(t===aC)return aC;if(!1===t||t instanceof ql)return t}return!0}),Po(e=>e!==aC),Fm(1)))}function m1(n){return(0,QB.z)(Gn(e=>{if(_f(e))throw c1(0,e)}),(0,jt.U)(e=>!0===e))}const Bx={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _1(n,e,t,r,i){const o=$x(n,e,t);return o.matched?function Tj(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?mt(i.map(c=>{const d=Gm(c,n);return Wl(function hj(n){return n&&aw(n.canMatch)}(d)?d.canMatch(e,t):n.runInContext(()=>d(e,t)))})).pipe(zm(),m1()):mt(!0)}(r=f1(e,r),e,t).pipe((0,jt.U)(c=>!0===c?o:{...Bx})):mt(o)}function $x(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Bx}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||i$)(t,n,e);if(!i)return{...Bx};const o={};Ai(i.posParams,(d,f)=>{o[f]=d.path});const c=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function uC(n,e,t,r){if(t.length>0&&function Dj(n,e,t){return t.some(r=>cC(n,e,r)&&ro(r)!==en)}(n,t,r)){const o=new an(e,function Cj(n,e,t,r){const i={};i[en]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&ro(o)!==en){const c=new an([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[ro(o)]=c}return i}(n,e,r,new an(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function Sj(n,e,t){return t.some(r=>cC(n,e,r))}(n,t,r)){const o=new an(n.segments,function bj(n,e,t,r,i){const o={};for(const c of r)if(cC(n,t,c)&&!i[ro(c)]){const d=new an([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,o[ro(c)]=d}return{...i,...o}}(n,e,t,r,n.children));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const i=new an(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function cC(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function y1(n,e,t,r){return!!(ro(n)===r||r!==en&&cC(e,t,n))&&("**"===n.path||$x(e,n,t).matched)}function v1(n,e,t){return 0===e.length&&!n.children[t]}const lC=!1;class dC{constructor(e){this.segmentGroup=e||null}}class w1{constructor(e){this.urlTree=e}}function uw(n){return gf(new dC(n))}function I1(n){return gf(new w1(n))}function Aj(n){return gf(new y.vHH(4e3,lC&&`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class kj{constructor(e,t,r,i,o){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const e=uC(this.urlTree.root,[],[],this.config).segmentGroup,t=new an(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,en).pipe((0,jt.U)(o=>this.createUrlTree(tC(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Lo(o=>{if(o instanceof w1)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof dC?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,en).pipe((0,jt.U)(i=>this.createUrlTree(tC(i),e.queryParams,e.fragment))).pipe(Lo(i=>{throw i instanceof dC?this.noMatchError(i):i}))}noMatchError(e){return new y.vHH(4002,lC&&`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=Tx(e);return new ql(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,jt.U)(o=>new an([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return(0,jn.D)(i).pipe(Oo(o=>{const c=r.children[o],d=p1(t,o);return this.expandSegmentGroup(e,d,c,o).pipe((0,jt.U)(f=>({segment:f,outlet:o})))}),K0((o,c)=>(o[c.outlet]=c.segment,o),{}),LO())}expandSegment(e,t,r,i,o,c){return(0,jn.D)(r).pipe(Oo(d=>this.expandSegmentAgainstRoute(e,t,r,d,i,o,c).pipe(Lo(_=>{if(_ instanceof dC)return mt(null);throw _}))),oc(d=>!!d),Lo((d,f)=>{if(Vx(d))return v1(t,i,o)?mt(new an([],{})):uw(t);throw d}))}expandSegmentAgainstRoute(e,t,r,i,o,c,d){return y1(i,t,o,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,c):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c):uw(t):uw(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?I1(o):this.lineralizeSegments(r,o).pipe((0,Si.z)(c=>{const d=new an(c,{});return this.expandSegment(e,d,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c){const{matched:d,consumedSegments:f,remainingSegments:_,positionalParamSegments:I}=$x(t,i,o);if(!d)return uw(t);const C=this.applyRedirectCommands(f,i.redirectTo,I);return i.redirectTo.startsWith("/")?I1(C):this.lineralizeSegments(i,C).pipe((0,Si.z)(S=>this.expandSegment(e,t,r,S.concat(_),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){return"**"===r.path?(e=f1(r,e),r.loadChildren?(r._loadedRoutes?mt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,jt.U)(d=>(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,new an(i,{})))):mt(new an(i,{}))):_1(t,r,i,e).pipe(Tr(({matched:c,consumedSegments:d,remainingSegments:f})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Si.z)(I=>{const C=I.injector??e,S=I.routes,{segmentGroup:M,slicedSegments:U}=uC(t,d,f,S),Q=new an(M.segments,M.children);if(0===U.length&&Q.hasChildren())return this.expandChildren(C,S,Q).pipe((0,jt.U)(Ye=>new an(d,Ye)));if(0===S.length&&0===U.length)return mt(new an(d,{}));const se=ro(r)===o;return this.expandSegment(C,Q,S,U,se?en:o,!0).pipe((0,jt.U)(Re=>new an(d.concat(Re.segments),Re.children)))})):uw(t)))}getChildConfig(e,t,r){return t.children?mt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?mt({routes:t._loadedRoutes,injector:t._loadedInjector}):function Ej(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?mt(!0):mt(i.map(c=>{const d=Gm(c,n);return Wl(function uj(n){return n&&aw(n.canLoad)}(d)?d.canLoad(e,t):n.runInContext(()=>d(e,t)))})).pipe(zm(),m1())}(e,t,r).pipe((0,Si.z)(i=>i?this.configLoader.loadChildren(e,t).pipe(Gn(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function Rj(n){return gf(l1(lC&&`Cannot load children because the guard of the route "path: '${n.path}'" returned false`,3))}(t))):mt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return mt(r);if(i.numberOfChildren>1||!i.children[en])return Aj(e.redirectTo);i=i.children[en]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new ql(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Ai(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const d=i.substring(1);r[o]=t[d]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let c={};return Ai(t.children,(d,f)=>{c[f]=this.createSegmentGroup(e,d,r,i)}),new an(o,c)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new y.vHH(4001,lC&&`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class Nj{}class Lj{constructor(e,t,r,i,o,c,d){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=c,this.urlSerializer=d}recognize(){const e=uC(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,en).pipe((0,jt.U)(t=>{if(null===t)return null;const r=new iC([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},en,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ac(r,t),o=new a1(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,r=o1(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,jn.D)(Object.keys(r.children)).pipe(Oo(i=>{const o=r.children[i],c=p1(t,i);return this.processSegmentGroup(e,c,o,i)}),K0((i,o)=>i&&o?(i.push(...o),i):null),function t$(n,e=!1){return(0,Fr.e)((t,r)=>{let i=0;t.subscribe((0,xr.x)(r,o=>{const c=n(o,i++);(c||e)&&r.next(o),!c&&r.complete()}))})}(i=>null!==i),Kb(null),LO(),(0,jt.U)(i=>{if(null===i)return null;const o=T1(i);return function Fj(n){n.sort((e,t)=>e.value.outlet===en?-1:t.value.outlet===en?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,r,i,o){return(0,jn.D)(t).pipe(Oo(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,o)),oc(c=>!!c),Lo(c=>{if(Vx(c))return v1(r,i,o)?mt([]):mt(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,o){if(t.redirectTo||!y1(t,r,i,o))return mt(null);let c;if("**"===t.path){const d=i.length>0?VO(i).parameters:{},f=C1(r)+i.length;c=mt({snapshot:new iC(i,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,D1(t),ro(t),t.component??t._loadedComponent??null,t,b1(r),f,S1(t)),consumedSegments:[],remainingSegments:[]})}else c=_1(r,t,i,e).pipe((0,jt.U)(({matched:d,consumedSegments:f,remainingSegments:_,parameters:I})=>{if(!d)return null;const C=C1(r)+f.length;return{snapshot:new iC(f,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,D1(t),ro(t),t.component??t._loadedComponent??null,t,b1(r),C,S1(t)),consumedSegments:f,remainingSegments:_}}));return c.pipe(Tr(d=>{if(null===d)return mt(null);const{snapshot:f,consumedSegments:_,remainingSegments:I}=d;e=t._injector??e;const C=t._loadedInjector??e,S=function Uj(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:M,slicedSegments:U}=uC(r,_,I,S.filter(se=>void 0===se.redirectTo));if(0===U.length&&M.hasChildren())return this.processChildren(C,S,M).pipe((0,jt.U)(se=>null===se?null:[new ac(f,se)]));if(0===S.length&&0===U.length)return mt([new ac(f,[])]);const Q=ro(t)===o;return this.processSegment(C,S,M,U,Q?en:o).pipe((0,jt.U)(se=>null===se?null:[new ac(f,se)]))}))}}function Vj(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function T1(n){const e=[],t=new Set;for(const r of n){if(!Vj(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=T1(r.children);e.push(new ac(r.value,i))}return e.filter(r=>!t.has(r))}function b1(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function C1(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function D1(n){return n.data||{}}function S1(n){return n.resolve||{}}function A1(n){return"string"==typeof n.title||null===n.title}function jx(n){return Tr(e=>{const t=n(e);return t?(0,jn.D)(t).pipe((0,jt.U)(()=>e)):mt(e)})}const Wm=new y.OlP("ROUTES");let Hx=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,y.f3M)(y.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return mt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Wl(t.loadComponent()).pipe((0,jt.U)(x1),Gn(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),wx(()=>{this.componentLoaders.delete(t)})),i=new PO(r,()=>new $a.x).pipe(yx());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return mt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,jt.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(r);let f,_,I=!1;Array.isArray(d)?_=d:(f=d.create(t).injector,_=UO(f.get(Wm,[],y.XFs.Self|y.XFs.Optional)));return{routes:_.map(Ux),injector:f}}),wx(()=>{this.childrenLoaders.delete(r)})),c=new PO(o,()=>new $a.x).pipe(yx());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return Wl(t()).pipe((0,jt.U)(x1),(0,Si.z)(r=>r instanceof y.YKP||Array.isArray(r)?mt(r):(0,jn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function x1(n){return function qj(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let fC=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new $a.x,this.configLoader=(0,y.f3M)(Hx),this.environmentInjector=(0,y.f3M)(y.lqb),this.urlSerializer=(0,y.f3M)(Q0),this.rootContexts=(0,y.f3M)(rw),this.navigationId=0,this.afterPreactivation=()=>mt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new P$(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new N$(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new no({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:tw,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Po(r=>0!==r.id),(0,jt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Tr(r=>{let i=!1,o=!1;return mt(r).pipe(Gn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Tr(c=>{const d=t.browserUrlTree.toString(),f=!t.navigated||c.extractedUrl.toString()!==d||d!==t.currentUrlTree.toString();if(!f&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const I="";return this.events.next(new rC(c.id,t.serializeUrl(r.rawUrl),I,0)),t.rawUrlTree=c.rawUrl,c.resolve(null),ja.E}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return k1(c.source)&&(t.browserUrlTree=c.extractedUrl),mt(c).pipe(Tr(I=>{const C=this.transitions?.getValue();return this.events.next(new Sx(I.id,this.urlSerializer.serialize(I.extractedUrl),I.source,I.restoredState)),C!==this.transitions?.getValue()?ja.E:Promise.resolve(I)}),function Mj(n,e,t,r){return Tr(i=>function xj(n,e,t,r,i){return new kj(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,jt.U)(o=>({...i,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Gn(I=>{this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects},r.urlAfterRedirects=I.urlAfterRedirects}),function $j(n,e,t,r,i){return(0,Si.z)(o=>function Oj(n,e,t,r,i,o,c="emptyOnly"){return new Lj(n,e,t,r,i,c,o).recognize().pipe(Tr(d=>null===d?function Pj(n){return new fi.y(e=>e.error(n))}(new Nj):mt(d)))}(n,e,t,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i).pipe((0,jt.U)(c=>({...o,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Gn(I=>{if(r.targetSnapshot=I.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!I.extras.skipLocationChange){const S=t.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);t.setBrowserUrl(S,I)}t.browserUrlTree=I.urlAfterRedirects}const C=new A$(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(C)}));if(f&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:I,extractedUrl:C,source:S,restoredState:M,extras:U}=c,Q=new Sx(I,this.urlSerializer.serialize(C),S,M);this.events.next(Q);const se=s1(C,this.rootComponentType).snapshot;return mt(r={...c,targetSnapshot:se,urlAfterRedirects:C,extras:{...U,skipLocationChange:!1,replaceUrl:!1}})}{const I="";return this.events.next(new rC(c.id,t.serializeUrl(r.extractedUrl),I,1)),t.rawUrlTree=c.rawUrl,c.resolve(null),ja.E}}),Gn(c=>{const d=new R$(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),(0,jt.U)(c=>r={...c,guards:rj(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function pj(n,e){return(0,Si.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:c}}=t;return 0===c.length&&0===o.length?mt({...t,guardsResult:!0}):function gj(n,e,t,r){return(0,jn.D)(n).pipe((0,Si.z)(i=>function Ij(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?mt(o.map(d=>{const f=iw(e)??i,_=Gm(d,f);return Wl(function dj(n){return n&&aw(n.canDeactivate)}(_)?_.canDeactivate(n,e,t,r):f.runInContext(()=>_(n,e,t,r))).pipe(oc())})).pipe(zm()):mt(!0)}(i.component,i.route,t,e,r)),oc(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Si.z)(d=>d&&function aj(n){return"boolean"==typeof n}(d)?function mj(n,e,t,r){return(0,jn.D)(e).pipe(Oo(i=>_x(function yj(n,e){return null!==n&&e&&e(new O$(n)),mt(!0)}(i.route.parent,r),function _j(n,e){return null!==n&&e&&e(new F$(n)),mt(!0)}(i.route,r),function wj(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(c=>function ij(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Lm(()=>mt(c.guards.map(f=>{const _=iw(c.node)??t,I=Gm(f,_);return Wl(function lj(n){return n&&aw(n.canActivateChild)}(I)?I.canActivateChild(r,n):_.runInContext(()=>I(r,n))).pipe(oc())})).pipe(zm())));return mt(o).pipe(zm())}(n,i.path,t),function vj(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return mt(!0);const i=r.map(o=>Lm(()=>{const c=iw(e)??t,d=Gm(o,c);return Wl(function cj(n){return n&&aw(n.canActivate)}(d)?d.canActivate(e,n):c.runInContext(()=>d(e,n))).pipe(oc())}));return mt(i).pipe(zm())}(n,i.route,t))),oc(i=>!0!==i,!0))}(r,o,n,e):mt(d)),(0,jt.U)(d=>({...t,guardsResult:d})))})}(this.environmentInjector,c=>this.events.next(c)),Gn(c=>{if(r.guardsResult=c.guardsResult,_f(c.guardsResult))throw c1(0,c.guardsResult);const d=new x$(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),Po(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),jx(c=>{if(c.guards.canActivateChecks.length)return mt(c).pipe(Gn(d=>{const f=new k$(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),Tr(d=>{let f=!1;return mt(d).pipe(function jj(n,e){return(0,Si.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return mt(t);let o=0;return(0,jn.D)(i).pipe(Oo(c=>function Hj(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!A1(i)&&(o[Z0]=i.title),function Gj(n,e,t,r){const i=function zj(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return mt({});const o={};return(0,jn.D)(i).pipe((0,Si.z)(c=>function Wj(n,e,t,r){const i=iw(e)??r,o=Gm(n,i);return Wl(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[c],e,t,r).pipe(oc(),Gn(d=>{o[c]=d}))),vx(1),function n$(n){return(0,jt.U)(()=>n)}(o),Lo(c=>Vx(c)?ja.E:gf(c)))}(o,n,e,r).pipe((0,jt.U)(c=>(n._resolvedData=c,n.data=o1(n,t).resolve,i&&A1(i)&&(n.data[Z0]=i.title),null)))}(c.route,r,n,e)),Gn(()=>o++),vx(1),(0,Si.z)(c=>o===i.length?mt(t):ja.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),Gn({next:()=>f=!0,complete:()=>{f||(t.restoreHistory(d),this.cancelNavigationTransition(d,"",2))}}))}),Gn(d=>{const f=new M$(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),jx(c=>{const d=f=>{const _=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(f.routeConfig).pipe(Gn(I=>{f.component=I}),(0,jt.U)(()=>{})));for(const I of f.children)_.push(...d(I));return _};return MO(d(c.targetSnapshot.root)).pipe(Kb(),Fm(1))}),jx(()=>this.afterPreactivation()),(0,jt.U)(c=>{const d=function W$(n,e,t){const r=nw(n,e._root,t?t._root:void 0);return new i1(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:d}}),Gn(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>(0,jt.U)(r=>(new nj(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c)),Gn({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new yf(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),wx(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Lo(c=>{if(o=!0,h1(c)){d1(c)||(t.navigated=!0,t.restoreHistory(r,!0));const d=new nC(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(d),d1(c)){const f=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),_={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||k1(r.source)};t.scheduleNavigation(f,tw,null,_,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const d=new Ax(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(d);try{r.resolve(t.errorHandler(c))}catch(f){r.reject(f)}}return ja.E}))}))}cancelNavigationTransition(t,r,i){const o=new nC(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function k1(n){return n!==tw}let M1=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===en);return r}getResolvedTitleForRoute(t){return t.data[Z0]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:function(){return(0,y.f3M)(Kj)},providedIn:"root"}),n})(),Kj=(()=>{class n extends M1{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(ws))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:function(){return(0,y.f3M)(Qj)},providedIn:"root"}),n})();class Yj{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Qj=(()=>{class n extends Yj{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=y.n5z(n)))(r||n)}}(),n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pC=new y.OlP("",{providedIn:"root",factory:()=>({})});let Jj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:function(){return(0,y.f3M)(eH)},providedIn:"root"}),n})(),eH=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tH(n){throw n}function nH(n,e,t){return e.parse("/")}const rH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},iH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,y.f3M)(y.c2e),this.isNgZoneEnabled=!1,this.options=(0,y.f3M)(pC,{optional:!0})||{},this.errorHandler=this.options.errorHandler||tH,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||nH,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,y.f3M)(Jj),this.routeReuseStrategy=(0,y.f3M)(Zj),this.urlCreationStrategy=(0,y.f3M)(H$),this.titleStrategy=(0,y.f3M)(M1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=UO((0,y.f3M)(Wm,{optional:!0})??[]),this.navigationTransitions=(0,y.f3M)(fC),this.urlSerializer=(0,y.f3M)(Q0),this.location=(0,y.f3M)(Ae),this.isNgZoneEnabled=(0,y.f3M)(y.R0b)instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ql,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=s1(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),tw,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const f={...i};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(o.state=f)}const d=this.parseUrl(t);this.scheduleNavigation(d,r,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Ux),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:c,queryParamsHandling:d,preserveFragment:f}=r,_=f?this.currentUrlTree.fragment:c;let I=null;switch(d){case"merge":I={...this.currentUrlTree.queryParams,...o};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=o||null}return null!==I&&(I=this.removeEmptyProps(I)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,I,_??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=_f(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,tw,null,r)}navigate(t,r={skipLocationChange:!1}){return function sH(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new y.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...rH}:!1===r?{...iH}:r,_f(t))return $O(this.currentUrlTree,t,i);const o=this.parseUrl(t);return $O(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,c){if(this.disposed)return Promise.resolve(!1);let d,f,_,I;return c?(d=c.resolve,f=c.reject,_=c.promise):_=new Promise((C,S)=>{d=C,f=S}),I="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:I,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:d,reject:f,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(C=>Promise.reject(C))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class N1{}let uH=(()=>{class n{constructor(t,r,i,o,c){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Po(t=>t instanceof yf),Oo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=(0,y.MMx)(o.providers,t,`Route: ${o.path}`));const c=o._injector??t,d=o._loadedInjector??c;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?i.push(this.preloadConfig(c,o)):(o.children||o._loadedRoutes)&&i.push(this.processRoutes(d,o.children??o._loadedRoutes))}return(0,jn.D)(i).pipe((0,W0.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):mt(null);const o=i.pipe((0,Si.z)(c=>null===c?mt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,jn.D)([o,c]).pipe((0,W0.J)())}return o})}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(Bi),y.LFG(y.Sil),y.LFG(y.lqb),y.LFG(N1),y.LFG(Hx))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wx=new y.OlP("");let P1=(()=>{class n{constructor(t,r,i,o,c={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Sx?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof yf&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof n1&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new n1(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){y.$Z()},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();var Ms=(()=>((Ms=Ms||{})[Ms.COMPLETE=0]="COMPLETE",Ms[Ms.FAILED=1]="FAILED",Ms[Ms.REDIRECTING=2]="REDIRECTING",Ms))();const qm=!1;function Kl(n,e){return{\u0275kind:n,\u0275providers:e}}const qx=new y.OlP("",{providedIn:"root",factory:()=>!1});function L1(){const n=(0,y.f3M)(y.zs3);return e=>{const t=n.get(y.z2F);if(e!==t.components[0])return;const r=n.get(Bi),i=n.get(F1);1===n.get(Kx)&&r.initialNavigation(),n.get(U1,null,y.XFs.Optional)?.setUpPreloading(),n.get(Wx,null,y.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const F1=new y.OlP(qm?"bootstrap done indicator":"",{factory:()=>new $a.x}),Kx=new y.OlP(qm?"initial navigation":"",{providedIn:"root",factory:()=>1});function fH(){let n=[];return n=qm?[{provide:y.Xts,multi:!0,useFactory:()=>{const e=(0,y.f3M)(Bi);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function V$(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Kl(1,n)}const U1=new y.OlP(qm?"router preloader":"");function pH(n){return Kl(0,[{provide:U1,useExisting:uH},{provide:N1,useExisting:n}])}const cw=!1,V1=new y.OlP(cw?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),gH=[Ae,{provide:Q0,useClass:Ix},Bi,rw,{provide:Hm,useFactory:function O1(n){return n.routerState.root},deps:[Bi]},Hx,cw?{provide:qx,useValue:!0}:[]];function mH(){return new y.PXZ("Router",Bi)}let Zx=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[gH,cw&&r?.enableTracing?fH().\u0275providers:[],{provide:Wm,multi:!0,useValue:t},{provide:V1,useFactory:wH,deps:[[Bi,new y.FiY,new y.tp0]]},{provide:pC,useValue:r||{}},r?.useHash?{provide:qe,useClass:we}:{provide:qe,useClass:De},{provide:Wx,useFactory:()=>{const n=(0,y.f3M)(su),e=(0,y.f3M)(y.R0b),t=(0,y.f3M)(pC),r=(0,y.f3M)(fC),i=(0,y.f3M)(Q0);return t.scrollOffset&&n.setOffset(t.scrollOffset),new P1(i,r,n,e,t)}},r?.preloadingStrategy?pH(r.preloadingStrategy).\u0275providers:[],{provide:y.PXZ,multi:!0,useFactory:mH},r?.initialNavigation?IH(r):[],[{provide:B1,useFactory:L1},{provide:y.tb,multi:!0,useExisting:B1}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Wm,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(V1,8))},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({imports:[Lx]}),n})();function wH(n){if(cw&&n)throw new y.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function IH(n){return["disabled"===n.initialNavigation?Kl(3,[{provide:y.ip1,multi:!0,useFactory:()=>{const e=(0,y.f3M)(Bi);return()=>{e.setUpLocationChangeListener()}}},{provide:Kx,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Kl(2,[{provide:Kx,useValue:0},{provide:y.ip1,multi:!0,deps:[y.zs3],useFactory:e=>{const t=e.get(Fe,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Bi),o=e.get(F1);(function cH(n,e){n.events.pipe(Po(t=>t instanceof yf||t instanceof nC||t instanceof Ax||t instanceof rC),(0,jt.U)(t=>t instanceof yf||t instanceof rC?Ms.COMPLETE:t instanceof nC&&(0===t.code||1===t.code)?Ms.REDIRECTING:Ms.FAILED),Po(t=>t!==Ms.REDIRECTING),Fm(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(fC).afterPreactivation=()=>(r(!0),o.closed?mt(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const B1=new y.OlP(cw?"Router Initializer":"");let TH=(()=>{class n{constructor(){this.title="test"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=y.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&y._UZ(0,"router-outlet")},dependencies:[Ox]}),n})();const Yx=(0,jt.U)(n=>!!n);let lw=(()=>{class n{constructor(t,r){this.router=t,this.auth=r,this.canActivate=(i,o)=>{const c=i.data.authGuardPipe||(()=>Yx);return dS(this.auth).pipe(Fm(1),c(i,o),(0,jt.U)(d=>"boolean"==typeof d?d:Array.isArray(d)?this.router.createUrlTree(d):this.router.parseUrl(d)))}}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(Bi),y.LFG(Bu))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),gC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=y.Xpm({type:n,selectors:[["app-navbar"]],decls:9,vars:0,consts:[[1,"nav"],["href","/home",1,"nav-link"],["href","/gallery",1,"nav-link"],["href","/meal",1,"nav-link"],["href","/users",1,"nav-link"]],template:function(t,r){1&t&&(y.TgZ(0,"nav",0)(1,"a",1),y._uU(2,"Accueil"),y.qZA(),y.TgZ(3,"a",2),y._uU(4,"Gallerie"),y.qZA(),y.TgZ(5,"a",3),y._uU(6,"Repas"),y.qZA(),y.TgZ(7,"a",4),y._uU(8,"Utilisateurs"),y.qZA()())}}),n})(),CH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=y.Xpm({type:n,selectors:[["app-gallery"]],decls:3,vars:0,template:function(t,r){1&t&&(y._UZ(0,"app-navbar"),y.TgZ(1,"p"),y._uU(2,"gallery works!"),y.qZA())},dependencies:[gC]}),n})(),DH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=y.Xpm({type:n,selectors:[["app-home"]],decls:3,vars:0,template:function(t,r){1&t&&(y._UZ(0,"app-navbar"),y.TgZ(1,"p"),y._uU(2,"home works!"),y.qZA())},dependencies:[gC]}),n})();var SH=function(n){return function(e){return new fi.y(function(t){var r=function(n){if(typeof window<"u"&&window.performance){var e=window.performance.getEntriesByName(n,"measure")||[],t="_"+n+"Start["+e.length+"]",r="_"+n+"End["+e.length+"]";return new fi.y(function(i){return window.performance.mark(t),i.next(),{unsubscribe:function(){window.performance.mark(r),window.performance.measure(n,t,r)}}})}return ja.E}(n).subscribe();return e.pipe(Gn(function(){return r.unsubscribe()},function(){},function(){})).subscribe(t)})}};V(7834);const MH=Lu(SH,!0);let NH=(()=>{class n{constructor(t,r,i,o){this.afs=t,this.auth=r,this.router=i,this.ngZone=o,this.user=ja.E,this.showLoginButton=!1,this.showLogoutButton=!1,this.user=il(this.auth),this.userDisposable=il(this.auth).pipe(MH("auth"),(0,jt.U)(c=>!!c)).subscribe(c=>{this.showLoginButton=!c,this.showLogoutButton=c})}SignIn(t,r){var i=this;return(0,_t.Z)(function*(){try{yield ch(i.auth,t,r),i.user.subscribe(o=>{o&&i.router.navigate(["home"])})}catch(o){window.alert(o.message)}})()}SignOut(){var t=this;return(0,_t.Z)(function*(){yield Qy(t.auth),localStorage.removeItem("user"),t.router.navigate([""])})()}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(Wb),y.LFG(Bu),y.LFG(Bi),y.LFG(y.R0b))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PH=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(y.Y36(NH))},n.\u0275cmp=y.Xpm({type:n,selectors:[["app-login"]],decls:17,vars:0,consts:[[1,"displayTable"],[1,"displayTableCell"],[1,"authBlock"],[1,"formGroup"],["type","text","placeholder","Username","required","",1,"formControl"],["userName",""],["type","password","placeholder","Password","required","",1,"formControl"],["userPassword",""],["type","button","value","Log in",1,"btn","btnPrimary",3,"click"],[1,"or"],[1,"orInner"]],template:function(t,r){if(1&t){const i=y.EpF();y.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),y._uU(4,"Sign In"),y.qZA(),y.TgZ(5,"div",3),y._UZ(6,"input",4,5),y.qZA(),y.TgZ(8,"div",3),y._UZ(9,"input",6,7),y.qZA(),y.TgZ(11,"div",3)(12,"input",8),y.NdJ("click",function(){y.CHM(i);const c=y.MAs(7),d=y.MAs(10);return y.KtG(r.authService.SignIn(c.value,d.value))}),y.qZA()(),y.TgZ(13,"div",3)(14,"span",9)(15,"span",10),y._uU(16,"Or"),y.qZA()()()()()()}},styles:["button[_ngcontent-%COMP%]{margin-top:50px}"]}),n})(),OH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=y.Xpm({type:n,selectors:[["app-meal"]],decls:3,vars:0,template:function(t,r){1&t&&(y._UZ(0,"app-navbar"),y.TgZ(1,"p"),y._uU(2,"meal works!"),y.qZA())},dependencies:[gC]}),n})(),LH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=y.Xpm({type:n,selectors:[["app-user-popup"]],decls:21,vars:0,consts:[["type","button","data-bs-toggle","modal","data-bs-target","#newChild",1,"btn","btn-primary"],["id","newChild","tabindex","-1","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"mb-3"],["for","childName",1,"form-label"],["type","text","id","childName",1,"form-control"],["for","childFirstName",1,"form-label"],["type","text","id","childFirstName",1,"form-control"],["type","submit",1,"btn","btn-primary"]],template:function(t,r){1&t&&(y.TgZ(0,"button",0),y._uU(1," Ajouter un enfant\n"),y.qZA(),y.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h1",5),y._uU(7,"Nouvelle enfant"),y.qZA(),y._UZ(8,"button",6),y.qZA(),y.TgZ(9,"div",7)(10,"form")(11,"div",8)(12,"label",9),y._uU(13,"Nom"),y.qZA(),y._UZ(14,"input",10),y.qZA(),y.TgZ(15,"div",8)(16,"label",11),y._uU(17,"Pr\xe9nom"),y.qZA(),y._UZ(18,"input",12),y.qZA(),y.TgZ(19,"button",13),y._uU(20,"Submit"),y.qZA()()()()()())}}),n})();const FH=[{path:"",component:PH},{path:"home",component:DH,canActivate:[lw]},{path:"gallery",component:CH,canActivate:[lw]},{path:"meal",component:OH,canActivate:[lw]},{path:"users",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=y.Xpm({type:n,selectors:[["app-users"]],decls:4,vars:0,template:function(t,r){1&t&&(y._UZ(0,"app-navbar")(1,"app-user-popup"),y.TgZ(2,"p"),y._uU(3,"users works!"),y.qZA())},dependencies:[gC,LH]}),n})(),canActivate:[lw]}];let UH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({imports:[Zx.forRoot(FH),Zx]}),n})();class mC extends $a.x{constructor(e=1/0,t=1/0,r=hy){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:c}=this;t||(r.push(e),!i&&r.push(o.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let c=0;c<o.length&&!e.closed;c+=r?1:2)e.next(o[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const c=t.now();let d=0;for(let f=1;f<r.length&&r[f]<=c;f+=2)d=f;d&&r.splice(0,d+1)}}}var _C=V(6451);function yC(n,e=xu.y){return n=n??BH,(0,Fr.e)((t,r)=>{let i,o=!0;t.subscribe((0,xr.x)(r,c=>{const d=e(c);(o||!n(i,d))&&(o=!1,i=d,r.next(c))}))})}function BH(n,e){return n===e}var j1=V(3099);function Jx(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,j1.B)({connector:()=>new mC(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}var H1=V(5032);function G1(...n){const e=(0,Om.jO)(n);return(0,Fr.e)((t,r)=>{const i=n.length,o=new Array(i);let c=n.map(()=>!1),d=!1;for(let f=0;f<i;f++)(0,q0.Xf)(n[f]).subscribe((0,xr.x)(r,_=>{o[f]=_,!d&&!c[f]&&(c[f]=!0,(d=c.every(xu.y))&&(c=null))},H1.Z));t.subscribe((0,xr.x)(r,f=>{if(d){const _=[f,...o];r.next(e?e(..._):_)}}))})}var Km=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ek(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function tk(n,e){return n(e={exports:{}},e.exports),e.exports}var vf=tk(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function r(){var i=this;this.locked=new Map,this.addToLocked=function(o,c){var d=i.locked.get(o);void 0===d?i.locked.set(o,void 0===c?[]:[c]):void 0!==c&&(d.unshift(c),i.locked.set(o,d))},this.isLocked=function(o){return i.locked.has(o)},this.lock=function(o){return new Promise(function(c,d){i.isLocked(o)?i.addToLocked(o,c):(i.addToLocked(o),c())})},this.unlock=function(o){var c=i.locked.get(o);if(void 0!==c&&0!==c.length){var d=c.pop();i.locked.set(o,c),void 0!==d&&setTimeout(d,0)}else i.locked.delete(o)}}return r.getInstance=function(){return void 0===r.instance&&(r.instance=new r),r.instance},r}();e.default=function(){return t.getInstance()}});ek(vf);var jH=ek(tk(function(n,e){var t=Km&&Km.__awaiter||function(f,_,I,C){return new(I||(I=Promise))(function(S,M){function U(Oe){try{se(C.next(Oe))}catch(Re){M(Re)}}function Q(Oe){try{se(C.throw(Oe))}catch(Re){M(Re)}}function se(Oe){Oe.done?S(Oe.value):new I(function(Re){Re(Oe.value)}).then(U,Q)}se((C=C.apply(f,_||[])).next())})},r=Km&&Km.__generator||function(f,_){var I,C,S,M,U={label:0,sent:function(){if(1&S[0])throw S[1];return S[1]},trys:[],ops:[]};return M={next:Q(0),throw:Q(1),return:Q(2)},"function"==typeof Symbol&&(M[Symbol.iterator]=function(){return this}),M;function Q(se){return function(Oe){return function(Re){if(I)throw new TypeError("Generator is already executing.");for(;U;)try{if(I=1,C&&(S=2&Re[0]?C.return:Re[0]?C.throw||((S=C.return)&&S.call(C),0):C.next)&&!(S=S.call(C,Re[1])).done)return S;switch(C=0,S&&(Re=[2&Re[0],S.value]),Re[0]){case 0:case 1:S=Re;break;case 4:return U.label++,{value:Re[1],done:!1};case 5:U.label++,C=Re[1],Re=[0];continue;case 7:Re=U.ops.pop(),U.trys.pop();continue;default:if(!((S=(S=U.trys).length>0&&S[S.length-1])||6!==Re[0]&&2!==Re[0])){U=0;continue}if(3===Re[0]&&(!S||Re[1]>S[0]&&Re[1]<S[3])){U.label=Re[1];break}if(6===Re[0]&&U.label<S[1]){U.label=S[1],S=Re;break}if(S&&U.label<S[2]){U.label=S[2],U.ops.push(Re);break}S[2]&&U.ops.pop(),U.trys.pop();continue}Re=_.call(f,U)}catch(Ye){Re=[6,Ye],C=0}finally{I=S=0}if(5&Re[0])throw Re[1];return{value:Re[0]?Re[1]:void 0,done:!0}}([se,Oe])}}};Object.defineProperty(e,"__esModule",{value:!0});var i="browser-tabs-lock-key";function o(f){return new Promise(function(_){return setTimeout(_,f)})}function c(f){for(var _="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",I="",C=0;C<f;C++)I+=_[Math.floor(Math.random()*_.length)];return I}var d=function(){function f(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+c(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),void 0===f.waiters&&(f.waiters=[])}return f.prototype.acquireLock=function(_,I){return void 0===I&&(I=5e3),t(this,void 0,void 0,function(){var C,S,M,U,Q,se;return r(this,function(Oe){switch(Oe.label){case 0:C=Date.now()+c(4),S=Date.now()+I,M=i+"-"+_,U=window.localStorage,Oe.label=1;case 1:return Date.now()<S?[4,o(30)]:[3,8];case 2:return Oe.sent(),null!==U.getItem(M)?[3,5]:(Q=this.id+"-"+_+"-"+C,[4,o(Math.floor(25*Math.random()))]);case 3:return Oe.sent(),U.setItem(M,JSON.stringify({id:this.id,iat:C,timeoutKey:Q,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,o(30)];case 4:return Oe.sent(),null!==(se=U.getItem(M))&&(se=JSON.parse(se)).id===this.id&&se.iat===C?(this.acquiredIatSet.add(C),this.refreshLockWhileAcquired(M,C),[2,!0]):[3,7];case 5:return f.lockCorrector(),[4,this.waitForSomethingToChange(S)];case 6:Oe.sent(),Oe.label=7;case 7:return C=Date.now()+c(4),[3,1];case 8:return[2,!1]}})})},f.prototype.refreshLockWhileAcquired=function(_,I){return t(this,void 0,void 0,function(){var C=this;return r(this,function(S){return setTimeout(function(){return t(C,void 0,void 0,function(){var M,U;return r(this,function(Q){switch(Q.label){case 0:return[4,vf.default().lock(I)];case 1:return Q.sent(),this.acquiredIatSet.has(I)?(M=window.localStorage,null===(U=M.getItem(_))?(vf.default().unlock(I),[2]):((U=JSON.parse(U)).timeRefreshed=Date.now(),M.setItem(_,JSON.stringify(U)),vf.default().unlock(I),this.refreshLockWhileAcquired(_,I),[2])):(vf.default().unlock(I),[2])}})})},1e3),[2]})})},f.prototype.waitForSomethingToChange=function(_){return t(this,void 0,void 0,function(){return r(this,function(I){switch(I.label){case 0:return[4,new Promise(function(C){var S=!1,M=Date.now(),U=!1;function Q(){if(U||(window.removeEventListener("storage",Q),f.removeFromWaiting(Q),clearTimeout(se),U=!0),!S){S=!0;var Oe=50-(Date.now()-M);Oe>0?setTimeout(C,Oe):C()}}window.addEventListener("storage",Q),f.addToWaiting(Q);var se=setTimeout(Q,Math.max(0,_-Date.now()))})];case 1:return I.sent(),[2]}})})},f.addToWaiting=function(_){this.removeFromWaiting(_),void 0!==f.waiters&&f.waiters.push(_)},f.removeFromWaiting=function(_){void 0!==f.waiters&&(f.waiters=f.waiters.filter(function(I){return I!==_}))},f.notifyWaiters=function(){void 0!==f.waiters&&f.waiters.slice().forEach(function(_){return _()})},f.prototype.releaseLock=function(_){return t(this,void 0,void 0,function(){return r(this,function(I){switch(I.label){case 0:return[4,this.releaseLock__private__(_)];case 1:return[2,I.sent()]}})})},f.prototype.releaseLock__private__=function(_){return t(this,void 0,void 0,function(){var I,C,S;return r(this,function(M){switch(M.label){case 0:return I=window.localStorage,null===(S=I.getItem(C=i+"-"+_))?[2]:(S=JSON.parse(S)).id!==this.id?[3,2]:[4,vf.default().lock(S.iat)];case 1:M.sent(),this.acquiredIatSet.delete(S.iat),I.removeItem(C),vf.default().unlock(S.iat),f.notifyWaiters(),M.label=2;case 2:return[2]}})})},f.lockCorrector=function(){for(var _=Date.now()-5e3,I=window.localStorage,C=Object.keys(I),S=!1,M=0;M<C.length;M++){var U=C[M];if(U.includes(i)){var Q=I.getItem(U);null!==Q&&(void 0===(Q=JSON.parse(Q)).timeRefreshed&&Q.timeAcquired<_||void 0!==Q.timeRefreshed&&Q.timeRefreshed<_)&&(I.removeItem(U),S=!0)}}S&&f.notifyWaiters()},f.waiters=void 0,f}();e.default=d}));class wf extends Error{constructor(e,t){super(t),this.error=e,this.error_description=t,Object.setPrototypeOf(this,wf.prototype)}static fromPayload({error:e,error_description:t}){return new wf(e,t)}}ek(tk(function(n,e){var t=Km&&Km.__assign||function(){return t=Object.assign||function(f){for(var _,I=1,C=arguments.length;I<C;I++)for(var S in _=arguments[I])Object.prototype.hasOwnProperty.call(_,S)&&(f[S]=_[S]);return f},t.apply(this,arguments)};function r(f,_){if(!_)return"";var I="; "+f;return!0===_?I:I+"="+_}function i(f,_,I){return encodeURIComponent(f).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(_).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(C){if("number"==typeof C.expires){var S=new Date;S.setMilliseconds(S.getMilliseconds()+864e5*C.expires),C.expires=S}return r("Expires",C.expires?C.expires.toUTCString():"")+r("Domain",C.domain)+r("Path",C.path)+r("Secure",C.secure)+r("SameSite",C.sameSite)}(I)}function o(f){for(var _={},I=f?f.split("; "):[],C=/(%[\dA-F]{2})+/gi,S=0;S<I.length;S++){var M=I[S].split("="),U=M.slice(1).join("=");'"'===U.charAt(0)&&(U=U.slice(1,-1));try{_[M[0].replace(C,decodeURIComponent)]=U.replace(C,decodeURIComponent)}catch{}}return _}function c(){return o(document.cookie)}function d(f,_,I){document.cookie=i(f,_,t({path:"/"},I))}e.__esModule=!0,e.encode=i,e.parse=o,e.getAll=c,e.get=function(f){return c()[f]},e.set=d,e.remove=function(f,_){d(f,"",t(t({},_),{expires:-1}))}})),new jH;const sL=new y.OlP("auth0.client"),sG=new y.OlP("auth0-angular.config");let oG=(()=>{class n{constructor(t){t&&this.set(t)}set(t){this.config=t}get(){return this.config}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(sG,8))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aG=(()=>{class n{constructor(t,r){this.location=t;try{this.router=r.get(Bi)}catch{}}navigateByUrl(t){this.router?this.router.navigateByUrl(t):this.location.replaceState(t)}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(Ae),y.LFG(y.zs3))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uG=(()=>{class n{constructor(t){this.auth0Client=t,this.isLoadingSubject$=new no(!0),this.refresh$=new $a.x,this.accessToken$=new mC(1),this.errorSubject$=new mC(1),this.isLoading$=this.isLoadingSubject$.asObservable(),this.accessTokenTrigger$=this.accessToken$.pipe(K0((r,i)=>({previous:r.current,current:i}),{current:null,previous:null}),Po(({previous:r,current:i})=>r!==i)),this.isAuthenticatedTrigger$=this.isLoading$.pipe(Po(r=>!r),yC(),Tr(()=>(0,_C.T)(Lm(()=>this.auth0Client.isAuthenticated()),this.accessTokenTrigger$.pipe((0,Si.z)(()=>this.auth0Client.isAuthenticated())),this.refresh$.pipe((0,Si.z)(()=>this.auth0Client.isAuthenticated()))))),this.isAuthenticated$=this.isAuthenticatedTrigger$.pipe(yC(),Jx(1)),this.user$=this.isAuthenticatedTrigger$.pipe(Oo(r=>r?this.auth0Client.getUser():mt(null)),yC()),this.idTokenClaims$=this.isAuthenticatedTrigger$.pipe(Oo(r=>r?this.auth0Client.getIdTokenClaims():mt(null))),this.error$=this.errorSubject$.asObservable()}setIsLoading(t){this.isLoadingSubject$.next(t)}refresh(){this.refresh$.next()}setAccessToken(t){this.accessToken$.next(t)}setError(t){this.errorSubject$.next(t)}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(sL))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cG=(()=>{class n{constructor(t,r,i,o){this.auth0Client=t,this.configFactory=r,this.navigator=i,this.authState=o,this.appStateSubject$=new mC(1),this.ngUnsubscribe$=new $a.x,this.isLoading$=this.authState.isLoading$,this.isAuthenticated$=this.authState.isAuthenticated$,this.user$=this.authState.user$,this.idTokenClaims$=this.authState.idTokenClaims$,this.error$=this.authState.error$,this.appState$=this.appStateSubject$.asObservable();const c=d=>function VH(n,e,t){return Lm(()=>n()?e:t)}(()=>d,this.handleRedirectCallback(),Lm(()=>this.auth0Client.checkSession()));this.shouldHandleCallback().pipe(Tr(d=>c(d).pipe(Lo(f=>{const _=this.configFactory.get();return this.navigator.navigateByUrl(_.errorPath||"/"),this.authState.setError(f),mt(void 0)}))),Gn(()=>{this.authState.setIsLoading(!1)}),function $H(n){return(0,Fr.e)((e,t)=>{(0,q0.Xf)(n).subscribe((0,xr.x)(t,()=>t.complete(),H1.Z)),!t.closed&&e.subscribe(t)})}(this.ngUnsubscribe$)).subscribe()}ngOnDestroy(){this.ngUnsubscribe$.next(),this.ngUnsubscribe$.complete()}loginWithRedirect(t){return(0,jn.D)(this.auth0Client.loginWithRedirect(t))}loginWithPopup(t,r){return(0,jn.D)(this.auth0Client.loginWithPopup(t,r).then(()=>{this.authState.refresh()}))}logout(t){return(0,jn.D)(this.auth0Client.logout(t).then(()=>{(!1===t?.openUrl||t?.openUrl)&&this.authState.refresh()}))}getAccessTokenSilently(t={}){return mt(this.auth0Client).pipe(Oo(r=>r.getTokenSilently(!0===t.detailedResponse?{...t,detailedResponse:!0}:t)),Gn(r=>this.authState.setAccessToken("string"==typeof r?r:r.access_token)),Lo(r=>(this.authState.setError(r),this.authState.refresh(),gf(r))))}getAccessTokenWithPopup(t){return mt(this.auth0Client).pipe(Oo(r=>r.getTokenWithPopup(t)),Gn(r=>{r&&this.authState.setAccessToken(r)}),Lo(r=>(this.authState.setError(r),this.authState.refresh(),gf(r))))}handleRedirectCallback(t){return Lm(()=>this.auth0Client.handleRedirectCallback(t)).pipe(G1(this.authState.isLoading$),Gn(([r,i])=>{i||this.authState.refresh();const o=r?.appState,c=o?.target??"/";o&&this.appStateSubject$.next(o),this.navigator.navigateByUrl(c)}),(0,jt.U)(([r])=>r))}shouldHandleCallback(){return mt(location.search).pipe((0,jt.U)(t=>{const r=new URLSearchParams(t);return(r.has("code")||r.has("error"))&&r.has("state")&&!this.configFactory.get().skipRedirectCallback}))}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(sL),y.LFG(oG),y.LFG(aG),y.LFG(uG))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var hs=V(2011),oL=V(3942);const aL="firebasestorage.googleapis.com",uL="storageBucket";class br extends P.ZR{constructor(e,t,r=0){super(fk(e),`Firebase Storage: ${t} (${fk(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,br.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fk(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Kn=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Kn||(Kn={})),Kn))();function fk(n){return"storage/"+n}function pk(){return new br(Kn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function cL(){return new br(Kn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lL(){return new br(Kn.CANCELED,"User canceled the upload/download.")}function dL(){return new br(Kn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ym(n){return new br(Kn.INVALID_ARGUMENT,n)}function hL(){return new br(Kn.APP_DELETED,"The Firebase app was deleted.")}function fL(n){return new br(Kn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function fw(n,e){return new br(Kn.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function pw(n){throw new br(Kn.INTERNAL_ERROR,"Internal error: "+n)}class $i{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=$i.makeFromUrl(e,t)}catch{return new $i(e,"")}if(""===r.path)return r;throw function wG(n){return new br(Kn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+i+"(/(.*))?$","i");function _(lt){lt.path_=decodeURIComponent(lt.path)}const C=t.replace(/[.]/g,"\\."),Ye=[{regex:d,indices:{bucket:1,path:3},postModify:function o(lt){"/"===lt.path.charAt(lt.path.length-1)&&(lt.path_=lt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${C}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_},{regex:new RegExp(`^https?://${t===aL?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_}];for(let lt=0;lt<Ye.length;lt++){const Rt=Ye[lt],Ft=Rt.regex.exec(e);if(Ft){let vr=Ft[Rt.indices.path];vr||(vr=""),r=new $i(Ft[Rt.indices.bucket],vr),Rt.postModify(r);break}}if(null==r)throw function vG(n){return new br(Kn.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class CG{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function TC(n){return"string"==typeof n||n instanceof String}function pL(n){return gk()&&n instanceof Blob}function gk(){return typeof Blob<"u"&&!(0,P.UG)()}function mk(n,e,t,r){if(r<e)throw Ym(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Ym(`Invalid value for '${n}'. Expected ${t} or less.`)}function uc(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function gL(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Zl=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Zl||(Zl={})),Zl))();function mL(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),o=-1!==e.indexOf(n);return t||i||o}class kG{constructor(e,t,r,i,o,c,d,f,_,I,C,S=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=f,this.timeout_=_,this.progressCallback_=I,this.connectionFactory_=C,this.retry=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,U)=>{this.resolve_=M,this.reject_=U,this.start_()})}start_(){const t=(r,i)=>{const o=this.resolve_,c=this.reject_,d=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());!function AG(n){return void 0!==n}(f)?o():o(f)}catch(f){c(f)}else if(null!==d){const f=pk();f.serverResponse=d.getErrorText(),c(this.errorCallback_?this.errorCallback_(d,f):f)}else c(i.canceled?this.appDelete_?hL():lL():cL())};this.canceled_?t(0,new bC(!1,null,!0)):this.backoffId_=function DG(n,e,t){let r=1,i=null,o=null,c=!1,d=0;function f(){return 2===d}let _=!1;function I(...se){_||(_=!0,e.apply(null,se))}function C(se){i=setTimeout(()=>{i=null,n(M,f())},se)}function S(){o&&clearTimeout(o)}function M(se,...Oe){if(_)return void S();if(se)return S(),void I.call(null,se,...Oe);if(f()||c)return S(),void I.call(null,se,...Oe);let Ye;r<64&&(r*=2),1===d?(d=2,Ye=0):Ye=1e3*(r+Math.random()),C(Ye)}let U=!1;function Q(se){U||(U=!0,S(),!_&&(null!==i?(se||(d=2),clearTimeout(i),C(0)):se||(d=1)))}return C(0),o=setTimeout(()=>{c=!0,Q(!0)},t),Q}((r,i)=>{if(i)return void r(!1,new bC(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const c=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const d=o.getErrorCode()===Zl.NO_ERROR,f=o.getStatus();if(!d||mL(f,this.additionalRetryCodes_)&&this.retry){const I=o.getErrorCode()===Zl.ABORT;return void r(!1,new bC(!1,null,I))}const _=-1!==this.successCodes_.indexOf(f);r(!0,new bC(_,o))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function SG(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class bC{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function UG(...n){const e=function FG(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(gk())return new Blob(n);throw new br(Kn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ns={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class _k{constructor(e,t){this.data=e,this.contentType=t||null}}function yk(n,e){switch(n){case Ns.RAW:return new _k(_L(e));case Ns.BASE64:case Ns.BASE64URL:return new _k(yL(n,e));case Ns.DATA_URL:return new _k(function jG(n){const e=new vL(n);return e.base64?yL(Ns.BASE64,e.rest):function $G(n){let e;try{e=decodeURIComponent(n)}catch{throw fw(Ns.DATA_URL,"Malformed data URL.")}return _L(e)}(e.rest)}(e),function HG(n){return new vL(n).contentType}(e))}throw pk()}function _L(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function yL(n,e){switch(n){case Ns.BASE64:{const i=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(i||o)throw fw(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ns.BASE64URL:{const i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw fw(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function BG(n){if(typeof atob>"u")throw function bG(n){return new br(Kn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:fw(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class vL{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw fw(Ns.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function GG(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class qa{constructor(e,t){let r=0,i="";pL(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(pL(this.data_)){const i=function VG(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new qa(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new qa(r,!0)}}static getBlob(...e){if(gk()){const t=e.map(r=>r instanceof qa?r.data_:r);return new qa(UG.apply(null,t))}{const t=e.map(c=>TC(c)?yk(Ns.RAW,c).data:c.data_);let r=0;t.forEach(c=>{r+=c.byteLength});const i=new Uint8Array(r);let o=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)i[o++]=c[d]}),new qa(i,!0)}}uploadData(){return this.data_}}function vk(n){let e;try{e=JSON.parse(n)}catch{return null}return function xG(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function wL(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function qG(n,e){return e}class Yi{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||qG}}let CC=null;function gw(){if(CC)return CC;const n=[];n.push(new Yi("bucket")),n.push(new Yi("generation")),n.push(new Yi("metageneration")),n.push(new Yi("name","fullPath",!0));const t=new Yi("name");t.xform=function e(o,c){return function KG(n){return!TC(n)||n.length<2?n:wL(n)}(c)},n.push(t);const i=new Yi("size");return i.xform=function r(o,c){return void 0!==c?Number(c):c},n.push(i),n.push(new Yi("timeCreated")),n.push(new Yi("updated")),n.push(new Yi("md5Hash",null,!0)),n.push(new Yi("cacheControl",null,!0)),n.push(new Yi("contentDisposition",null,!0)),n.push(new Yi("contentEncoding",null,!0)),n.push(new Yi("contentLanguage",null,!0)),n.push(new Yi("contentType",null,!0)),n.push(new Yi("metadata","customMetadata",!0)),CC=n,CC}function IL(n,e,t){const r=vk(e);return null===r?null:function YG(n,e,t){const r={type:"file"},i=t.length;for(let o=0;o<i;o++){const c=t[o];r[c.local]=c.xform(r,e[c.server])}return function ZG(n,e){Object.defineProperty(n,"ref",{get:function t(){const o=new $i(n.bucket,n.fullPath);return e._makeStorageReference(o)}})}(r,n),r}(n,r,t)}function wk(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}const EL="prefixes",TL="items";class Ka{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Za(n){if(!n)throw pk()}function DC(n,e){return function t(r,i){const o=IL(n,i,e);return Za(null!==o),o}}function Qm(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function _G(){return new br(Kn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function mG(){return new br(Kn.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function gG(n){return new br(Kn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function yG(n){return new br(Kn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function mw(n){const e=Qm(n);return function t(r,i){let o=e(r,i);return 404===r.getStatus()&&(o=function pG(n){return new br(Kn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=i.serverResponse,o}}function bL(n,e,t){const i=uc(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new Ka(i,"GET",DC(n,t),c);return d.errorHandler=mw(e),d}function nz(n,e,t,r,i){const o={};o.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(o.delimiter=t),r&&(o.pageToken=r),i&&(o.maxResults=i);const d=uc(e.bucketOnlyServerUrl(),n.host,n._protocol),_=n.maxOperationRetryTime,I=new Ka(d,"GET",function ez(n,e){return function t(r,i){const o=function JG(n,e,t){const r=vk(t);return null===r?null:function XG(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[EL])for(const i of t[EL]){const o=i.replace(/\/$/,""),c=n._makeStorageReference(new $i(e,o));r.prefixes.push(c)}if(t[TL])for(const i of t[TL]){const o=n._makeStorageReference(new $i(e,i.name));r.items.push(o)}return r}(n,e,r)}(n,e,i);return Za(null!==o),o}}(n,e.bucket),_);return I.urlParams=o,I.errorHandler=Qm(e),I}function DL(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function oz(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class SC{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function Ik(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Za(!1)}return Za(!!t&&-1!==(e||["active"]).indexOf(t)),t}const lz={STATE_CHANGED:"state_changed"},Qi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ek(n){switch(n){case"running":case"pausing":case"canceling":return Qi.RUNNING;case"paused":return Qi.PAUSED;case"success":return Qi.SUCCESS;case"canceled":return Qi.CANCELED;default:return Qi.ERROR}}class dz{constructor(e,t,r){if(function RG(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function Xm(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let RL=null;class hz{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Zl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Zl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Zl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw pw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pw("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw pw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class fz extends hz{initXhr(){this.xhr_.responseType="text"}}function Fo(){return RL?RL():new fz}class xL{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=gw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Kn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(mL(i.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=cL()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Kn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function az(n,e,t,r,i){const o=e.bucketOnlyServerUrl(),c=DL(e,r,i),d={name:c.fullPath},f=uc(o,n.host,n._protocol),I={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},C=wk(c,t),U=new Ka(f,"POST",function M(Q){let se;Ik(Q);try{se=Q.getResponseHeader("X-Goog-Upload-URL")}catch{Za(!1)}return Za(TC(se)),se},n.maxUploadRetryTime);return U.urlParams=d,U.headers=I,U.body=C,U.errorHandler=Qm(e),U}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Fo,e,t);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function uz(n,e,t,r){const f=new Ka(t,"POST",function o(_){const I=Ik(_,["active","final"]);let C=null;try{C=_.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Za(!1)}C||Za(!1);const S=Number(C);return Za(!isNaN(S)),new SC(S,r.size(),"final"===I)},n.maxUploadRetryTime);return f.headers={"X-Goog-Upload-Command":"query"},f.errorHandler=Qm(e),f}(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,Fo,t,r);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new SC(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let c;try{c=function cz(n,e,t,r,i,o,c,d){const f=new SC(0,0);if(c?(f.current=c.current,f.total=c.total):(f.current=0,f.total=r.size()),r.size()!==f.total)throw function EG(){return new br(Kn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const _=f.total-f.current;let I=_;i>0&&(I=Math.min(I,i));const C=f.current;let M="";M=0===I?"finalize":_===I?"upload, finalize":"upload";const U={"X-Goog-Upload-Command":M,"X-Goog-Upload-Offset":`${f.current}`},Q=r.slice(C,C+I);if(null===Q)throw dL();const Ye=new Ka(t,"POST",function se(lt,Rt){const Ft=Ik(lt,["active","final"]),lr=f.current+I,vr=r.size();let uo;return uo="final"===Ft?DC(e,o)(lt,Rt):null,new SC(lr,vr,"final"===Ft,uo)},e.maxUploadRetryTime);return Ye.headers=U,Ye.body=Q.uploadData(),Ye.progressCallback=d||null,Ye.errorHandler=Qm(n),Ye}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(f){return this._error=f,void this._transition("error")}const d=this._ref.storage._makeRequest(c,Fo,i,o,!1);this._request=d,d.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=bL(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Fo,e,t);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function SL(n,e,t,r,i){const o=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},f=function d(){let Ye="";for(let lt=0;lt<2;lt++)Ye+=Math.random().toString().slice(2);return Ye}();c["Content-Type"]="multipart/related; boundary="+f;const _=DL(e,r,i),I=wk(_,t),M=qa.getBlob("--"+f+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+I+"\r\n--"+f+"\r\nContent-Type: "+_.contentType+"\r\n\r\n",r,"\r\n--"+f+"--");if(null===M)throw dL();const U={name:_.fullPath},Q=uc(o,n.host,n._protocol),Oe=n.maxUploadRetryTime,Re=new Ka(Q,"POST",DC(n,t),Oe);return Re.urlParams=U,Re.headers=c,Re.body=M.uploadData(),Re.errorHandler=Qm(e),Re}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Fo,e,t);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=lL(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=Ek(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const o=new dz(t||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(Ek(this._state)){case Qi.SUCCESS:Xm(this._resolve.bind(null,this.snapshot))();break;case Qi.CANCELED:case Qi.ERROR:Xm(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Ek(this._state)){case Qi.RUNNING:case Qi.PAUSED:e.next&&Xm(e.next.bind(e,this.snapshot))();break;case Qi.SUCCESS:e.complete&&Xm(e.complete.bind(e))();break;default:e.error&&Xm(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Ef{constructor(e,t){this._service=e,this._location=t instanceof $i?t:$i.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ef(e,t)}get root(){const e=new $i(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wL(this._location.path)}get storage(){return this._service}get parent(){const e=function zG(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new $i(this._location.bucket,e);return new Ef(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw fL(e)}}function ML(n,e,t){return Tk.apply(this,arguments)}function Tk(){return Tk=(0,_t.Z)(function*(n,e,t){const i=yield NL(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield ML(n,e,i.nextPageToken))}),Tk.apply(this,arguments)}function NL(n,e){null!=e&&"number"==typeof e.maxResults&&mk("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=nz(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Fo)}function Cz(n){n._throwIfRoot("getDownloadURL");const e=function rz(n,e,t){const i=uc(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new Ka(i,"GET",function tz(n,e){return function t(r,i){const o=IL(n,i,e);return Za(null!==o),function QG(n,e,t,r){const i=vk(e);if(null===i||!TC(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const c=encodeURIComponent;return o.split(",").map(_=>{const C=n.fullPath;return uc("/b/"+c(n.bucket)+"/o/"+c(C),t,r)+gL({alt:"media",token:_})})[0]}(o,i,n.host,n._protocol)}}(n,t),c);return d.errorHandler=mw(e),d}(n.storage,n._location,gw());return n.storage.makeRequestWithTokens(e,Fo).then(t=>{if(null===t)throw function TG(){return new br(Kn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function PL(n,e){const t=function WG(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new $i(n._location.bucket,t);return new Ef(n.storage,r)}function OL(n,e){if(n instanceof bk){const t=n;if(null==t._bucket)throw function IG(){return new br(Kn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+uL+"' property when initializing the app?")}();const r=new Ef(t,t._bucket);return null!=e?OL(r,e):r}return void 0!==e?PL(n,e):n}function Rz(n,e){if(e&&function Sz(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof bk)return function Az(n,e){return new Ef(n,e)}(n,e);throw Ym("To use ref(service, url), the first argument must be a Storage instance.")}return OL(n,e)}function LL(n,e){const t=e?.[uL];return null==t?null:$i.makeFromBucketSpec(t,n)}class bk{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=aL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?$i.makeFromBucketSpec(i,this._host):LL(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?$i.makeFromBucketSpec(this._url,e):LL(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){mk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){mk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,_t.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,_t.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ef(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new CG(hL());{const c=function LG(n,e,t,r,i,o,c=!0){const d=gL(n.urlParams),f=n.url+d,_=Object.assign({},n.headers);return function PG(n,e){e&&(n["X-Firebase-GMPID"]=e)}(_,e),function MG(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(_,t),function NG(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(_,o),function OG(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(_,r),new kG(f,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,c)}(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(e,t){var r=this;return(0,_t.Z)(function*(){const[i,o]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,o).getPromise()})()}}const FL="@firebase/storage";function BL(n,e){return Rz(n=(0,P.m9)(n),e)}function Vz(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new bk(t,r,i,e,Mt.SDK_VERSION)}!function Bz(){(0,Mt._registerComponent)(new Lr.wA("storage",Vz,"PUBLIC").setMultipleInstances(!0)),(0,Mt.registerVersion)(FL,"0.11.2",""),(0,Mt.registerVersion)(FL,"0.11.2","esm2017")}();class AC{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class jL{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new AC(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new AC(r,this,this._ref))},t)}on(e,t,r,i){let o;return t&&(o="function"==typeof t?c=>t(new AC(c,this,this._ref)):{next:t.next?c=>t.next(new AC(c,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,r||void 0,i||void 0)}}class HL{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new cc(e,this._service))}get items(){return this._delegate.items.map(e=>new cc(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class cc{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function Uz(n,e){return PL(n,e)}(this._delegate,e);return new cc(t,this.storage)}get root(){return new cc(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new cc(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new jL(function kz(n,e,t){return function wz(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new xL(n,new qa(e),t)}(n=(0,P.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Ns.RAW,r){this._throwIfRoot("putString");const i=yk(t,e),o=Object.assign({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new jL(new xL(this._delegate,new qa(i.data,!0),o),this)}listAll(){return function Oz(n){return function Ez(n){const e={prefixes:[],items:[]};return ML(n,e).then(()=>e)}(n=(0,P.m9)(n))}(this._delegate).then(e=>new HL(e,this.storage))}list(e){return function Pz(n,e){return NL(n=(0,P.m9)(n),e)}(this._delegate,e||void 0).then(t=>new HL(t,this.storage))}getMetadata(){return function Mz(n){return function Tz(n){n._throwIfRoot("getMetadata");const e=bL(n.storage,n._location,gw());return n.storage.makeRequestWithTokens(e,Fo)}(n=(0,P.m9)(n))}(this._delegate)}updateMetadata(e){return function Nz(n,e){return function bz(n,e){n._throwIfRoot("updateMetadata");const t=function iz(n,e,t,r){const o=uc(e.fullServerUrl(),n.host,n._protocol),d=wk(t,r),_=n.maxOperationRetryTime,I=new Ka(o,"PATCH",DC(n,r),_);return I.headers={"Content-Type":"application/json; charset=utf-8"},I.body=d,I.errorHandler=mw(e),I}(n.storage,n._location,e,gw());return n.storage.makeRequestWithTokens(t,Fo)}(n=(0,P.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function Lz(n){return Cz(n=(0,P.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Fz(n){return function Dz(n){n._throwIfRoot("deleteObject");const e=function sz(n,e){const r=uc(e.fullServerUrl(),n.host,n._protocol),d=new Ka(r,"DELETE",function c(f,_){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=mw(e),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Fo)}(n=(0,P.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw fL(e)}}class GL{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(zL(e))throw Ym("ref() expected a child path but got a URL, use refFromURL instead.");return new cc(BL(this._delegate,e),this)}refFromURL(e){if(!zL(e))throw Ym("refFromURL() expected a full URL but got a child path, use ref() instead.");try{$i.makeFromUrl(e,this._delegate.host)}catch{throw Ym("refFromUrl() expected a valid full URL but got an invalid one.")}return new cc(BL(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function $L(n,e,t,r={}){!function xz(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,P.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function zL(n){return/^[A-Za-z]+:\/\//.test(n)}function Gz(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new GL(t,r)}!function zz(n){const e={TaskState:Qi,TaskEvent:lz,StringFormat:Ns,Storage:GL,Reference:cc};n.INTERNAL.registerComponent(new Lr.wA("storage-compat",Gz,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(oL.Z);var WL=V(9260);function qL(n){const e=function Wz(n){return new fi.y(e=>{const t=c=>e.next(c);t(n.snapshot);const o=n.on("state_changed",t);return n.then(c=>{t(c),e.complete()},c=>{t(n.snapshot),(c=>{e.error(c)})(c)}),function(){o()}}).pipe(function lG(n,e=fy){return(0,Fr.e)((t,r)=>{let i=null,o=null,c=null;const d=()=>{if(i){i.unsubscribe(),i=null;const _=o;o=null,r.next(_)}};function f(){const _=c+n,I=e.now();if(I<_)return i=this.schedule(void 0,_-I),void r.add(i);d()}t.subscribe((0,xr.x)(r,_=>{o=_,c=e.now(),i||(i=e.schedule(f,n),r.add(i))},()=>{d(),r.complete()},void 0,()=>{o=i=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,jt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function RC(n){return{getDownloadURL:()=>mt(void 0).pipe(ZI,Tr(()=>n.getDownloadURL()),qs),getMetadata:()=>mt(void 0).pipe(ZI,Tr(()=>n.getMetadata()),qs),delete:()=>(0,jn.D)(n.delete()),child:e=>RC(n.child(e)),updateMetadata:e=>(0,jn.D)(n.updateMetadata(e)),put:(e,t)=>qL(n.put(e,t)),putString:(e,t,r)=>qL(n.putString(e,t,r)),list:e=>(0,jn.D)(n.list(e)),listAll:()=>(0,jn.D)(n.listAll())}}const qz=new y.OlP("angularfire2.storageBucket"),Kz=new y.OlP("angularfire2.storage.maxUploadRetryTime"),Zz=new y.OlP("angularfire2.storage.maxOperationRetryTime"),Yz=new y.OlP("angularfire2.storage.use-emulator");let Qz=(()=>{class n{constructor(t,r,i,o,c,d,f,_,I,C){const S=(0,hs.on)(t,c,r);this.storage=(0,hs.cc)(`${S.name}.storage.${i}`,"AngularFireStorage",S.name,()=>{const M=c.runOutsideAngular(()=>S.storage(i||void 0)),U=I;return U&&M.useEmulator(...U),f&&M.setMaxUploadRetryTime(f),_&&M.setMaxOperationRetryTime(_),M},[f,_])}ref(t){return RC(this.storage.ref(t))}refFromURL(t){return RC(this.storage.refFromURL(t))}upload(t,r,i){return RC(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(hs.Dh),y.LFG(hs.xv,8),y.LFG(qz,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(ga),y.LFG(Kz,8),y.LFG(Zz,8),y.LFG(Yz,8),y.LFG(va,8))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Xz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({}),n})(),Jz=(()=>{class n{constructor(){WL.Z.registerVersion("angularfire",Qc.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({providers:[Qz],imports:[Xz]}),n})();V(9568);const KL="@firebase/database";let Ck="";function YL(n){Ck=n}class tW{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,P.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,P.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class nW{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,P.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const QL=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new tW(e)}}catch{}return new nW},Tf=QL("localStorage"),Dk=QL("sessionStorage"),Jm=new Ti.Yd("@firebase/database"),XL=function(){let n=1;return function(){return n++}}(),JL=function(n){const e=(0,P.dS)(n),t=new P.gQ;t.update(e);const r=t.digest();return P.US.encodeByteArray(r)},_w=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=_w.apply(null,r):e+="object"==typeof r?(0,P.Wl)(r):r,e+=" "}return e};let bf=null,eF=!0;const tF=function(n,e){(0,P.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Jm.logLevel=Ti.in.VERBOSE,bf=Jm.log.bind(Jm),e&&Dk.set("logging_enabled",!0)):"function"==typeof n?bf=n:(bf=null,Dk.remove("logging_enabled"))},vi=function(...n){if(!0===eF&&(eF=!1,null===bf&&!0===Dk.get("logging_enabled")&&tF(!0)),bf){const e=_w.apply(null,n);bf(e)}},yw=function(n){return function(...e){vi(n,...e)}},Sk=function(...n){const e="FIREBASE INTERNAL ERROR: "+_w(...n);Jm.error(e)},Ya=function(...n){const e=`FIREBASE FATAL ERROR: ${_w(...n)}`;throw Jm.error(e),new Error(e)},ji=function(...n){const e="FIREBASE WARNING: "+_w(...n);Jm.warn(e)},xC=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Yl="[MIN_NAME]",lc="[MAX_NAME]",Cf=function(n,e){if(n===e)return 0;if(n===Yl||e===lc)return-1;if(e===Yl||n===lc)return 1;{const t=iF(n),r=iF(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},sW=function(n,e){return n===e?0:n<e?-1:1},vw=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,P.Wl)(e))},Ak=function(n){if("object"!=typeof n||null===n)return(0,P.Wl)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,P.Wl)(e[r]),t+=":",t+=Ak(n[e[r]]);return t+="}",t},nF=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function wi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const rF=function(n){(0,P.hu)(!xC(n),"Invalid JSON number");const r=1023;let i,o,c,d,f;0===n?(o=0,c=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),r),o=d+r,c=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(o=0,c=Math.round(n/Math.pow(2,-1074))));const _=[];for(f=52;f;f-=1)_.push(c%2?1:0),c=Math.floor(c/2);for(f=11;f;f-=1)_.push(o%2?1:0),o=Math.floor(o/2);_.push(i?1:0),_.reverse();const I=_.join("");let C="";for(f=0;f<64;f+=8){let S=parseInt(I.substr(f,8),2).toString(16);1===S.length&&(S="0"+S),C+=S}return C.toLowerCase()},cW=new RegExp("^-?(0*)\\d{1,10}$"),iF=function(n){if(cW.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},e_=function(n){try{n()}catch(e){setTimeout(()=>{throw ji("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},hW=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ww=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class fW{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ji(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class pW{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(vi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ji(e)}}let Iw=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const cF=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,hF="websocket",fF="long_polling";class xk{constructor(e,t,r,i,o=!1,c="",d=!1,f=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=f,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Tf.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Tf.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function pF(n,e,t){let r;if((0,P.hu)("string"==typeof e,"typeof type must == string"),(0,P.hu)("object"==typeof t,"typeof params must == object"),e===hF)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==fF)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function gW(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return wi(t,(o,c)=>{i.push(o+"="+c)}),r+i.join("&")}class mW{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,P.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,P.p$)(this.counters_)}}const kk={},Mk={};function Nk(n){const e=n.toString();return kk[e]||(kk[e]=new mW),kk[e]}class yW{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&e_(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ql{constructor(e,t,r,i,o,c,d){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=yw(e),this.stats_=Nk(t),this.urlFn=f=>(this.appCheckToken&&(f.ac=this.appCheckToken),pF(t,fF,f))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new yW(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,P.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Pk((...o)=>{const[c,d,f,_,I]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=d,this.password=f;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[c,d]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&cF.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ql.forceAllow_=!0}static forceDisallow(){Ql.forceDisallow_=!0}static isAvailable(){return!((0,P.Yr)()||!Ql.forceAllow_&&(Ql.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,P.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,P.h$)(t),i=nF(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,P.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,P.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Pk{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,P.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=XL(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Pk.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){vi("frame writing exception"),d.stack&&vi(d.stack),vi(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||vi("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const c=this.pendingSegs.shift();r=r+"&seg"+i+"="+c.seg+"&ts"+i+"="+c.ts+"&d"+i+"="+c.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){(0,P.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{vi("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let MC=null;typeof MozWebSocket<"u"?MC=MozWebSocket:typeof WebSocket<"u"&&(MC=WebSocket);let t_=(()=>{class n{constructor(t,r,i,o,c,d,f){this.connId=t,this.applicationId=i,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=yw(this.connId),this.stats_=Nk(r),this.connURL=n.connectionURL_(r,d,f,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,o,c){const d={v:"5"};return!(0,P.Yr)()&&typeof location<"u"&&location.hostname&&cF.test(location.hostname)&&(d.r="f"),r&&(d.s=r),i&&(d.ls=i),o&&(d.ac=o),c&&(d.p=c),pF(t,hF,d)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Tf.set("previous_websocket_failure",!0);try{let i;if((0,P.Yr)()){i={headers:{"User-Agent":`Firebase/5/${Ck}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,d=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;d&&(i.proxy={origin:d})}this.mySock=new MC(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==MC&&!n.forceDisallow_}static previouslyFailed(){return Tf.isInMemoryStorage||!0===Tf.get("previous_websocket_failure")}markConnectionHealthy(){Tf.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,P.cI)(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,P.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=(0,P.Wl)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=nF(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),IF=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Ql,t_]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=t_&&t_.isAvailable();let i=r&&!t_.previouslyFailed();if(t.webSocketOnly&&(r||ji("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[t_];else{const o=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class AF{constructor(e,t,r,i,o,c,d,f,_,I){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=f,this.onKill_=_,this.lastSessionId=I,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=yw("c:"+this.id+":"),this.transportManager_=new IF(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ww(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=vw("t",e),r=vw("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=vw("t",e),r=vw("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=vw("t",e);if("d"in e){const r=e.d;if("h"===t){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?Sk("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Sk("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&ji("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),ww(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ww(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Tf.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class RF{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class xF{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,P.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===t&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(e){(0,P.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class NC extends xF{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,P.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new NC}getInitialEvent(e){return(0,P.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const kF=32,MF=768;class kn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function vn(){return new kn("")}function rn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Xl(n){return n.pieces_.length-n.pieceNum_}function Hn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new kn(n.pieces_,e)}function Lk(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Ew(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function NF(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new kn(e,0)}function yr(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof kn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new kn(t,0)}function sn(n){return n.pieceNum_>=n.pieces_.length}function Xi(n,e){const t=rn(n),r=rn(e);if(null===t)return e;if(t===r)return Xi(Hn(n),Hn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function BW(n,e){const t=Ew(n,0),r=Ew(e,0);for(let i=0;i<t.length&&i<r.length;i++){const o=Cf(t[i],r[i]);if(0!==o)return o}return t.length===r.length?0:t.length<r.length?-1:1}function Fk(n,e){if(Xl(n)!==Xl(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function io(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Xl(n)>Xl(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class $W{constructor(e,t){this.errorPrefix_=t,this.parts_=Ew(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,P.ug)(this.parts_[r]);PF(this)}}function PF(n){if(n.byteLength_>MF)throw new Error(n.errorPrefix_+"has a key path longer than "+MF+" bytes ("+n.byteLength_+").");if(n.parts_.length>kF)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+kF+") or object contains a cycle "+Df(n))}function Df(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Uk extends xF{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Uk}getInitialEvent(e){return(0,P.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Tw=1e3;let OC,Sf=(()=>{class n extends RF{constructor(t,r,i,o,c,d,f,_){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=f,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=yw("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Tw,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,P.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Uk.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&NC.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const o=++this.requestNumber_,c={r:o,a:t,b:r};this.log_((0,P.Wl)(c)),(0,P.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),i&&(this.requestCBHash_[o]=i)}get(t){this.initConnection_();const r=new P.BH,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:d=>{const f=d.d;"ok"===d.s?r.resolve(f):r.reject(f)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,o){this.initConnection_();const c=t._queryIdentifier,d=t._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),(0,P.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,P.hu)(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const f={onComplete:o,hashFn:r,query:t,tag:i};this.listens.get(d).set(c,f),this.connected_&&this.sendListen_(f)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const c={p:i};t.tag&&(c.q=r._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest("q",c,f=>{const _=f.d,I=f.s;n.warnOnListenWarnings_(_,r),(this.listens.get(i)&&this.listens.get(i).get(o))===t&&(this.log_("listen response",f),"ok"!==I&&this.removeListen_(i,o),t.onComplete&&t.onComplete(I,_))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,P.r3)(t,"w")){const i=(0,P.DV)(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',c=r._path.toString();ji(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,P.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,P.w9)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const c=o.s,d=o.d||"error";this.authToken_===t&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),(0,P.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,t._queryObject,r)}sendUnlisten_(t,r,i,o){this.log_("Unlisten on "+t+" for "+r);const c={p:t};o&&(c.q=i,c.t=o),this.sendRequest("n",c)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,o){const c={p:r,d:i};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,d=>{o&&setTimeout(()=>{o(d.s,d.d)},Math.floor(0))})}put(t,r,i,o){this.putInternal("p",t,r,i,o)}merge(t,r,i,o){this.putInternal("m",t,r,i,o)}putInternal(t,r,i,o,c){this.initConnection_();const d={p:r,d:i};void 0!==c&&(d.h=c),this.outstandingPuts_.push({action:t,request:d,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,c=>{this.log_(r+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,P.Wl)(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):Sk("Unrecognized action received from server: "+(0,P.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,P.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Tw,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Tw,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Tw),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,_t.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),o=t.onRealtimeDisconnect_.bind(t),c=t.id+":"+n.nextConnectionId_++,d=t.lastSessionId;let f=!1,_=null;const I=function(){_?_.close():(f=!0,o())};t.realtime_={close:I,sendRequest:function(M){(0,P.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(M)}};const S=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[M,U]=yield Promise.all([t.authTokenProvider_.getToken(S),t.appCheckTokenProvider_.getToken(S)]);f?vi("getToken() completed but was canceled"):(vi("getToken() completed. Creating connection."),t.authToken_=M&&M.accessToken,t.appCheckToken_=U&&U.token,_=new AF(c,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,o,Q=>{ji(Q+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},d))}catch(M){t.log_("Failed to get token: "+M),f||(t.repoInfo_.nodeAdmin&&ji(M),I())}}})()}interrupt(t){vi("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){vi("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,P.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Tw,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(c=>Ak(c)).join("$"):"default";const o=this.removeListen_(t,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,r){const i=new kn(t).toString();let o;if(this.listens.has(i)){const c=this.listens.get(i);o=c.get(r),c.delete(r),0===c.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(t,r){vi("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){vi("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,P.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+Ck.replace(/\./g,"-")]=1,(0,P.uI)()?t["framework.cordova"]=1:(0,P.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=NC.getInstance().currentlyOnline();return(0,P.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class un{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new un(e,t)}}class PC{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new un(Yl,e),i=new un(Yl,t);return 0!==this.compare(r,i)}minPost(){return un.MIN}}class FF extends PC{static get __EMPTY_NODE(){return OC}static set __EMPTY_NODE(e){OC=e}compare(e,t){return Cf(e.name,t.name)}isDefinedOn(e){throw(0,P.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return un.MIN}maxPost(){return new un(lc,OC)}makePost(e,t){return(0,P.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new un(e,OC)}toString(){return".key"}}const Qa=new FF;class LC{constructor(e,t,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,i&&(c*=-1),c<0)e=this.isReverse_?e.left:e.right;else{if(0===c){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let Bk,Uo=(()=>{class n{constructor(t,r,i,o,c){this.key=t,this.value=r,this.color=i??n.RED,this.left=o??fs.EMPTY_NODE,this.right=c??fs.EMPTY_NODE}copy(t,r,i,o,c){return new n(t??this.key,r??this.value,i??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let o=this;const c=i(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,r,i),null):0===c?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(t,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return fs.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,o;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return fs.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class fs{constructor(e,t=fs.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new fs(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Uo.BLACK,null,null))}remove(e){return new fs(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Uo.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new LC(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new LC(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new LC(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new LC(this.root_,null,this.comparator_,!0,e)}}function ZW(n,e){return Cf(n.name,e.name)}function Vk(n,e){return Cf(n,e)}fs.EMPTY_NODE=new class KW{copy(e,t,r,i,o){return this}insert(e,t,r){return new Uo(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const UF=function(n){return"number"==typeof n?"number:"+rF(n):"string:"+n},VF=function(n){if(n.isLeafNode()){const e=n.val();(0,P.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,P.r3)(e,".sv"),"Priority must be a string or number.")}else(0,P.hu)(n===Bk||n.isEmpty(),"priority of unexpected type.");(0,P.hu)(n===Bk||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let BF,$F,jF,n_=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,P.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),VF(this.priorityNode_)}static set __childrenNodeConstructor(t){BF=t}static get __childrenNodeConstructor(){return BF}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return sn(t)?this:".priority"===rn(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=rn(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,P.hu)(".priority"!==i||1===Xl(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Hn(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+UF(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?rF(this.value_):this.value_,this.lazyHash_=JL(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,P.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(r),c=n.VALUE_TYPE_ORDER.indexOf(i);return(0,P.hu)(o>=0,"Unknown leaf type: "+r),(0,P.hu)(c>=0,"Unknown leaf type: "+i),o===c?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Zn=new class JW extends PC{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),o=r.compareTo(i);return 0===o?Cf(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return un.MIN}maxPost(){return new un(lc,new n_("[PRIORITY-POST]",jF))}makePost(e,t){const r=$F(e);return new un(t,new n_("[PRIORITY-POST]",r))}toString(){return".priority"}},e3=Math.log(2);class t3{constructor(e){this.count=parseInt(Math.log(e+1)/e3,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const FC=function(n,e,t,r){n.sort(e);const i=function(f,_){const I=_-f;let C,S;if(0===I)return null;if(1===I)return C=n[f],S=t?t(C):C,new Uo(S,C.node,Uo.BLACK,null,null);{const M=parseInt(I/2,10)+f,U=i(f,M),Q=i(M+1,_);return C=n[M],S=t?t(C):C,new Uo(S,C.node,Uo.BLACK,U,Q)}},d=function(f){let _=null,I=null,C=n.length;const S=function(U,Q){const se=C-U,Oe=C;C-=U;const Re=i(se+1,Oe),Ye=n[se],lt=t?t(Ye):Ye;M(new Uo(lt,Ye.node,Q,null,Re))},M=function(U){_?(_.left=U,_=U):(I=U,_=U)};for(let U=0;U<f.count;++U){const Q=f.nextBitIsOne(),se=Math.pow(2,f.count-(U+1));Q?S(se,Uo.BLACK):(S(se,Uo.BLACK),S(se,Uo.RED))}return I}(new t3(n.length));return new fs(r||e,d)};let $k;const r_={};class dc{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,P.hu)(r_&&Zn,"ChildrenNode.ts has not been loaded"),$k=$k||new dc({".priority":r_},{".priority":Zn}),$k}get(e){const t=(0,P.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof fs?t:null}hasIndex(e){return(0,P.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,P.hu)(e!==Qa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=t.getIterator(un.Wrap);let d,c=o.getNext();for(;c;)i=i||e.isDefinedOn(c.node),r.push(c),c=o.getNext();d=i?FC(r,e.getCompare()):r_;const f=e.toString(),_=Object.assign({},this.indexSet_);_[f]=e;const I=Object.assign({},this.indexes_);return I[f]=d,new dc(I,_)}addToIndexes(e,t){const r=(0,P.UI)(this.indexes_,(i,o)=>{const c=(0,P.DV)(this.indexSet_,o);if((0,P.hu)(c,"Missing index implementation for "+o),i===r_){if(c.isDefinedOn(e.node)){const d=[],f=t.getIterator(un.Wrap);let _=f.getNext();for(;_;)_.name!==e.name&&d.push(_),_=f.getNext();return d.push(e),FC(d,c.getCompare())}return r_}{const d=t.get(e.name);let f=i;return d&&(f=f.remove(new un(e.name,d))),f.insert(e,e.node)}});return new dc(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,P.UI)(this.indexes_,i=>{if(i===r_)return i;{const o=t.get(e.name);return o?i.remove(new un(e.name,o)):i}});return new dc(r,this.indexSet_)}}let bw,tn=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&VF(this.priorityNode_),this.children_.isEmpty()&&(0,P.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return bw||(bw=new n(new fs(Vk),null,dc.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||bw}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?bw:r}}getChild(t){const r=rn(t);return null===r?this:this.getImmediateChild(r).getChild(Hn(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,P.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new un(t,r);let o,c;r.isEmpty()?(o=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(t,r),c=this.indexMap_.addToIndexes(i,this.children_));const d=o.isEmpty()?bw:this.priorityNode_;return new n(o,d,c)}}updateChild(t,r){const i=rn(t);if(null===i)return r;{(0,P.hu)(".priority"!==rn(t)||1===Xl(t),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(Hn(t),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,o=0,c=!0;if(this.forEachChild(Zn,(d,f)=>{r[d]=f.val(t),i++,c&&n.INTEGER_REGEXP_.test(d)?o=Math.max(o,Number(d)):c=!1}),!t&&c&&o<2*i){const d=[];for(const f in r)d[f]=r[f];return d}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+UF(this.getPriority().val())+":"),this.forEachChild(Zn,(r,i)=>{const o=i.hash();""!==o&&(t+=":"+r+":"+o)}),this.lazyHash_=""===t?"":JL(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const o=this.resolveIndex_(i);if(o){const c=o.getPredecessorKey(new un(t,r));return c?c.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new un(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new un(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,un.Wrap);let c=o.peek();for(;null!=c&&r.compare(c,t)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,un.Wrap);let c=o.peek();for(;null!=c&&r.compare(c,t)>0;)o.getNext(),c=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Cw?-1:0}withIndex(t){if(t===Qa||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Qa||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Zn),o=r.getIterator(Zn);let c=i.getNext(),d=o.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=i.getNext(),d=o.getNext()}return null===c&&null===d}return!1}return!1}}resolveIndex_(t){return t===Qa?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Cw=new class n3 extends tn{constructor(){super(new fs(Vk),tn.EMPTY_NODE,dc.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return tn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(un,{MIN:{value:new un(Yl,tn.EMPTY_NODE)},MAX:{value:new un(lc,Cw)}}),FF.__EMPTY_NODE=tn.EMPTY_NODE,n_.__childrenNodeConstructor=tn,function YW(n){Bk=n}(Cw),function XW(n){jF=n}(Cw);const r3=!0;function Cr(n,e=null){if(null===n)return tn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,P.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new n_(n,Cr(e));if(n instanceof Array||!r3){let t=tn.EMPTY_NODE;return wi(n,(r,i)=>{if((0,P.r3)(n,r)&&"."!==r.substring(0,1)){const o=Cr(i);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(r,o))}}),t.updatePriority(Cr(e))}{const t=[];let r=!1;if(wi(n,(c,d)=>{if("."!==c.substring(0,1)){const f=Cr(d);f.isEmpty()||(r=r||!f.getPriority().isEmpty(),t.push(new un(c,f)))}}),0===t.length)return tn.EMPTY_NODE;const o=FC(t,ZW,c=>c.name,Vk);if(r){const c=FC(t,Zn.getCompare());return new tn(o,Cr(e),new dc({".priority":c},{".priority":Zn}))}return new tn(o,Cr(e),dc.Default)}}!function QW(n){$F=n}(Cr);class jk extends PC{constructor(e){super(),this.indexPath_=e,(0,P.hu)(!sn(e)&&".priority"!==rn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),o=r.compareTo(i);return 0===o?Cf(e.name,t.name):o}makePost(e,t){const r=Cr(e),i=tn.EMPTY_NODE.updateChild(this.indexPath_,r);return new un(t,i)}maxPost(){const e=tn.EMPTY_NODE.updateChild(this.indexPath_,Cw);return new un(lc,e)}toString(){return Ew(this.indexPath_,0).join("/")}}const Hk=new class i3 extends PC{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?Cf(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return un.MIN}maxPost(){return un.MAX}makePost(e,t){const r=Cr(e);return new un(t,r)}toString(){return".value"}};function HF(n){return{type:"value",snapshotNode:n}}function i_(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Dw(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Sw(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class Gk{constructor(e){this.index_=e}updateChild(e,t,r,i,o,c){(0,P.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(t);return d.getChild(i).equals(r.getChild(i))&&d.isEmpty()===r.isEmpty()||(null!=c&&(r.isEmpty()?e.hasChild(t)?c.trackChildChange(Dw(t,d)):(0,P.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(i_(t,r)):c.trackChildChange(Sw(t,r,d))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild(Zn,(i,o)=>{t.hasChild(i)||r.trackChildChange(Dw(i,o))}),t.isLeafNode()||t.forEachChild(Zn,(i,o)=>{if(e.hasChild(i)){const c=e.getImmediateChild(i);c.equals(o)||r.trackChildChange(Sw(i,o,c))}else r.trackChildChange(i_(i,o))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?tn.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Aw{constructor(e){this.indexedFilter_=new Gk(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Aw.getStartPost_(e),this.endPost_=Aw.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&r}updateChild(e,t,r,i,o,c){return this.matches(new un(t,r))||(r=tn.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,o,c)}updateFullNode(e,t,r){t.isLeafNode()&&(t=tn.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(tn.EMPTY_NODE);const o=this;return t.forEachChild(Zn,(c,d)=>{o.matches(new un(c,d))||(i=i.updateImmediateChild(c,tn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class o3{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=t=>{const r=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Aw(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,r,i,o,c){return this.rangedFilter_.matches(new un(t,r))||(r=tn.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,o,c):this.fullLimitUpdateChild_(e,t,r,o,c)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=tn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let o;i=tn.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;o.hasNext()&&c<this.limit_;){const d=o.getNext();if(this.withinDirectionalStart(d)){if(!this.withinDirectionalEnd(d))break;i=i.updateImmediateChild(d.name,d.node),c++}}}else{let o;i=t.withIndex(this.index_),i=i.updatePriority(tn.EMPTY_NODE),o=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let c=0;for(;o.hasNext();){const d=o.getNext();c<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?c++:i=i.updateImmediateChild(d.name,tn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,o){let c;if(this.reverse_){const C=this.index_.getCompare();c=(S,M)=>C(M,S)}else c=this.index_.getCompare();const d=e;(0,P.hu)(d.numChildren()===this.limit_,"");const f=new un(t,r),_=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),I=this.rangedFilter_.matches(f);if(d.hasChild(t)){const C=d.getImmediateChild(t);let S=i.getChildAfterChild(this.index_,_,this.reverse_);for(;null!=S&&(S.name===t||d.hasChild(S.name));)S=i.getChildAfterChild(this.index_,S,this.reverse_);const M=null==S?1:c(S,f);if(I&&!r.isEmpty()&&M>=0)return o?.trackChildChange(Sw(t,r,C)),d.updateImmediateChild(t,r);{o?.trackChildChange(Dw(t,C));const Q=d.updateImmediateChild(t,tn.EMPTY_NODE);return null!=S&&this.rangedFilter_.matches(S)?(o?.trackChildChange(i_(S.name,S.node)),Q.updateImmediateChild(S.name,S.node)):Q}}return r.isEmpty()?e:I&&c(_,f)>=0?(null!=o&&(o.trackChildChange(Dw(_.name,_.node)),o.trackChildChange(i_(t,r))),d.updateImmediateChild(t,r).updateImmediateChild(_.name,tn.EMPTY_NODE)):e}}class UC{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Zn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,P.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,P.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Yl}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,P.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,P.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:lc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,P.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Zn}copy(){const e=new UC;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function zk(n,e,t){const r=n.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=t?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function Wk(n,e,t){const r=n.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==t?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function VC(n,e){const t=n.copy();return t.index_=e,t}function GF(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Zn?t="$priority":n.index_===Hk?t="$value":n.index_===Qa?t="$key":((0,P.hu)(n.index_ instanceof jk,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,P.Wl)(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=(0,P.Wl)(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+(0,P.Wl)(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=(0,P.Wl)(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+(0,P.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function zF(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Zn&&(e.i=n.index_.toString()),e}class BC extends RF{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=yw("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,P.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const c=BC.getListenId_(e,r),d={};this.listens_[c]=d;const f=GF(e._queryParams);this.restRequest_(o+".json",f,(_,I)=>{let C=I;if(404===_&&(C=null,_=null),null===_&&this.onDataUpdate_(o,C,!1,r),(0,P.DV)(this.listens_,c)===d){let S;S=_?401===_?"permission_denied":"rest_error:"+_:"ok",i(S,null)}})}unlisten(e,t){const r=BC.getListenId_(e,t);delete this.listens_[r]}get(e){const t=GF(e._queryParams),r=e._path.toString(),i=new P.BH;return this.restRequest_(r+".json",t,(o,c)=>{let d=c;404===o&&(d=null,o=null),null===o?(this.onDataUpdate_(r,d,!1,null),i.resolve(d)):i.reject(new Error(d))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,P.xO)(t);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(r&&4===d.readyState){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let f=null;if(d.status>=200&&d.status<300){try{f=(0,P.cI)(d.responseText)}catch{ji("Failed to parse JSON response for "+c+": "+d.responseText)}r(null,f)}else 401!==d.status&&404!==d.status&&ji("Got unsuccessful REST response for "+c+" Status: "+d.status),r(d.status);r=null}},d.open("GET",c,!0),d.send()})}}class h3{constructor(){this.rootNode_=tn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function $C(){return{value:null,children:new Map}}function s_(n,e,t){if(sn(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=rn(e);n.children.has(r)||n.children.set(r,$C()),s_(n.children.get(r),e=Hn(e),t)}}function qk(n,e){if(sn(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(Zn,(r,i)=>{s_(n,new kn(r),i)}),qk(n,e)}}if(n.children.size>0){const t=rn(e);return e=Hn(e),n.children.has(t)&&qk(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function Kk(n,e,t){null!==n.value?t(e,n.value):function f3(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{Kk(i,new kn(e.toString()+"/"+r),t)})}class p3{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&wi(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class _3{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new p3(e);const r=1e4+2e4*Math.random();ww(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;wi(e,(i,o)=>{o>0&&(0,P.r3)(this.statsToReport_,i)&&(t[i]=o,r=!0)}),r&&this.server_.reportStats(t),ww(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var so=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(so||(so={})),so))();function Qk(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class jC{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=so.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(sn(this.path)){if(null!=this.affectedTree.value)return(0,P.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new kn(e));return new jC(vn(),t,this.revert)}}return(0,P.hu)(rn(this.path)===e,"operationForChild called for unrelated child."),new jC(Hn(this.path),this.affectedTree,this.revert)}}class Rw{constructor(e,t){this.source=e,this.path=t,this.type=so.LISTEN_COMPLETE}operationForChild(e){return sn(this.path)?new Rw(this.source,vn()):new Rw(this.source,Hn(this.path))}}class Af{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=so.OVERWRITE}operationForChild(e){return sn(this.path)?new Af(this.source,vn(),this.snap.getImmediateChild(e)):new Af(this.source,Hn(this.path),this.snap)}}class o_{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=so.MERGE}operationForChild(e){if(sn(this.path)){const t=this.children.subtree(new kn(e));return t.isEmpty()?null:t.value?new Af(this.source,vn(),t.value):new o_(this.source,vn(),t)}return(0,P.hu)(rn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new o_(this.source,Hn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Jl{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(sn(e))return this.isFullyInitialized()&&!this.filtered_;const t=rn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class y3{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function xw(n,e,t,r,i,o){const c=r.filter(d=>d.type===t);c.sort((d,f)=>function I3(n,e,t){if(null==e.childName||null==t.childName)throw(0,P.g5)("Should only compare child_ events.");const r=new un(e.childName,e.snapshotNode),i=new un(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,d,f)),c.forEach(d=>{const f=function w3(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,d,o);i.forEach(_=>{_.respondsTo(d.type)&&e.push(_.createEvent(f,n.query_))})})}function HC(n,e){return{eventCache:n,serverCache:e}}function kw(n,e,t,r){return HC(new Jl(e,t,r),n.serverCache)}function qF(n,e,t,r){return HC(n.eventCache,new Jl(e,t,r))}function GC(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Rf(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Xk;class Yn{constructor(e,t=(()=>(Xk||(Xk=new fs(sW)),Xk))()){this.value=e,this.children=t}static fromObject(e){let t=new Yn(null);return wi(e,(r,i)=>{t=t.set(new kn(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:vn(),value:this.value};if(sn(e))return null;{const r=rn(e),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue(Hn(e),t);return null!=o?{path:yr(new kn(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(sn(e))return this;{const t=rn(e),r=this.children.get(t);return null!==r?r.subtree(Hn(e)):new Yn(null)}}set(e,t){if(sn(e))return new Yn(t,this.children);{const r=rn(e),o=(this.children.get(r)||new Yn(null)).set(Hn(e),t),c=this.children.insert(r,o);return new Yn(this.value,c)}}remove(e){if(sn(e))return this.children.isEmpty()?new Yn(null):new Yn(null,this.children);{const t=rn(e),r=this.children.get(t);if(r){const i=r.remove(Hn(e));let o;return o=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&o.isEmpty()?new Yn(null):new Yn(this.value,o)}return this}}get(e){if(sn(e))return this.value;{const t=rn(e),r=this.children.get(t);return r?r.get(Hn(e)):null}}setTree(e,t){if(sn(e))return t;{const r=rn(e),o=(this.children.get(r)||new Yn(null)).setTree(Hn(e),t);let c;return c=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new Yn(this.value,c)}}fold(e){return this.fold_(vn(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(yr(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,vn(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(sn(e))return null;{const o=rn(e),c=this.children.get(o);return c?c.findOnPath_(Hn(e),yr(t,o),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,vn(),t)}foreachOnPath_(e,t,r){if(sn(e))return this;{this.value&&r(t,this.value);const i=rn(e),o=this.children.get(i);return o?o.foreachOnPath_(Hn(e),yr(t,i),r):new Yn(null)}}foreach(e){this.foreach_(vn(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(yr(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class Vo{constructor(e){this.writeTree_=e}static empty(){return new Vo(new Yn(null))}}function Mw(n,e,t){if(sn(e))return new Vo(new Yn(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let o=r.value;const c=Xi(i,e);return o=o.updateChild(c,t),new Vo(n.writeTree_.set(i,o))}{const i=new Yn(t),o=n.writeTree_.setTree(e,i);return new Vo(o)}}}function Jk(n,e,t){let r=n;return wi(t,(i,o)=>{r=Mw(r,yr(e,i),o)}),r}function KF(n,e){if(sn(e))return Vo.empty();{const t=n.writeTree_.setTree(e,new Yn(null));return new Vo(t)}}function eM(n,e){return null!=xf(n,e)}function xf(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Xi(t.path,e)):null}function ZF(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Zn,(r,i)=>{e.push(new un(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new un(r,i.value))}),e}function ed(n,e){if(sn(e))return n;{const t=xf(n,e);return new Vo(null!=t?new Yn(t):n.writeTree_.subtree(e))}}function tM(n){return n.writeTree_.isEmpty()}function a_(n,e){return YF(vn(),n.writeTree_,e)}function YF(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{".priority"===i?((0,P.hu)(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):t=YF(yr(n,i),o,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(yr(n,".priority"),r)),t}}function zC(n,e){return tU(e,n)}function S3(n,e){if(n.snap)return io(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&io(yr(n.path,t),e))return!0;return!1}function R3(n){return n.visible}function QF(n,e,t){let r=Vo.empty();for(let i=0;i<n.length;++i){const o=n[i];if(e(o)){const c=o.path;let d;if(o.snap)io(t,c)?(d=Xi(t,c),r=Mw(r,d,o.snap)):io(c,t)&&(d=Xi(c,t),r=Mw(r,vn(),o.snap.getChild(d)));else{if(!o.children)throw(0,P.g5)("WriteRecord should have .snap or .children");if(io(t,c))d=Xi(t,c),r=Jk(r,d,o.children);else if(io(c,t))if(d=Xi(c,t),sn(d))r=Jk(r,vn(),o.children);else{const f=(0,P.DV)(o.children,rn(d));if(f){const _=f.getChild(Hn(d));r=Mw(r,vn(),_)}}}}}return r}function XF(n,e,t,r,i){if(r||i){const o=ed(n.visibleWrites,e);return!i&&tM(o)?t:i||null!=t||eM(o,vn())?a_(QF(n.allWrites,function(_){return(_.visible||i)&&(!r||!~r.indexOf(_.writeId))&&(io(_.path,e)||io(e,_.path))},e),t||tn.EMPTY_NODE):null}{const o=xf(n.visibleWrites,e);if(null!=o)return o;{const c=ed(n.visibleWrites,e);return tM(c)?t:null!=t||eM(c,vn())?a_(c,t||tn.EMPTY_NODE):null}}}function WC(n,e,t,r){return XF(n.writeTree,n.treePath,e,t,r)}function nM(n,e){return function x3(n,e,t){let r=tn.EMPTY_NODE;const i=xf(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Zn,(o,c)=>{r=r.updateImmediateChild(o,c)}),r;if(t){const o=ed(n.visibleWrites,e);return t.forEachChild(Zn,(c,d)=>{const f=a_(ed(o,new kn(c)),d);r=r.updateImmediateChild(c,f)}),ZF(o).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}return ZF(ed(n.visibleWrites,e)).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}(n.writeTree,n.treePath,e)}function JF(n,e,t,r){return function k3(n,e,t,r,i){(0,P.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=yr(e,t);if(eM(n.visibleWrites,o))return null;{const c=ed(n.visibleWrites,o);return tM(c)?i.getChild(t):a_(c,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function qC(n,e){return function N3(n,e){return xf(n.visibleWrites,e)}(n.writeTree,yr(n.treePath,e))}function rM(n,e,t){return function M3(n,e,t,r){const i=yr(e,t),o=xf(n.visibleWrites,i);return null!=o?o:r.isCompleteForChild(t)?a_(ed(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function eU(n,e){return tU(yr(n.treePath,e),n.writeTree)}function tU(n,e){return{treePath:n,writeTree:e}}class F3{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,P.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,P.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(r,Sw(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(r,Dw(r,i.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(r,i_(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw(0,P.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,Sw(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const nU=new class U3{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class iM{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Jl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return rM(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Rf(this.viewCache_),o=function L3(n,e,t,r,i,o){return function P3(n,e,t,r,i,o,c){let d;const f=ed(n.visibleWrites,e),_=xf(f,vn());if(null!=_)d=_;else{if(null==t)return[];d=a_(f,t)}if(d=d.withIndex(c),d.isEmpty()||d.isLeafNode())return[];{const I=[],C=c.getCompare(),S=o?d.getReverseIteratorFrom(r,c):d.getIteratorFrom(r,c);let M=S.getNext();for(;M&&I.length<i;)0!==C(M,r)&&I.push(M),M=S.getNext();return I}}(n.writeTree,n.treePath,e,t,r,i,o)}(this.writes_,i,t,1,r,e);return 0===o.length?null:o[0]}}function rU(n,e,t,r,i,o){const c=e.eventCache;if(null!=qC(r,t))return e;{let d,f;if(sn(t))if((0,P.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const _=Rf(e),C=nM(r,_ instanceof tn?_:tn.EMPTY_NODE);d=n.filter.updateFullNode(e.eventCache.getNode(),C,o)}else{const _=WC(r,Rf(e));d=n.filter.updateFullNode(e.eventCache.getNode(),_,o)}else{const _=rn(t);if(".priority"===_){(0,P.hu)(1===Xl(t),"Can't have a priority with additional path components");const I=c.getNode();f=e.serverCache.getNode();const C=JF(r,t,I,f);d=null!=C?n.filter.updatePriority(I,C):c.getNode()}else{const I=Hn(t);let C;if(c.isCompleteForChild(_)){f=e.serverCache.getNode();const S=JF(r,t,c.getNode(),f);C=null!=S?c.getNode().getImmediateChild(_).updateChild(I,S):c.getNode().getImmediateChild(_)}else C=rM(r,_,e.serverCache);d=null!=C?n.filter.updateChild(c.getNode(),_,C,I,i,o):c.getNode()}}return kw(e,d,c.isFullyInitialized()||sn(t),n.filter.filtersNodes())}}function KC(n,e,t,r,i,o,c,d){const f=e.serverCache;let _;const I=c?n.filter:n.filter.getIndexedFilter();if(sn(t))_=I.updateFullNode(f.getNode(),r,null);else if(I.filtersNodes()&&!f.isFiltered()){const M=f.getNode().updateChild(t,r);_=I.updateFullNode(f.getNode(),M,null)}else{const M=rn(t);if(!f.isCompleteForPath(t)&&Xl(t)>1)return e;const U=Hn(t),se=f.getNode().getImmediateChild(M).updateChild(U,r);_=".priority"===M?I.updatePriority(f.getNode(),se):I.updateChild(f.getNode(),M,se,U,nU,null)}const C=qF(e,_,f.isFullyInitialized()||sn(t),I.filtersNodes());return rU(n,C,t,i,new iM(i,C,o),d)}function sM(n,e,t,r,i,o,c){const d=e.eventCache;let f,_;const I=new iM(i,e,o);if(sn(t))_=n.filter.updateFullNode(e.eventCache.getNode(),r,c),f=kw(e,_,!0,n.filter.filtersNodes());else{const C=rn(t);if(".priority"===C)_=n.filter.updatePriority(e.eventCache.getNode(),r),f=kw(e,_,d.isFullyInitialized(),d.isFiltered());else{const S=Hn(t),M=d.getNode().getImmediateChild(C);let U;if(sn(S))U=r;else{const Q=I.getCompleteChild(C);U=null!=Q?".priority"===Lk(S)&&Q.getChild(NF(S)).isEmpty()?Q:Q.updateChild(S,r):tn.EMPTY_NODE}f=M.equals(U)?e:kw(e,n.filter.updateChild(d.getNode(),C,U,S,I,c),d.isFullyInitialized(),n.filter.filtersNodes())}}return f}function iU(n,e){return n.eventCache.isCompleteForChild(e)}function sU(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function oM(n,e,t,r,i,o,c,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let _,f=e;_=sn(t)?r:new Yn(null).setTree(t,r);const I=e.serverCache.getNode();return _.children.inorderTraversal((C,S)=>{if(I.hasChild(C)){const U=sU(0,e.serverCache.getNode().getImmediateChild(C),S);f=KC(n,f,new kn(C),U,i,o,c,d)}}),_.children.inorderTraversal((C,S)=>{const M=!e.serverCache.isCompleteForChild(C)&&null===S.value;if(!I.hasChild(C)&&!M){const Q=sU(0,e.serverCache.getNode().getImmediateChild(C),S);f=KC(n,f,new kn(C),Q,i,o,c,d)}}),f}class q3{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Gk(r.getIndex()),o=function a3(n){return n.loadsAllData()?new Gk(n.getIndex()):n.hasLimit()?new o3(n):new Aw(n)}(r);this.processor_=function V3(n){return{filter:n}}(o);const c=t.serverCache,d=t.eventCache,f=i.updateFullNode(tn.EMPTY_NODE,c.getNode(),null),_=o.updateFullNode(tn.EMPTY_NODE,d.getNode(),null),I=new Jl(f,c.isFullyInitialized(),i.filtersNodes()),C=new Jl(_,d.isFullyInitialized(),o.filtersNodes());this.viewCache_=HC(C,I),this.eventGenerator_=new y3(this.query_)}get query(){return this.query_}}function Y3(n,e){const t=Rf(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!sn(e)&&!t.getImmediateChild(rn(e)).isEmpty())?t.getChild(e):null}function oU(n){return 0===n.eventRegistrations_.length}function aU(n,e,t){const r=[];if(t){(0,P.hu)(null==e,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(o=>{const c=o.createCancelEvent(t,i);c&&r.push(c)})}if(e){let i=[];for(let o=0;o<n.eventRegistrations_.length;++o){const c=n.eventRegistrations_[o];if(c.matches(e)){if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(o+1));break}}else i.push(c)}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function uU(n,e,t,r){e.type===so.MERGE&&null!==e.source.queryId&&((0,P.hu)(Rf(n.viewCache_),"We should always have a full cache before handling merges"),(0,P.hu)(GC(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,o=function $3(n,e,t,r,i){const o=new F3;let c,d;if(t.type===so.OVERWRITE){const _=t;_.source.fromUser?c=sM(n,e,_.path,_.snap,r,i,o):((0,P.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||e.serverCache.isFiltered()&&!sn(_.path),c=KC(n,e,_.path,_.snap,r,i,d,o))}else if(t.type===so.MERGE){const _=t;_.source.fromUser?c=function H3(n,e,t,r,i,o,c){let d=e;return r.foreach((f,_)=>{const I=yr(t,f);iU(e,rn(I))&&(d=sM(n,d,I,_,i,o,c))}),r.foreach((f,_)=>{const I=yr(t,f);iU(e,rn(I))||(d=sM(n,d,I,_,i,o,c))}),d}(n,e,_.path,_.children,r,i,o):((0,P.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||e.serverCache.isFiltered(),c=oM(n,e,_.path,_.children,r,i,d,o))}else if(t.type===so.ACK_USER_WRITE){const _=t;c=_.revert?function W3(n,e,t,r,i,o){let c;if(null!=qC(r,t))return e;{const d=new iM(r,e,i),f=e.eventCache.getNode();let _;if(sn(t)||".priority"===rn(t)){let I;if(e.serverCache.isFullyInitialized())I=WC(r,Rf(e));else{const C=e.serverCache.getNode();(0,P.hu)(C instanceof tn,"serverChildren would be complete if leaf node"),I=nM(r,C)}_=n.filter.updateFullNode(f,I,o)}else{const I=rn(t);let C=rM(r,I,e.serverCache);null==C&&e.serverCache.isCompleteForChild(I)&&(C=f.getImmediateChild(I)),_=null!=C?n.filter.updateChild(f,I,C,Hn(t),d,o):e.eventCache.getNode().hasChild(I)?n.filter.updateChild(f,I,tn.EMPTY_NODE,Hn(t),d,o):f,_.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=WC(r,Rf(e)),c.isLeafNode()&&(_=n.filter.updateFullNode(_,c,o)))}return c=e.serverCache.isFullyInitialized()||null!=qC(r,vn()),kw(e,_,c,n.filter.filtersNodes())}}(n,e,_.path,r,i,o):function G3(n,e,t,r,i,o,c){if(null!=qC(i,t))return e;const d=e.serverCache.isFiltered(),f=e.serverCache;if(null!=r.value){if(sn(t)&&f.isFullyInitialized()||f.isCompleteForPath(t))return KC(n,e,t,f.getNode().getChild(t),i,o,d,c);if(sn(t)){let _=new Yn(null);return f.getNode().forEachChild(Qa,(I,C)=>{_=_.set(new kn(I),C)}),oM(n,e,t,_,i,o,d,c)}return e}{let _=new Yn(null);return r.foreach((I,C)=>{const S=yr(t,I);f.isCompleteForPath(S)&&(_=_.set(I,f.getNode().getChild(S)))}),oM(n,e,t,_,i,o,d,c)}}(n,e,_.path,_.affectedTree,r,i,o)}else{if(t.type!==so.LISTEN_COMPLETE)throw(0,P.g5)("Unknown operation type: "+t.type);c=function z3(n,e,t,r,i){const o=e.serverCache;return rU(n,qF(e,o.getNode(),o.isFullyInitialized()||sn(t),o.isFiltered()),t,r,nU,i)}(n,e,t.path,r,o)}const f=o.getChanges();return function j3(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=GC(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&t.push(HF(GC(e)))}}(e,c,f),{viewCache:c,changes:f}}(n.processor_,i,e,t,r);return function B3(n,e){(0,P.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,P.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,P.hu)(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,cU(n,o.changes,o.viewCache.eventCache.getNode(),null)}function cU(n,e,t,r){return function v3(n,e,t,r){const i=[],o=[];return e.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(function s3(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(c.childName,c.snapshotNode))}),xw(n,i,"child_removed",e,r,t),xw(n,i,"child_added",e,r,t),xw(n,i,"child_moved",o,r,t),xw(n,i,"child_changed",e,r,t),xw(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}let ZC,QC;class lU{constructor(){this.views=new Map}}function aM(n,e,t,r){const i=e.source.queryId;if(null!==i){const o=n.views.get(i);return(0,P.hu)(null!=o,"SyncTree gave us an op for an invalid query."),uU(o,e,t,r)}{let o=[];for(const c of n.views.values())o=o.concat(uU(c,e,t,r));return o}}function dU(n,e,t,r,i){const c=n.views.get(e._queryIdentifier);if(!c){let d=WC(t,i?r:null),f=!1;d?f=!0:r instanceof tn?(d=nM(t,r),f=!1):(d=tn.EMPTY_NODE,f=!1);const _=HC(new Jl(d,f,!1),new Jl(r,i,!1));return new q3(e,_)}return c}function hU(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function td(n,e){let t=null;for(const r of n.views.values())t=t||Y3(r,e);return t}function fU(n,e){return e._queryParams.loadsAllData()?YC(n):n.views.get(e._queryIdentifier)}function pU(n,e){return null!=fU(n,e)}function nd(n){return null!=YC(n)}function YC(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let oq=1;class gU{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Yn(null),this.pendingWriteTree_=function O3(){return{visibleWrites:Vo.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function uM(n,e,t,r,i){return function T3(n,e,t,r,i){(0,P.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Mw(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?u_(n,new Af({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function rd(n,e,t=!1){const r=function C3(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function D3(n,e){const t=n.allWrites.findIndex(d=>d.writeId===e);(0,P.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,o=!1,c=n.allWrites.length-1;for(;i&&c>=0;){const d=n.allWrites[c];d.visible&&(c>=t&&S3(d,r.path)?i=!1:io(r.path,d.path)&&(o=!0)),c--}return!!i&&(o?(function A3(n){n.visibleWrites=QF(n.allWrites,R3,vn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=KF(n.visibleWrites,r.path):wi(r.children,f=>{n.visibleWrites=KF(n.visibleWrites,yr(r.path,f))}),!0))}(n.pendingWriteTree_,e)){let o=new Yn(null);return null!=r.snap?o=o.set(vn(),!0):wi(r.children,c=>{o=o.set(new kn(c),!0)}),u_(n,new jC(r.path,o,t))}return[]}function Nw(n,e,t){return u_(n,new Af({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function XC(n,e,t,r,i=!1){const o=e._path,c=n.syncPointTree_.get(o);let d=[];if(c&&("default"===e._queryIdentifier||pU(c,e))){const f=function rq(n,e,t,r){const i=e._queryIdentifier,o=[];let c=[];const d=nd(n);if("default"===i)for(const[f,_]of n.views.entries())c=c.concat(aU(_,t,r)),oU(_)&&(n.views.delete(f),_.query._queryParams.loadsAllData()||o.push(_.query));else{const f=n.views.get(i);f&&(c=c.concat(aU(f,t,r)),oU(f)&&(n.views.delete(i),f.query._queryParams.loadsAllData()||o.push(f.query)))}return d&&!nd(n)&&o.push(new(function eq(){return(0,P.hu)(ZC,"Reference.ts has not been loaded"),ZC}())(e._repo,e._path)),{removed:o,events:c}}(c,e,t,r);(function tq(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const _=f.removed;if(d=f.events,!i){const I=-1!==_.findIndex(S=>S._queryParams.loadsAllData()),C=n.syncPointTree_.findOnPath(o,(S,M)=>nd(M));if(I&&!C){const S=n.syncPointTree_.subtree(o);if(!S.isEmpty()){const M=function fq(n){return n.fold((e,t,r)=>{if(t&&nd(t))return[YC(t)];{let i=[];return t&&(i=hU(t)),wi(r,(o,c)=>{i=i.concat(c)}),i}})}(S);for(let U=0;U<M.length;++U){const Q=M[U],se=Q.query,Oe=vU(n,Q);n.listenProvider_.startListening(Ow(se),Pw(n,se),Oe.hashFn,Oe.onComplete)}}}!C&&_.length>0&&!r&&(I?n.listenProvider_.stopListening(Ow(e),null):_.forEach(S=>{const M=n.queryToTagMap.get(eD(S));n.listenProvider_.stopListening(Ow(S),M)}))}!function pq(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const i=eD(r),o=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(o)}}}(n,_)}return d}function mU(n,e,t,r){const i=lM(n,r);if(null!=i){const o=dM(i),c=o.path,d=o.queryId,f=Xi(c,e);return hM(n,c,new Af(Qk(d),f,t))}return[]}function cM(n,e,t,r=!1){const i=e._path;let o=null,c=!1;n.syncPointTree_.foreachOnPath(i,(S,M)=>{const U=Xi(S,i);o=o||td(M,U),c=c||nd(M)});let f,d=n.syncPointTree_.get(i);d?(c=c||nd(d),o=o||td(d,vn())):(d=new lU,n.syncPointTree_=n.syncPointTree_.set(i,d)),null!=o?f=!0:(f=!1,o=tn.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((M,U)=>{const Q=td(U,vn());Q&&(o=o.updateImmediateChild(M,Q))}));const _=pU(d,e);if(!_&&!e._queryParams.loadsAllData()){const S=eD(e);(0,P.hu)(!n.queryToTagMap.has(S),"View does not exist, but we have a tag");const M=function gq(){return oq++}();n.queryToTagMap.set(S,M),n.tagToQueryMap.set(M,S)}let C=function nq(n,e,t,r,i,o){const c=dU(n,e,r,i,o);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),function Q3(n,e){n.eventRegistrations_.push(e)}(c,t),function X3(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Zn,(o,c)=>{r.push(i_(o,c))}),t.isFullyInitialized()&&r.push(HF(t.getNode())),cU(n,r,t.getNode(),e)}(c,t)}(d,e,t,zC(n.pendingWriteTree_,i),o,f);if(!_&&!c&&!r){const S=fU(d,e);C=C.concat(function mq(n,e,t){const r=e._path,i=Pw(n,e),o=vU(n,t),c=n.listenProvider_.startListening(Ow(e),i,o.hashFn,o.onComplete),d=n.syncPointTree_.subtree(r);if(i)(0,P.hu)(!nd(d.value),"If we're adding a query, it shouldn't be shadowed");else{const f=d.fold((_,I,C)=>{if(!sn(_)&&I&&nd(I))return[YC(I).query];{let S=[];return I&&(S=S.concat(hU(I).map(M=>M.query))),wi(C,(M,U)=>{S=S.concat(U)}),S}});for(let _=0;_<f.length;++_){const I=f[_];n.listenProvider_.stopListening(Ow(I),Pw(n,I))}}return c}(n,e,S))}return C}function JC(n,e,t){const i=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(c,d)=>{const _=td(d,Xi(c,e));if(_)return _});return XF(i,e,o,t,!0)}function u_(n,e){return _U(e,n.syncPointTree_,null,zC(n.pendingWriteTree_,vn()))}function _U(n,e,t,r){if(sn(n.path))return yU(n,e,t,r);{const i=e.get(vn());null==t&&null!=i&&(t=td(i,vn()));let o=[];const c=rn(n.path),d=n.operationForChild(c),f=e.children.get(c);if(f&&d){const _=t?t.getImmediateChild(c):null,I=eU(r,c);o=o.concat(_U(d,f,_,I))}return i&&(o=o.concat(aM(i,n,r,t))),o}}function yU(n,e,t,r){const i=e.get(vn());null==t&&null!=i&&(t=td(i,vn()));let o=[];return e.children.inorderTraversal((c,d)=>{const f=t?t.getImmediateChild(c):null,_=eU(r,c),I=n.operationForChild(c);I&&(o=o.concat(yU(I,d,f,_)))}),i&&(o=o.concat(aM(i,n,r,t))),o}function vU(n,e){const t=e.query,r=Pw(n,t);return{hashFn:()=>(function K3(n){return n.viewCache_.serverCache.getNode()}(e)||tn.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function lq(n,e,t){const r=lM(n,t);if(r){const i=dM(r),o=i.path,c=i.queryId,d=Xi(o,e);return hM(n,o,new Rw(Qk(c),d))}return[]}(n,t._path,r):function cq(n,e){return u_(n,new Rw({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const o=function uW(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}(i,t);return XC(n,t,null,o)}}}}function Pw(n,e){const t=eD(e);return n.queryToTagMap.get(t)}function eD(n){return n._path.toString()+"$"+n._queryIdentifier}function lM(n,e){return n.tagToQueryMap.get(e)}function dM(n){const e=n.indexOf("$");return(0,P.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new kn(n.substr(0,e))}}function hM(n,e,t){const r=n.syncPointTree_.get(e);return(0,P.hu)(r,"Missing sync point for query tag that we're tracking"),aM(r,t,zC(n.pendingWriteTree_,e),null)}function Ow(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function sq(){return(0,P.hu)(QC,"Reference.ts has not been loaded"),QC}())(n._repo,n._path):n}class fM{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new fM(t)}node(){return this.node_}}class pM{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=yr(this.path_,e);return new pM(this.syncTree_,t)}node(){return JC(this.syncTree_,this.path_)}}const _q=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},wU=function(n,e,t){return n&&"object"==typeof n?((0,P.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?yq(n[".sv"],e,t):"object"==typeof n[".sv"]?vq(n[".sv"],e):void(0,P.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},yq=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,P.hu)(!1,"Unexpected server value: "+n)},vq=function(n,e,t){n.hasOwnProperty("increment")||(0,P.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,P.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,P.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const c=i.getValue();return"number"!=typeof c?r:c+r},IU=function(n,e,t,r){return mM(e,new pM(t,n),r)},gM=function(n,e,t){return mM(n,new fM(e),t)};function mM(n,e,t){const r=n.getPriority().val(),i=wU(r,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const c=n,d=wU(c.getValue(),e,t);return d!==c.getValue()||i!==c.getPriority().val()?new n_(d,Cr(i)):n}{const c=n;return o=c,i!==c.getPriority().val()&&(o=o.updatePriority(new n_(i))),c.forEachChild(Zn,(d,f)=>{const _=mM(f,e.getImmediateChild(d),t);_!==f&&(o=o.updateImmediateChild(d,_))}),o}}class _M{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function tD(n,e){let t=e instanceof kn?e:new kn(e),r=n,i=rn(t);for(;null!==i;){const o=(0,P.DV)(r.node.children,i)||{children:{},childCount:0};r=new _M(i,r,o),t=Hn(t),i=rn(t)}return r}function kf(n){return n.node.value}function yM(n,e){n.node.value=e,vM(n)}function EU(n){return n.node.childCount>0}function nD(n,e){wi(n.node.children,(t,r)=>{e(new _M(t,n,r))})}function TU(n,e,t,r){t&&!r&&e(n),nD(n,i=>{TU(i,e,!0,r)}),t&&r&&e(n)}function Lw(n){return new kn(null===n.parent?n.name:Lw(n.parent)+"/"+n.name)}function vM(n){null!==n.parent&&function Eq(n,e,t){const r=function wq(n){return void 0===kf(n)&&!EU(n)}(t),i=(0,P.r3)(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,vM(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,vM(n))}(n.parent,n.name,n)}const Tq=/[\[\].#$\/\u0000-\u001F\u007F]/,bq=/[\[\].#$\u0000-\u001F\u007F]/,wM=10485760,rD=function(n){return"string"==typeof n&&0!==n.length&&!Tq.test(n)},bU=function(n){return"string"==typeof n&&0!==n.length&&!bq.test(n)},Fw=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!xC(n)||n&&"object"==typeof n&&(0,P.r3)(n,".sv")},Xa=function(n,e,t,r){r&&void 0===e||Uw((0,P.gK)(n,"value"),e,t)},Uw=function(n,e,t){const r=t instanceof kn?new $W(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Df(r));if("function"==typeof e)throw new Error(n+"contains a function "+Df(r)+" with contents = "+e.toString());if(xC(e))throw new Error(n+"contains "+e.toString()+" "+Df(r));if("string"==typeof e&&e.length>wM/3&&(0,P.ug)(e)>wM)throw new Error(n+"contains a string greater than "+wM+" utf8 bytes "+Df(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,o=!1;if(wi(e,(c,d)=>{if(".value"===c)i=!0;else if(".priority"!==c&&".sv"!==c&&(o=!0,!rD(c)))throw new Error(n+" contains an invalid key ("+c+") "+Df(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function jW(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,P.ug)(e),PF(n)})(r,c),Uw(n,d,r),function HW(n){const e=n.parts_.pop();n.byteLength_-=(0,P.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&o)throw new Error(n+' contains ".value" child '+Df(r)+" in addition to actual children.")}},CU=function(n,e,t,r){if(r&&void 0===e)return;const i=(0,P.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const o=[];wi(e,(c,d)=>{const f=new kn(c);if(Uw(i,d,yr(t,f)),".priority"===Lk(f)&&!Fw(d))throw new Error(i+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(f)}),function(n,e){let t,r;for(t=0;t<e.length;t++){r=e[t];const o=Ew(r);for(let c=0;c<o.length;c++)if((".priority"!==o[c]||c!==o.length-1)&&!rD(o[c]))throw new Error(n+"contains an invalid key ("+o[c]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(BW);let i=null;for(t=0;t<e.length;t++){if(r=e[t],null!==i&&io(i,r))throw new Error(n+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},IM=function(n,e,t){if(!t||void 0!==e){if(xC(e))throw new Error((0,P.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Fw(e))throw new Error((0,P.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Vw=function(n,e,t,r){if(!(r&&void 0===t||rD(t)))throw new Error((0,P.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Bw=function(n,e,t,r){if(!(r&&void 0===t||bU(t)))throw new Error((0,P.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Sq=function(n,e,t,r){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Bw(n,e,t,r)},oo=function(n,e){if(".info"===rn(e))throw new Error(n+" failed = Can't modify data under /.info/")},DU=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!rD(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),bU(n)}(t))throw new Error((0,P.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Aq{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function iD(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();null!==t&&!Fk(o,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:o}),t.events.push(i)}t&&n.eventLists_.push(t)}function SU(n,e,t){iD(n,t),AU(n,r=>Fk(r,e))}function Ps(n,e,t){iD(n,t),AU(n,r=>io(r,e)||io(e,r))}function AU(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(Rq(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function Rq(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();bf&&vi("event: "+t.toString()),e_(r)}}}const RU="repo_interrupt",xq=25;class kq{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Aq,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=$C(),this.transactionQueueTree_=new _M,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function xU(n){const t=n.infoData_.getNode(new kn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function $w(n){return _q({timestamp:xU(n)})}function kU(n,e,t,r,i){n.dataUpdateCount++;const o=new kn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let c=[];if(i)if(r){const f=(0,P.UI)(t,_=>Cr(_));c=function dq(n,e,t,r){const i=lM(n,r);if(i){const o=dM(i),c=o.path,d=o.queryId,f=Xi(c,e),_=Yn.fromObject(t);return hM(n,c,new o_(Qk(d),f,_))}return[]}(n.serverSyncTree_,o,f,i)}else{const f=Cr(t);c=mU(n.serverSyncTree_,o,f,i)}else if(r){const f=(0,P.UI)(t,_=>Cr(_));c=function uq(n,e,t){const r=Yn.fromObject(t);return u_(n,new o_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,o,f)}else{const f=Cr(t);c=Nw(n.serverSyncTree_,o,f)}let d=o;c.length>0&&(d=l_(n,o)),Ps(n.eventQueue_,d,c)}function MU(n,e){EM(n,"connected",e),!1===e&&function Lq(n){c_(n,"onDisconnectEvents");const e=$w(n),t=$C();Kk(n.onDisconnect_,vn(),(i,o)=>{const c=IU(i,o,n.serverSyncTree_,e);s_(t,i,c)});let r=[];Kk(t,vn(),(i,o)=>{r=r.concat(Nw(n.serverSyncTree_,i,o));const c=DM(n,i);l_(n,c)}),n.onDisconnect_=$C(),Ps(n.eventQueue_,vn(),r)}(n)}function EM(n,e,t){const r=new kn("/.info/"+e),i=Cr(t);n.infoData_.updateSnapshot(r,i);const o=Nw(n.infoSyncTree_,r,i);Ps(n.eventQueue_,r,o)}function sD(n){return n.nextWriteId_++}function TM(n,e,t,r,i){c_(n,"set",{path:e.toString(),value:t,priority:r});const o=$w(n),c=Cr(t,r),d=JC(n.serverSyncTree_,e),f=gM(c,d,o),_=sD(n),I=uM(n.serverSyncTree_,e,f,_,!0);iD(n.eventQueue_,I),n.server_.put(e.toString(),c.val(!0),(S,M)=>{const U="ok"===S;U||ji("set at "+e+" failed: "+S);const Q=rd(n.serverSyncTree_,_,!U);Ps(n.eventQueue_,e,Q),id(0,i,S,M)});const C=DM(n,e);l_(n,C),Ps(n.eventQueue_,C,[])}function Fq(n,e,t){n.server_.onDisconnectCancel(e.toString(),(r,i)=>{"ok"===r&&qk(n.onDisconnect_,e),id(0,t,r,i)})}function NU(n,e,t,r){const i=Cr(t);n.server_.onDisconnectPut(e.toString(),i.val(!0),(o,c)=>{"ok"===o&&s_(n.onDisconnect_,e,i),id(0,r,o,c)})}function bM(n,e,t){let r;r=".info"===rn(e._path)?XC(n.infoSyncTree_,e,t):XC(n.serverSyncTree_,e,t),SU(n.eventQueue_,e._path,r)}function PU(n){n.persistentConnection_&&n.persistentConnection_.interrupt(RU)}function c_(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),vi(t,...e)}function id(n,e,t,r){e&&e_(()=>{if("ok"===t)e(null);else{const i=(t||"error").toUpperCase();let o=i;r&&(o+=": "+r);const c=new Error(o);c.code=i,e(c)}})}function CM(n,e,t){return JC(n.serverSyncTree_,e,t)||tn.EMPTY_NODE}function oD(n,e=n.transactionQueueTree_){if(e||aD(n,e),kf(e)){const t=LU(n,e);(0,P.hu)(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function Hq(n,e,t){const r=t.map(_=>_.currentWriteId),i=CM(n,e,r);let o=i;const c=i.hash();for(let _=0;_<t.length;_++){const I=t[_];(0,P.hu)(0===I.status,"tryToSendTransactionQueue_: items in queue should all be run."),I.status=1,I.retryCount++;const C=Xi(e,I.path);o=o.updateChild(C,I.currentOutputSnapshotRaw)}const d=o.val(!0),f=e;n.server_.put(f.toString(),d,_=>{c_(n,"transaction put response",{path:f.toString(),status:_});let I=[];if("ok"===_){const C=[];for(let S=0;S<t.length;S++)t[S].status=2,I=I.concat(rd(n.serverSyncTree_,t[S].currentWriteId)),t[S].onComplete&&C.push(()=>t[S].onComplete(null,!0,t[S].currentOutputSnapshotResolved)),t[S].unwatcher();aD(n,tD(n.transactionQueueTree_,e)),oD(n,n.transactionQueueTree_),Ps(n.eventQueue_,e,I);for(let S=0;S<C.length;S++)e_(C[S])}else{if("datastale"===_)for(let C=0;C<t.length;C++)t[C].status=3===t[C].status?4:0;else{ji("transaction at "+f.toString()+" failed: "+_);for(let C=0;C<t.length;C++)t[C].status=4,t[C].abortReason=_}l_(n,e)}},c)}(n,Lw(e),t)}else EU(e)&&nD(e,t=>{oD(n,t)})}function l_(n,e){const t=OU(n,e),r=Lw(t);return function Gq(n,e,t){if(0===e.length)return;const r=[];let i=[];const c=e.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const f=e[d],_=Xi(t,f.path);let C,I=!1;if((0,P.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===f.status)I=!0,C=f.abortReason,i=i.concat(rd(n.serverSyncTree_,f.currentWriteId,!0));else if(0===f.status)if(f.retryCount>=xq)I=!0,C="maxretry",i=i.concat(rd(n.serverSyncTree_,f.currentWriteId,!0));else{const S=CM(n,f.path,c);f.currentInputSnapshot=S;const M=e[d].update(S.val());if(void 0!==M){Uw("transaction failed: Data returned ",M,f.path);let U=Cr(M);"object"==typeof M&&null!=M&&(0,P.r3)(M,".priority")||(U=U.updatePriority(S.getPriority()));const se=f.currentWriteId,Oe=$w(n),Re=gM(U,S,Oe);f.currentOutputSnapshotRaw=U,f.currentOutputSnapshotResolved=Re,f.currentWriteId=sD(n),c.splice(c.indexOf(se),1),i=i.concat(uM(n.serverSyncTree_,f.path,Re,f.currentWriteId,f.applyLocally)),i=i.concat(rd(n.serverSyncTree_,se,!0))}else I=!0,C="nodata",i=i.concat(rd(n.serverSyncTree_,f.currentWriteId,!0))}Ps(n.eventQueue_,t,i),i=[],I&&(e[d].status=2,setTimeout(e[d].unwatcher,Math.floor(0)),e[d].onComplete&&r.push("nodata"===C?()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot):()=>e[d].onComplete(new Error(C),!1,null)))}aD(n,n.transactionQueueTree_);for(let d=0;d<r.length;d++)e_(r[d]);oD(n,n.transactionQueueTree_)}(n,LU(n,t),r),r}function OU(n,e){let t,r=n.transactionQueueTree_;for(t=rn(e);null!==t&&void 0===kf(r);)r=tD(r,t),t=rn(e=Hn(e));return r}function LU(n,e){const t=[];return FU(n,e,t),t.sort((r,i)=>r.order-i.order),t}function FU(n,e,t){const r=kf(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);nD(e,i=>{FU(n,i,t)})}function aD(n,e){const t=kf(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,yM(e,t.length>0?t:void 0)}nD(e,r=>{aD(n,r)})}function DM(n,e){const t=Lw(OU(n,e)),r=tD(n.transactionQueueTree_,e);return function Iq(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{SM(n,i)}),SM(n,r),TU(r,i=>{SM(n,i)}),t}function SM(n,e){const t=kf(e);if(t){const r=[];let i=[],o=-1;for(let c=0;c<t.length;c++)3===t[c].status||(1===t[c].status?((0,P.hu)(o===c-1,"All SENT items should be at beginning of queue."),o=c,t[c].status=3,t[c].abortReason="set"):((0,P.hu)(0===t[c].status,"Unexpected transaction status in abort"),t[c].unwatcher(),i=i.concat(rd(n.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&r.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));-1===o?yM(e,void 0):t.length=o+1,Ps(n.eventQueue_,Lw(e),i);for(let c=0;c<r.length;c++)e_(r[c])}}const AM=function(n,e){const t=qq(n),r=t.namespace;return"firebase.com"===t.domain&&Ya(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&Ya("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ji("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new xk(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new kn(t.pathString)}},qq=function(n){let e="",t="",r="",i="",o="",c=!0,d="https",f=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(d=n.substring(0,_-1),n=n.substring(_+2));let I=n.indexOf("/");-1===I&&(I=n.length);let C=n.indexOf("?");-1===C&&(C=n.length),e=n.substring(0,Math.min(I,C)),I<C&&(i=function zq(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(I,C)));const S=function Wq(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ji(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,C)));_=e.indexOf(":"),_>=0?(c="https"===d||"wss"===d,f=parseInt(e.substring(_+1),10)):_=e.length;const M=e.slice(0,_);if("localhost"===M.toLowerCase())t="localhost";else if(M.split(".").length<=2)t=M;else{const U=e.indexOf(".");r=e.substring(0,U).toLowerCase(),t=e.substring(U+1),o=r}"ns"in S&&(o=S.ns)}return{host:e,port:f,domain:t,subdomain:r,secure:c,scheme:d,pathString:i,namespace:o}},UU="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Kq=function(){let n=0;const e=[];return function(t){const r=t===n;let i;n=t;const o=new Array(8);for(i=7;i>=0;i--)o[i]=UU.charAt(t%64),t=Math.floor(t/64);(0,P.hu)(0===t,"Cannot push at time == 0");let c=o.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)c+=UU.charAt(e[i]);return(0,P.hu)(20===c.length,"nextPushId: Length should be 20."),c}}();class VU{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,P.Wl)(this.snapshot.exportVal())}}class BU{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class RM{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,P.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class $U{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new P.BH;return Fq(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){oo("OnDisconnect.remove",this._path);const e=new P.BH;return NU(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){oo("OnDisconnect.set",this._path),Xa("OnDisconnect.set",e,this._path,!1);const t=new P.BH;return NU(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){oo("OnDisconnect.setWithPriority",this._path),Xa("OnDisconnect.setWithPriority",e,this._path,!1),IM("OnDisconnect.setWithPriority",t,!1);const r=new P.BH;return function Uq(n,e,t,r,i){const o=Cr(t,r);n.server_.onDisconnectPut(e.toString(),o.val(!0),(c,d)=>{"ok"===c&&s_(n.onDisconnect_,e,o),id(0,i,c,d)})}(this._repo,this._path,e,t,r.wrapCallback(()=>{})),r.promise}update(e){oo("OnDisconnect.update",this._path),CU("OnDisconnect.update",e,this._path,!1);const t=new P.BH;return function Vq(n,e,t,r){if((0,P.xb)(t))return vi("onDisconnect().update() called with empty data.  Don't do anything."),void id(0,r,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(i,o)=>{"ok"===i&&wi(t,(c,d)=>{const f=Cr(d);s_(n.onDisconnect_,yr(e,c),f)}),id(0,r,i,o)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class ps{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return sn(this._path)?null:Lk(this._path)}get ref(){return new ao(this._repo,this._path)}get _queryIdentifier(){const e=zF(this._queryParams),t=Ak(e);return"{}"===t?"default":t}get _queryObject(){return zF(this._queryParams)}isEqual(e){if(!((e=(0,P.m9)(e))instanceof ps))return!1;const t=this._repo===e._repo,r=Fk(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function VW(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function uD(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function sd(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===Qa){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Yl)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(n.hasEnd()){if(n.getIndexEndName()!==lc)throw new Error(r);if("string"!=typeof t)throw new Error(i)}}else if(n.getIndex()===Zn){if(null!=e&&!Fw(e)||null!=t&&!Fw(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,P.hu)(n.getIndex()instanceof jk||n.getIndex()===Hk,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function cD(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ao extends ps{constructor(e,t){super(e,t,new UC,!1)}get parent(){const e=NF(this._path);return null===e?null:new ao(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Mf{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new kn(e),r=Nf(this.ref,e);return new Mf(this._node.getChild(t),r,Zn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new Mf(i,Nf(this.ref,r),Zn)))}hasChild(e){const t=new kn(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function jU(n,e){return(n=(0,P.m9)(n))._checkNotDeleted("ref"),void 0!==e?Nf(n._root,e):n._root}function HU(n,e){(n=(0,P.m9)(n))._checkNotDeleted("refFromURL");const t=AM(e,n._repo.repoInfo_.nodeAdmin);DU("refFromURL",t);const r=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&Ya("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),jU(n,t.path.toString())}function Nf(n,e){return null===rn((n=(0,P.m9)(n))._path)?Sq("child","path",e,!1):Bw("child","path",e,!1),new ao(n._repo,yr(n._path,e))}function xM(n,e){n=(0,P.m9)(n),oo("set",n._path),Xa("set",e,n._path,!1);const t=new P.BH;return TM(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function Jq(n,e){CU("update",e,n._path,!1);const t=new P.BH;return function Oq(n,e,t,r){c_(n,"update",{path:e.toString(),value:t});let i=!0;const o=$w(n),c={};if(wi(t,(d,f)=>{i=!1,c[d]=IU(yr(e,d),Cr(f),n.serverSyncTree_,o)}),i)vi("update() called with empty data.  Don't do anything."),id(0,r,"ok",void 0);else{const d=sD(n),f=function aq(n,e,t,r){!function b3(n,e,t,r){(0,P.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=Jk(n.visibleWrites,e,t),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r);const i=Yn.fromObject(t);return u_(n,new o_({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,e,c,d);iD(n.eventQueue_,f),n.server_.merge(e.toString(),t,(_,I)=>{const C="ok"===_;C||ji("update at "+e+" failed: "+_);const S=rd(n.serverSyncTree_,d,!C),M=S.length>0?l_(n,e):e;Ps(n.eventQueue_,M,S),id(0,r,_,I)}),wi(t,_=>{const I=DM(n,yr(e,_));l_(n,I)}),Ps(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function eK(n){n=(0,P.m9)(n);const e=new RM(()=>{}),t=new jw(e);return function Pq(n,e,t){const r=function hq(n,e){const t=e._path;let r=null;n.syncPointTree_.foreachOnPath(t,(_,I)=>{const C=Xi(_,t);r=r||td(I,C)});let i=n.syncPointTree_.get(t);i?r=r||td(i,vn()):(i=new lU,n.syncPointTree_=n.syncPointTree_.set(t,i));const o=null!=r,c=o?new Jl(r,!0,!1):null;return function Z3(n){return GC(n.viewCache_)}(dU(i,e,zC(n.pendingWriteTree_,e._path),o?c.getNode():tn.EMPTY_NODE,o))}(n.serverSyncTree_,e);return null!=r?Promise.resolve(r):n.server_.get(e).then(i=>{const o=Cr(i).withIndex(e._queryParams.getIndex());let c;if(cM(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())c=Nw(n.serverSyncTree_,e._path,o);else{const d=Pw(n.serverSyncTree_,e);c=mU(n.serverSyncTree_,e._path,o,d)}return Ps(n.eventQueue_,e._path,c),XC(n.serverSyncTree_,e,t,null,!0),o},i=>(c_(n,"get for query "+(0,P.Wl)(e)+" failed: "+i),Promise.reject(new Error(i))))}(n._repo,n,t).then(r=>new Mf(r,new ao(n._repo,n._path),n._queryParams.getIndex()))}class jw{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const r=t._queryParams.getIndex();return new VU("value",this,new Mf(e.snapshotNode,new ao(t._repo,t._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new BU(this,e,t):null}matches(e){return e instanceof jw&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class lD{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new BU(this,e,t):null}createEvent(e,t){(0,P.hu)(null!=e.childName,"Child events should have a childName.");const r=Nf(new ao(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new VU(e.type,this,new Mf(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof lD&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Hw(n,e,t,r,i){let o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){const f=t,_=(I,C)=>{bM(n._repo,n,d),f(I,C)};_.userCallback=t.userCallback,_.context=t.context,t=_}const c=new RM(t,o||void 0),d="value"===e?new jw(c):new lD(e,c);return function Bq(n,e,t){let r;r=".info"===rn(e._path)?cM(n.infoSyncTree_,e,t):cM(n.serverSyncTree_,e,t),SU(n.eventQueue_,e._path,r)}(n._repo,n,d),()=>bM(n._repo,n,d)}function kM(n,e,t,r){return Hw(n,"value",e,t,r)}function GU(n,e,t,r){return Hw(n,"child_added",e,t,r)}function zU(n,e,t,r){return Hw(n,"child_changed",e,t,r)}function WU(n,e,t,r){return Hw(n,"child_moved",e,t,r)}function qU(n,e,t,r){return Hw(n,"child_removed",e,t,r)}function KU(n,e,t){let r=null;const i=t?new RM(t):null;"value"===e?r=new jw(i):e&&(r=new lD(e,i)),bM(n._repo,n,r)}class Bo{}class ZU extends Bo{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Xa("endAt",this._value,e._path,!0);const t=Wk(e._queryParams,this._value,this._key);if(cD(t),sd(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ps(e._repo,e._path,t,e._orderByCalled)}}class nK extends Bo{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Xa("endBefore",this._value,e._path,!1);const t=function d3(n,e,t){let r;return r=Wk(n,e,n.index_===Qa||t?t:Yl),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(cD(t),sd(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ps(e._repo,e._path,t,e._orderByCalled)}}class YU extends Bo{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Xa("startAt",this._value,e._path,!0);const t=zk(e._queryParams,this._value,this._key);if(cD(t),sd(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ps(e._repo,e._path,t,e._orderByCalled)}}class sK extends Bo{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Xa("startAfter",this._value,e._path,!1);const t=function l3(n,e,t){let r;return r=zk(n,e,n.index_===Qa||t?t:lc),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(cD(t),sd(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ps(e._repo,e._path,t,e._orderByCalled)}}class aK extends Bo{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ps(e._repo,e._path,function u3(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class cK extends Bo{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ps(e._repo,e._path,function c3(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class dK extends Bo{constructor(e){super(),this._path=e}_apply(e){uD(e,"orderByChild");const t=new kn(this._path);if(sn(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new jk(t),i=VC(e._queryParams,r);return sd(i),new ps(e._repo,e._path,i,!0)}}class fK extends Bo{_apply(e){uD(e,"orderByKey");const t=VC(e._queryParams,Qa);return sd(t),new ps(e._repo,e._path,t,!0)}}class gK extends Bo{_apply(e){uD(e,"orderByPriority");const t=VC(e._queryParams,Zn);return sd(t),new ps(e._repo,e._path,t,!0)}}class _K extends Bo{_apply(e){uD(e,"orderByValue");const t=VC(e._queryParams,Hk);return sd(t),new ps(e._repo,e._path,t,!0)}}class vK extends Bo{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(Xa("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ZU(this._value,this._key)._apply(new YU(this._value,this._key)._apply(e))}}function $o(n,...e){let t=(0,P.m9)(n);for(const r of e)t=r._apply(t);return t}(function J3(n){(0,P.hu)(!ZC,"__referenceConstructor has already been defined"),ZC=n})(ao),function iq(n){(0,P.hu)(!QC,"__referenceConstructor has already been defined"),QC=n}(ao);const IK="FIREBASE_DATABASE_EMULATOR_HOST",MM={};let QU=!1;function XU(n,e,t,r,i){let o=r||n.options.databaseURL;void 0===o&&(n.options.projectId||Ya("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),vi("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let f,_,c=AM(o,i),d=c.repoInfo;typeof process<"u"&&process.env&&(_=process.env[IK]),_?(f=!0,o=`http://${_}?ns=${d.namespace}`,c=AM(o,i),d=c.repoInfo):f=!c.repoInfo.secure;const I=i&&f?new Iw(Iw.OWNER):new pW(n.name,n.options,e);DU("Invalid Firebase Database URL",c),sn(c.path)||Ya("Database URL must point to the root of a Firebase Database (not including a child path).");const C=function bK(n,e,t,r){let i=MM[e.name];i||(i={},MM[e.name]=i);let o=i[n.toURLString()];return o&&Ya("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new kq(n,QU,t,r),i[n.toURLString()]=o,o}(d,n,I,new fW(n.name,t));return new DK(C,n)}class DK{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Mq(n,e,t){if(n.stats_=Nk(n.repoInfo_),n.forceRestClient_||hW())n.server_=new BC(n.repoInfo_,(r,i,o,c)=>{kU(n,r,i,o,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>MU(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,P.Wl)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Sf(n.repoInfo_,e,(r,i,o,c)=>{kU(n,r,i,o,c)},r=>{MU(n,r)},r=>{!function Nq(n,e){wi(e,(t,r)=>{EM(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function _W(n,e){const t=n.toString();return Mk[t]||(Mk[t]=e()),Mk[t]}(n.repoInfo_,()=>new _3(n.stats_,n.server_)),n.infoData_=new h3,n.infoSyncTree_=new gU({startListening:(r,i,o,c)=>{let d=[];const f=n.infoData_.getNode(r._path);return f.isEmpty()||(d=Nw(n.infoSyncTree_,r._path,f),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),EM(n,"connected",!1),n.serverSyncTree_=new gU({startListening:(r,i,o,c)=>(n.server_.listen(r,o,i,(d,f)=>{const _=c(d,f);Ps(n.eventQueue_,r._path,_)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ao(this._repo,vn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function TK(n,e){const t=MM[e];(!t||t[n.key]!==n)&&Ya(`Database ${e}(${n.repoInfo_}) has already been deleted.`),PU(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ya("Cannot call "+e+" on a deleted database.")}}function JU(){IF.IS_TRANSPORT_INITIALIZED&&ji("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function SK(){JU(),Ql.forceDisallow()}function AK(){JU(),t_.forceDisallow(),Ql.forceAllow()}function kK(n,e){tF(n,e)}const NK={".sv":"timestamp"};class LK{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Sf.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Sf.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function MK(n){YL(Mt.SDK_VERSION),(0,Mt._registerComponent)(new Lr.wA("database",(e,{instanceIdentifier:t})=>XU(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Mt.registerVersion)(KL,"0.14.4",n),(0,Mt.registerVersion)(KL,"0.14.4","esm2017")}();const BK=new Ti.Yd("@firebase/database-compat"),t2=function(n){BK.warn("FIREBASE WARNING: "+n)};class HK{constructor(e){this._delegate=e}cancel(e){(0,P.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,P.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),r=>e(r)),t}remove(e){(0,P.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,P.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),r=>e(r)),t}set(e,t){(0,P.Dv)("OnDisconnect.set",1,2,arguments.length),(0,P.Wj)("OnDisconnect.set","onComplete",t,!0);const r=this._delegate.set(e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,P.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,P.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,t);return r&&i.then(()=>r(null),o=>r(o)),i}update(e,t){if((0,P.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,t2("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,P.Wj)("OnDisconnect.update","onComplete",t,!0);const r=this._delegate.update(e);return t&&r.then(()=>t(null),i=>t(i)),r}}class GK{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,P.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class od{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,P.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,P.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,P.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,P.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,P.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),Bw("DataSnapshot.child","path",e,!1),new od(this._database,this._delegate.child(e))}hasChild(e){return(0,P.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Bw("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,P.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,P.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,P.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new od(this._database,t)))}hasChildren(){return(0,P.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,P.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,P.Dv)("DataSnapshot.ref",0,0,arguments.length),new Os(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ri{constructor(e,t){this.database=e,this._delegate=t}on(e,t,r,i){var o;(0,P.Dv)("Query.on",2,4,arguments.length),(0,P.Wj)("Query.on","callback",t,!1);const c=Ri.getCancelAndContextArgs_("Query.on",r,i),d=(_,I)=>{t.call(c.context,new od(this.database,_),I)};d.userCallback=t,d.context=c.context;const f=null===(o=c.cancel)||void 0===o?void 0:o.bind(c.context);switch(e){case"value":return kM(this._delegate,d,f),t;case"child_added":return GU(this._delegate,d,f),t;case"child_removed":return qU(this._delegate,d,f),t;case"child_changed":return zU(this._delegate,d,f),t;case"child_moved":return WU(this._delegate,d,f),t;default:throw new Error((0,P.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,r){if((0,P.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,P.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,P.Wj)("Query.off","callback",t,!0),(0,P.lb)("Query.off","context",r,!0),t){const i=()=>{};i.userCallback=t,i.context=r,KU(this._delegate,e,i)}else KU(this._delegate,e)}get(){return eK(this._delegate).then(e=>new od(this.database,e))}once(e,t,r,i){(0,P.Dv)("Query.once",1,4,arguments.length),(0,P.Wj)("Query.once","callback",t,!0);const o=Ri.getCancelAndContextArgs_("Query.once",r,i),c=new P.BH,d=(_,I)=>{const C=new od(this.database,_);t&&t.call(o.context,C,I),c.resolve(C)};d.userCallback=t,d.context=o.context;const f=_=>{o.cancel&&o.cancel.call(o.context,_),c.reject(_)};switch(e){case"value":kM(this._delegate,d,f,{onlyOnce:!0});break;case"child_added":GU(this._delegate,d,f,{onlyOnce:!0});break;case"child_removed":qU(this._delegate,d,f,{onlyOnce:!0});break;case"child_changed":zU(this._delegate,d,f,{onlyOnce:!0});break;case"child_moved":WU(this._delegate,d,f,{onlyOnce:!0});break;default:throw new Error((0,P.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(e){return(0,P.Dv)("Query.limitToFirst",1,1,arguments.length),new Ri(this.database,$o(this._delegate,function uK(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new aK(n)}(e)))}limitToLast(e){return(0,P.Dv)("Query.limitToLast",1,1,arguments.length),new Ri(this.database,$o(this._delegate,function lK(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new cK(n)}(e)))}orderByChild(e){return(0,P.Dv)("Query.orderByChild",1,1,arguments.length),new Ri(this.database,$o(this._delegate,function hK(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Bw("orderByChild","path",n,!1),new dK(n)}(e)))}orderByKey(){return(0,P.Dv)("Query.orderByKey",0,0,arguments.length),new Ri(this.database,$o(this._delegate,function pK(){return new fK}()))}orderByPriority(){return(0,P.Dv)("Query.orderByPriority",0,0,arguments.length),new Ri(this.database,$o(this._delegate,function mK(){return new gK}()))}orderByValue(){return(0,P.Dv)("Query.orderByValue",0,0,arguments.length),new Ri(this.database,$o(this._delegate,function yK(){return new _K}()))}startAt(e=null,t){return(0,P.Dv)("Query.startAt",0,2,arguments.length),new Ri(this.database,$o(this._delegate,function iK(n=null,e){return Vw("startAt","key",e,!0),new YU(n,e)}(e,t)))}startAfter(e=null,t){return(0,P.Dv)("Query.startAfter",0,2,arguments.length),new Ri(this.database,$o(this._delegate,function oK(n,e){return Vw("startAfter","key",e,!0),new sK(n,e)}(e,t)))}endAt(e=null,t){return(0,P.Dv)("Query.endAt",0,2,arguments.length),new Ri(this.database,$o(this._delegate,function tK(n,e){return Vw("endAt","key",e,!0),new ZU(n,e)}(e,t)))}endBefore(e=null,t){return(0,P.Dv)("Query.endBefore",0,2,arguments.length),new Ri(this.database,$o(this._delegate,function rK(n,e){return Vw("endBefore","key",e,!0),new nK(n,e)}(e,t)))}equalTo(e,t){return(0,P.Dv)("Query.equalTo",1,2,arguments.length),new Ri(this.database,$o(this._delegate,function wK(n,e){return Vw("equalTo","key",e,!0),new vK(n,e)}(e,t)))}toString(){return(0,P.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,P.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,P.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof Ri))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,r){const i={cancel:void 0,context:void 0};if(t&&r)i.cancel=t,(0,P.Wj)(e,"cancel",i.cancel,!0),i.context=r,(0,P.lb)(e,"context",i.context,!0);else if(t)if("object"==typeof t&&null!==t)i.context=t;else{if("function"!=typeof t)throw new Error((0,P.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=t}return i}get ref(){return new Os(this.database,new ao(this._delegate._repo,this._delegate._path))}}class Os extends Ri{constructor(e,t){super(e,new ps(t._repo,t._path,new UC,!1)),this.database=e,this._delegate=t}getKey(){return(0,P.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,P.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Os(this.database,Nf(this._delegate,e))}getParent(){(0,P.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Os(this.database,e):null}getRoot(){return(0,P.Dv)("Reference.root",0,0,arguments.length),new Os(this.database,this._delegate.root)}set(e,t){(0,P.Dv)("Reference.set",1,2,arguments.length),(0,P.Wj)("Reference.set","onComplete",t,!0);const r=xM(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}update(e,t){if((0,P.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,t2("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}oo("Reference.update",this._delegate._path),(0,P.Wj)("Reference.update","onComplete",t,!0);const r=Jq(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,P.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,P.Wj)("Reference.setWithPriority","onComplete",r,!0);const i=function Xq(n,e,t){if(oo("setWithPriority",n._path),Xa("setWithPriority",e,n._path,!1),IM("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new P.BH;return TM(n._repo,n._path,e,t,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,t);return r&&i.then(()=>r(null),o=>r(o)),i}remove(e){(0,P.Dv)("Reference.remove",0,1,arguments.length),(0,P.Wj)("Reference.remove","onComplete",e,!0);const t=function Yq(n){return oo("remove",n._path),xM(n,null)}(this._delegate);return e&&t.then(()=>e(null),r=>e(r)),t}transaction(e,t,r){(0,P.Dv)("Reference.transaction",1,3,arguments.length),(0,P.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,P.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,r){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,P.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function FK(n,e,t){var r;if(n=(0,P.m9)(n),oo("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const i=null===(r=t?.applyLocally)||void 0===r||r,o=new P.BH,d=kM(n,()=>{});return function jq(n,e,t,r,i,o){c_(n,"transaction on "+e);const c={path:e,update:t,onComplete:r,status:null,order:XL(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=CM(n,e,void 0);c.currentInputSnapshot=d;const f=c.update(d.val());if(void 0===f)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{Uw("transaction failed: Data returned ",f,c.path),c.status=0;const _=tD(n.transactionQueueTree_,e),I=kf(_)||[];let C;I.push(c),yM(_,I),"object"==typeof f&&null!==f&&(0,P.r3)(f,".priority")?(C=(0,P.DV)(f,".priority"),(0,P.hu)(Fw(C),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):C=(JC(n.serverSyncTree_,e)||tn.EMPTY_NODE).getPriority().val();const S=$w(n),M=Cr(f,C),U=gM(M,d,S);c.currentOutputSnapshotRaw=M,c.currentOutputSnapshotResolved=U,c.currentWriteId=sD(n);const Q=uM(n.serverSyncTree_,e,U,c.currentWriteId,c.applyLocally);Ps(n.eventQueue_,e,Q),oD(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(f,_,I)=>{let C=null;f?o.reject(f):(C=new Mf(I,new ao(n._repo,n._path),Zn),o.resolve(new LK(_,C)))},d,i),o.promise}(this._delegate,e,{applyLocally:r}).then(o=>new GK(o.committed,new od(this.database,o.snapshot)));return t&&i.then(o=>t(null,o.committed,o.snapshot),o=>t(o,!1,null)),i}setPriority(e,t){(0,P.Dv)("Reference.setPriority",1,2,arguments.length),(0,P.Wj)("Reference.setPriority","onComplete",t,!0);const r=function Qq(n,e){n=(0,P.m9)(n),oo("setPriority",n._path),IM("setPriority",e,!1);const t=new P.BH;return TM(n._repo,yr(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}push(e,t){(0,P.Dv)("Reference.push",0,2,arguments.length),(0,P.Wj)("Reference.push","onComplete",t,!0);const r=function Zq(n,e){n=(0,P.m9)(n),oo("push",n._path),Xa("push",e,n._path,!0);const t=xU(n._repo),r=Kq(t),i=Nf(n,r),o=Nf(n,r);let c;return c=null!=e?xM(o,e).then(()=>o):Promise.resolve(o),i.then=c.then.bind(c),i.catch=c.then.bind(c,void 0),i}(this._delegate,e),i=r.then(c=>new Os(this.database,c));t&&i.then(()=>t(null),c=>t(c));const o=new Os(this.database,r);return o.then=i.then.bind(i),o.catch=i.catch.bind(i,void 0),o}onDisconnect(){return oo("Reference.onDisconnect",this._delegate._path),new HK(new $U(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Gw{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:SK,forceLongPolling:AK}}useEmulator(e,t,r={}){!function e2(n,e,t,r={}){(n=(0,P.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Ya("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ya('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Iw(Iw.OWNER);else if(r.mockUserToken){const c="string"==typeof r.mockUserToken?r.mockUserToken:(0,P.Sg)(r.mockUserToken,n.app.options.projectId);o=new Iw(c)}!function EK(n,e,t,r){n.repoInfo_=new xk(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(i,e,t,o)}(this._delegate,e,t,r)}ref(e){if((0,P.Dv)("database.ref",0,1,arguments.length),e instanceof Os){const t=HU(this._delegate,e.toString());return new Os(this,t)}{const t=jU(this._delegate,e);return new Os(this,t)}}refFromURL(e){(0,P.Dv)("database.refFromURL",1,1,arguments.length);const r=HU(this._delegate,e);return new Os(this,r)}goOffline(){return(0,P.Dv)("database.goOffline",0,0,arguments.length),function RK(n){(n=(0,P.m9)(n))._checkNotDeleted("goOffline"),PU(n._repo)}(this._delegate)}goOnline(){return(0,P.Dv)("database.goOnline",0,0,arguments.length),function xK(n){(n=(0,P.m9)(n))._checkNotDeleted("goOnline"),function $q(n){n.persistentConnection_&&n.persistentConnection_.resume(RU)}(n._repo)}(this._delegate)}}Gw.ServerValue={TIMESTAMP:function PK(){return NK}(),increment:n=>function OK(n){return{".sv":{increment:n}}}(n)};var WK=Object.freeze({__proto__:null,initStandalone:function zK({app:n,url:e,version:t,customAuthImpl:r,namespace:i,nodeAdmin:o=!1}){YL(t);const c=new Lr.zt("auth-internal",new Lr.H0("database-standalone"));return c.setComponent(new Lr.wA("auth-internal",()=>r,"PRIVATE")),{instance:new Gw(XU(n,c,void 0,e,o),n),namespace:i}}});const qK=Gw.ServerValue;function n2(n,e){return(0,Io.m)(e)?Tr(()=>n,e):Tr(()=>n)}!function KK(n){n.INTERNAL.registerComponent(new Lr.wA("database-compat",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:t});return new Gw(i,r)},"PUBLIC").setServiceProps({Reference:Os,Query:Ri,Database:Gw,DataSnapshot:od,enableLogging:kK,INTERNAL:WK,ServerValue:qK}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(oL.Z);const r2=new y.OlP("angularfire2.auth.use-emulator"),i2=new y.OlP("angularfire2.auth.settings"),s2=new y.OlP("angularfire2.auth.tenant-id"),o2=new y.OlP("angularfire2.auth.langugage-code"),a2=new y.OlP("angularfire2.auth.use-device-language"),u2=new y.OlP("angularfire.auth.persistence"),c2=(n,e,t,r,i,o,c,d)=>(0,hs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const f=e.runOutsideAngular(()=>n.auth());if(t&&f.useEmulator(...t),r&&(f.tenantId=r),f.languageCode=i,o&&f.useDeviceLanguage(),c)for(const[_,I]of Object.entries(c))f.settings[_]=I;return d&&f.setPersistence(d),f},[t,r,i,o,c,d]);let l2=(()=>{class n{constructor(t,r,i,o,c,d,f,_,I,C,S,M){const U=new $a.x,Q=mt(void 0).pipe((0,ku.Q)(c.outsideAngular),Tr(()=>o.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,9568)))),(0,jt.U)(()=>(0,hs.on)(t,o,r)),(0,jt.U)(se=>c2(se,o,d,_,I,C,f,S)),Jx({bufferSize:1,refCount:!1}));if(function p_(n){return"server"===n}(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=mt(null);else{Q.pipe(oc()).subscribe();const Oe=Q.pipe(Tr(lt=>lt.getRedirectResult().then(Rt=>Rt,()=>null)),qs,Jx({bufferSize:1,refCount:!1})),Re=Q.pipe(Tr(lt=>new fi.y(Rt=>({unsubscribe:o.runOutsideAngular(()=>lt.onAuthStateChanged(Ft=>Rt.next(Ft),Ft=>Rt.error(Ft),()=>Rt.complete()))})))),Ye=Q.pipe(Tr(lt=>new fi.y(Rt=>({unsubscribe:o.runOutsideAngular(()=>lt.onIdTokenChanged(Ft=>Rt.next(Ft),Ft=>Rt.error(Ft),()=>Rt.complete()))}))));this.authState=Oe.pipe(n2(Re),(0,Yc.R)(c.outsideAngular),(0,ku.Q)(c.insideAngular)),this.user=Oe.pipe(n2(Ye),(0,Yc.R)(c.outsideAngular),(0,ku.Q)(c.insideAngular)),this.idToken=this.user.pipe(Tr(lt=>lt?(0,jn.D)(lt.getIdToken()):mt(null))),this.idTokenResult=this.user.pipe(Tr(lt=>lt?(0,jn.D)(lt.getIdTokenResult()):mt(null))),this.credential=(0,_C.T)(Oe,U,this.authState.pipe(Po(lt=>!lt))).pipe((0,jt.U)(lt=>lt?.user?lt:null),(0,Yc.R)(c.outsideAngular),(0,ku.Q)(c.insideAngular))}return(0,hs.pX)(this,Q,o,{spy:{apply:(se,Oe,Re)=>{(se.startsWith("signIn")||se.startsWith("createUser"))&&Re.then(Ye=>U.next(Ye))}}})}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(hs.Dh),y.LFG(hs.xv,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(ga),y.LFG(r2,8),y.LFG(i2,8),y.LFG(s2,8),y.LFG(o2,8),y.LFG(a2,8),y.LFG(u2,8),y.LFG(va,8))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function d2(n){return null==n}function h2(n){return"function"==typeof n.set}function f2(n,e){return h2(e)?e:n.ref(e)}function p2(n,e){if(function YK(n){return"string"==typeof n}(n))return e.stringCase();if(h2(n))return e.firebaseCase();if(function QK(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function zw(n,e,t="on",r=fy){return new fi.y(i=>{let o=null;return o=n[t](e,(c,d)=>{r.schedule(()=>{i.next({snapshot:c,prevKey:d})}),"once"===t&&r.schedule(()=>i.complete())},c=>{r.schedule(()=>i.error(c))}),"on"===t?{unsubscribe(){null!=o&&n.off(e,o)}}:{unsubscribe(){}}}).pipe((0,jt.U)(i=>{const{snapshot:o,prevKey:c}=i;let d=null;return o.exists()&&(d=o.key),{type:e,payload:o,prevKey:c,key:d}}),(0,j1.B)())}function g2(n,e){const t=n.length;for(let r=0;r<t;r++)if(n[r].payload.key===e)return r;return-1}function e4(n,e){const{payload:t,prevKey:r,key:i}=e,o=g2(n,i),c=function JK(n,e){if(d2(e))return 0;{const t=g2(n,e);return-1===t?n.length:t+1}}(n,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let d=null;e.payload.forEach(f=>{const _={payload:f,type:"value",prevKey:d,key:f.key};return d=f.key,n=[...n,_],!1})}return n;case"child_added":if(o>-1){const d=n[o-1];(d&&d.key||null)!==r&&(n=n.filter(f=>f.payload.key!==t.key)).splice(c,0,e)}else{if(null==r)return[e,...n];(n=n.slice()).splice(c,0,e)}return n;case"child_removed":return n.filter(d=>d.payload.key!==t.key);case"child_changed":return n.map(d=>d.payload.key===i?e:d);case"child_moved":if(o>-1){const d=n.splice(o,1)[0];return(n=n.slice()).splice(c,0,d),n}return n;default:return n}}function m2(n){return(d2(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function _2(n,e,t){return function XK(n,e,t){return zw(n,"value","once",t).pipe(Tr(r=>{const i=[mt(r)];return e.forEach(o=>i.push(zw(n,o,"on",t))),(0,_C.T)(...i).pipe(K0(e4,[]))}),yC())}(n,e=m2(e),t)}function y2(n,e,t){const r=(e=m2(e)).map(i=>zw(n,i,"on",t));return(0,_C.T)(...r)}function v2(n,e){return function(r,i){return p2(r,{stringCase:()=>n.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function i4(n){return function(t){return t?p2(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function w2(n,e){return function(){return zw(n,"value","on",e)}}const a4=new y.OlP("angularfire2.realtimeDatabaseURL"),u4=new y.OlP("angularfire2.database.use-emulator");let c4=(()=>{class n{constructor(t,r,i,o,c,d,f,_,I,C,S,M,U,Q,se){this.schedulers=d;const Oe=f,Re=(0,hs.on)(t,c,r);_&&c2(Re,c,I,S,M,U,C,Q),this.database=(0,hs.cc)(`${Re.name}.database.${i}`,"AngularFireDatabase",Re.name,()=>{const Ye=c.runOutsideAngular(()=>Re.database(i||void 0));return Oe&&Ye.useEmulator(...Oe),Ye},[Oe])}list(t,r){const i=this.schedulers.ngZone.runOutsideAngular(()=>f2(this.database,t));let o=i;return r&&(o=r(i)),function s4(n,e){const t=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:v2(r,"update"),set:v2(r,"set"),push:i=>r.push(i),remove:i4(r),snapshotChanges:i=>_2(n,i,t).pipe(qs),stateChanges:i=>y2(n,i,t).pipe(qs),auditTrail:i=>function t4(n,e,t){return function r4(n,e,t){return function n4(n,e){return zw(n,"value","on",e).pipe((0,jt.U)(t=>{let r;return t.payload.forEach(i=>(r=i.key,!1)),{data:t,lastKeyToLoad:r}}))}(n,t).pipe(G1(e),(0,jt.U)(([i,o])=>{const c=i.lastKeyToLoad,d=o.map(f=>f.key);return{actions:o,lastKeyToLoad:c,loadedKeys:d}}),function eW(n){return(0,Fr.e)((e,t)=>{let r=!1,i=0;e.subscribe((0,xr.x)(t,o=>(r||(r=!n(o,i++)))&&t.next(o)))})}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),(0,jt.U)(i=>i.actions))}(n,y2(n,e).pipe(K0((i,o)=>[...i,o],[])),t)}(n,i,t).pipe(qs),valueChanges:(i,o)=>_2(n,i,t).pipe((0,jt.U)(d=>d.map(f=>o&&o.idField?Object.assign(Object.assign({},f.payload.val()),{[o.idField]:f.key}):f.payload.val())),qs)}}(o,this)}object(t){return function o4(n,e){return{query:n,snapshotChanges:()=>w2(n,e.schedulers.outsideAngular)().pipe(qs),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>w2(n,e.schedulers.outsideAngular)().pipe(qs,(0,jt.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>f2(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(hs.Dh),y.LFG(hs.xv,8),y.LFG(a4,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(ga),y.LFG(u4,8),y.LFG(l2,8),y.LFG(r2,8),y.LFG(i2,8),y.LFG(s2,8),y.LFG(o2,8),y.LFG(a2,8),y.LFG(u2,8),y.LFG(va,8))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),l4=(()=>{class n{constructor(){WL.Z.registerVersion("angularfire",Qc.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({providers:[c4]}),n})(),d4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=y.oAB({type:n,bootstrap:[TH]}),n.\u0275inj=y.cJS({providers:[cG],imports:[ia,QI(()=>$D(LB_firebaseConfig)),PB(()=>OB()),fg(()=>(0,uh.n)()),Jz,l4,UH,Zx]}),n})();Ad().bootstrapModule(d4).catch(n=>console.error(n))},9751:(Et,Se,V)=>{V.d(Se,{y:()=>Ee});var y=V(930),$=V(727),L=V(8822),ce=V(9635),Te=V(2416),he=V(576),Le=V(2806);let Ee=(()=>{class Y{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const rt=new Y;return rt.source=this,rt.operator=ke,rt}subscribe(ke,rt,qe){const ie=function z(Y){return Y&&Y instanceof y.Lv||function G(Y){return Y&&(0,he.m)(Y.next)&&(0,he.m)(Y.error)&&(0,he.m)(Y.complete)}(Y)&&(0,$.Nn)(Y)}(ke)?ke:new y.Hp(ke,rt,qe);return(0,Le.x)(()=>{const{operator:De,source:we}=this;ie.add(De?De.call(ie,we):we?this._subscribe(ie):this._trySubscribe(ie))}),ie}_trySubscribe(ke){try{return this._subscribe(ke)}catch(rt){ke.error(rt)}}forEach(ke,rt){return new(rt=Fe(rt))((qe,ie)=>{const De=new y.Hp({next:we=>{try{ke(we)}catch(Ae){ie(Ae),De.unsubscribe()}},error:ie,complete:qe});this.subscribe(De)})}_subscribe(ke){var rt;return null===(rt=this.source)||void 0===rt?void 0:rt.subscribe(ke)}[L.L](){return this}pipe(...ke){return(0,ce.U)(ke)(this)}toPromise(ke){return new(ke=Fe(ke))((rt,qe)=>{let ie;this.subscribe(De=>ie=De,De=>qe(De),()=>rt(ie))})}}return Y.create=Ge=>new Y(Ge),Y})();function Fe(Y){var Ge;return null!==(Ge=Y??Te.v.Promise)&&void 0!==Ge?Ge:Promise}},7579:(Et,Se,V)=>{V.d(Se,{x:()=>Le});var y=V(9751),$=V(727);const ce=(0,V(3888).d)(Fe=>function(){Fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Te=V(8737),he=V(2806);let Le=(()=>{class Fe extends y.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const Y=new Ee(this,this);return Y.operator=z,Y}_throwIfClosed(){if(this.closed)throw new ce}next(z){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next(z)}})}error(z){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:Y}=this;for(;Y.length;)Y.shift().error(z)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:Y,isStopped:Ge,observers:ke}=this;return Y||Ge?$.Lc:(this.currentObservers=null,ke.push(z),new $.w0(()=>{this.currentObservers=null,(0,Te.P)(ke,z)}))}_checkFinalizedStatuses(z){const{hasError:Y,thrownError:Ge,isStopped:ke}=this;Y?z.error(Ge):ke&&z.complete()}asObservable(){const z=new y.y;return z.source=this,z}}return Fe.create=(G,z)=>new Ee(G,z),Fe})();class Ee extends Le{constructor(G,z){super(),this.destination=G,this.source=z}next(G){var z,Y;null===(Y=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===Y||Y.call(z,G)}error(G){var z,Y;null===(Y=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===Y||Y.call(z,G)}complete(){var G,z;null===(z=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===z||z.call(G)}_subscribe(G){var z,Y;return null!==(Y=null===(z=this.source)||void 0===z?void 0:z.subscribe(G))&&void 0!==Y?Y:$.Lc}}},930:(Et,Se,V)=>{V.d(Se,{Hp:()=>qe,Lv:()=>Y});var y=V(576),$=V(727),L=V(2416),ce=V(7849),Te=V(5032);const he=Fe("C",void 0,void 0);function Fe(ye,ve,Ie){return{kind:ye,value:ve,error:Ie}}var G=V(3410),z=V(2806);class Y extends $.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,$.Nn)(ve)&&ve.add(this)):this.destination=Ae}static create(ve,Ie,Be){return new qe(ve,Ie,Be)}next(ve){this.isStopped?we(function Ee(ye){return Fe("N",ye,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?we(function Le(ye){return Fe("E",void 0,ye)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?we(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function ke(ye,ve){return Ge.call(ye,ve)}class rt{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:Ie}=this;if(Ie.next)try{Ie.next(ve)}catch(Be){ie(Be)}}error(ve){const{partialObserver:Ie}=this;if(Ie.error)try{Ie.error(ve)}catch(Be){ie(Be)}else ie(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(Ie){ie(Ie)}}}class qe extends Y{constructor(ve,Ie,Be){let K;if(super(),(0,y.m)(ve)||!ve)K={next:ve??void 0,error:Ie??void 0,complete:Be??void 0};else{let ne;this&&L.v.useDeprecatedNextContext?(ne=Object.create(ve),ne.unsubscribe=()=>this.unsubscribe(),K={next:ve.next&&ke(ve.next,ne),error:ve.error&&ke(ve.error,ne),complete:ve.complete&&ke(ve.complete,ne)}):K=ve}this.destination=new rt(K)}}function ie(ye){L.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(ye):(0,ce.h)(ye)}function we(ye,ve){const{onStoppedNotification:Ie}=L.v;Ie&&G.z.setTimeout(()=>Ie(ye,ve))}const Ae={closed:!0,next:Te.Z,error:function De(ye){throw ye},complete:Te.Z}},727:(Et,Se,V)=>{V.d(Se,{Lc:()=>he,w0:()=>Te,Nn:()=>Le});var y=V(576);const L=(0,V(3888).d)(Fe=>function(z){Fe(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((Y,Ge)=>`${Ge+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var ce=V(8737);class Te{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const ke of z)ke.remove(this);else z.remove(this);const{initialTeardown:Y}=this;if((0,y.m)(Y))try{Y()}catch(ke){G=ke instanceof L?ke.errors:[ke]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const ke of Ge)try{Ee(ke)}catch(rt){G=G??[],rt instanceof L?G=[...G,...rt.errors]:G.push(rt)}}if(G)throw new L(G)}}add(G){var z;if(G&&G!==this)if(this.closed)Ee(G);else{if(G instanceof Te){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(G)}}_hasParent(G){const{_parentage:z}=this;return z===G||Array.isArray(z)&&z.includes(G)}_addParent(G){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(G),z):z?[z,G]:G}_removeParent(G){const{_parentage:z}=this;z===G?this._parentage=null:Array.isArray(z)&&(0,ce.P)(z,G)}remove(G){const{_finalizers:z}=this;z&&(0,ce.P)(z,G),G instanceof Te&&G._removeParent(this)}}Te.EMPTY=(()=>{const Fe=new Te;return Fe.closed=!0,Fe})();const he=Te.EMPTY;function Le(Fe){return Fe instanceof Te||Fe&&"closed"in Fe&&(0,y.m)(Fe.remove)&&(0,y.m)(Fe.add)&&(0,y.m)(Fe.unsubscribe)}function Ee(Fe){(0,y.m)(Fe)?Fe():Fe.unsubscribe()}},2416:(Et,Se,V)=>{V.d(Se,{v:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Et,Se,V)=>{V.d(Se,{E:()=>$});const $=new(V(9751).y)(Te=>Te.complete())},8996:(Et,Se,V)=>{V.d(Se,{D:()=>ve});var y=V(8421),$=V(5363),L=V(9468),he=V(9751),Ee=V(2202),Fe=V(576),G=V(9672);function Y(Ie,Be){if(!Ie)throw new Error("Iterable cannot be null");return new he.y(K=>{(0,G.f)(K,Be,()=>{const ne=Ie[Symbol.asyncIterator]();(0,G.f)(K,Be,()=>{ne.next().then(me=>{me.done?K.complete():K.next(me.value)})},0,!0)})})}var Ge=V(3670),ke=V(8239),rt=V(1144),qe=V(6495),ie=V(2206),De=V(4532),we=V(3260);function ve(Ie,Be){return Be?function ye(Ie,Be){if(null!=Ie){if((0,Ge.c)(Ie))return function ce(Ie,Be){return(0,y.Xf)(Ie).pipe((0,L.R)(Be),(0,$.Q)(Be))}(Ie,Be);if((0,rt.z)(Ie))return function Le(Ie,Be){return new he.y(K=>{let ne=0;return Be.schedule(function(){ne===Ie.length?K.complete():(K.next(Ie[ne++]),K.closed||this.schedule())})})}(Ie,Be);if((0,ke.t)(Ie))return function Te(Ie,Be){return(0,y.Xf)(Ie).pipe((0,L.R)(Be),(0,$.Q)(Be))}(Ie,Be);if((0,ie.D)(Ie))return Y(Ie,Be);if((0,qe.T)(Ie))return function z(Ie,Be){return new he.y(K=>{let ne;return(0,G.f)(K,Be,()=>{ne=Ie[Ee.h](),(0,G.f)(K,Be,()=>{let me,Ke;try{({value:me,done:Ke}=ne.next())}catch(Ve){return void K.error(Ve)}Ke?K.complete():K.next(me)},0,!0)}),()=>(0,Fe.m)(ne?.return)&&ne.return()})}(Ie,Be);if((0,we.L)(Ie))return function Ae(Ie,Be){return Y((0,we.Q)(Ie),Be)}(Ie,Be)}throw(0,De.z)(Ie)}(Ie,Be):(0,y.Xf)(Ie)}},8421:(Et,Se,V)=>{V.d(Se,{Xf:()=>Ge});var y=V(655),$=V(1144),L=V(8239),ce=V(9751),Te=V(3670),he=V(2206),Le=V(4532),Ee=V(6495),Fe=V(3260),G=V(576),z=V(7849),Y=V(8822);function Ge(ye){if(ye instanceof ce.y)return ye;if(null!=ye){if((0,Te.c)(ye))return function ke(ye){return new ce.y(ve=>{const Ie=ye[Y.L]();if((0,G.m)(Ie.subscribe))return Ie.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ye);if((0,$.z)(ye))return function rt(ye){return new ce.y(ve=>{for(let Ie=0;Ie<ye.length&&!ve.closed;Ie++)ve.next(ye[Ie]);ve.complete()})}(ye);if((0,L.t)(ye))return function qe(ye){return new ce.y(ve=>{ye.then(Ie=>{ve.closed||(ve.next(Ie),ve.complete())},Ie=>ve.error(Ie)).then(null,z.h)})}(ye);if((0,he.D)(ye))return De(ye);if((0,Ee.T)(ye))return function ie(ye){return new ce.y(ve=>{for(const Ie of ye)if(ve.next(Ie),ve.closed)return;ve.complete()})}(ye);if((0,Fe.L)(ye))return function we(ye){return De((0,Fe.Q)(ye))}(ye)}throw(0,Le.z)(ye)}function De(ye){return new ce.y(ve=>{(function Ae(ye,ve){var Ie,Be,K,ne;return(0,y.mG)(this,void 0,void 0,function*(){try{for(Ie=(0,y.KL)(ye);!(Be=yield Ie.next()).done;)if(ve.next(Be.value),ve.closed)return}catch(me){K={error:me}}finally{try{Be&&!Be.done&&(ne=Ie.return)&&(yield ne.call(Ie))}finally{if(K)throw K.error}}ve.complete()})})(ye,ve).catch(Ie=>ve.error(Ie))})}},6451:(Et,Se,V)=>{V.d(Se,{T:()=>he});var y=V(8189),$=V(8421),L=V(515),ce=V(7669),Te=V(8996);function he(...Le){const Ee=(0,ce.yG)(Le),Fe=(0,ce._6)(Le,1/0),G=Le;return G.length?1===G.length?(0,$.Xf)(G[0]):(0,y.J)(Fe)((0,Te.D)(G,Ee)):L.E}},5403:(Et,Se,V)=>{V.d(Se,{x:()=>$});var y=V(930);function $(ce,Te,he,Le,Ee){return new L(ce,Te,he,Le,Ee)}class L extends y.Lv{constructor(Te,he,Le,Ee,Fe,G){super(Te),this.onFinalize=Fe,this.shouldUnsubscribe=G,this._next=he?function(z){try{he(z)}catch(Y){Te.error(Y)}}:super._next,this._error=Ee?function(z){try{Ee(z)}catch(Y){Te.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=Le?function(){try{Le()}catch(z){Te.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Te;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(Te=this.onFinalize)||void 0===Te||Te.call(this))}}}},4004:(Et,Se,V)=>{V.d(Se,{U:()=>L});var y=V(4482),$=V(5403);function L(ce,Te){return(0,y.e)((he,Le)=>{let Ee=0;he.subscribe((0,$.x)(Le,Fe=>{Le.next(ce.call(Te,Fe,Ee++))}))})}},8189:(Et,Se,V)=>{V.d(Se,{J:()=>L});var y=V(5577),$=V(4671);function L(ce=1/0){return(0,y.z)($.y,ce)}},5577:(Et,Se,V)=>{V.d(Se,{z:()=>Ee});var y=V(4004),$=V(8421),L=V(4482),ce=V(9672),Te=V(5403),Le=V(576);function Ee(Fe,G,z=1/0){return(0,Le.m)(G)?Ee((Y,Ge)=>(0,y.U)((ke,rt)=>G(Y,ke,Ge,rt))((0,$.Xf)(Fe(Y,Ge))),z):("number"==typeof G&&(z=G),(0,L.e)((Y,Ge)=>function he(Fe,G,z,Y,Ge,ke,rt,qe){const ie=[];let De=0,we=0,Ae=!1;const ye=()=>{Ae&&!ie.length&&!De&&G.complete()},ve=Be=>De<Y?Ie(Be):ie.push(Be),Ie=Be=>{ke&&G.next(Be),De++;let K=!1;(0,$.Xf)(z(Be,we++)).subscribe((0,Te.x)(G,ne=>{Ge?.(ne),ke?ve(ne):G.next(ne)},()=>{K=!0},void 0,()=>{if(K)try{for(De--;ie.length&&De<Y;){const ne=ie.shift();rt?(0,ce.f)(G,rt,()=>Ie(ne)):Ie(ne)}ye()}catch(ne){G.error(ne)}}))};return Fe.subscribe((0,Te.x)(G,ve,()=>{Ae=!0,ye()})),()=>{qe?.()}}(Y,Ge,Fe,z)))}},5363:(Et,Se,V)=>{V.d(Se,{Q:()=>ce});var y=V(9672),$=V(4482),L=V(5403);function ce(Te,he=0){return(0,$.e)((Le,Ee)=>{Le.subscribe((0,L.x)(Ee,Fe=>(0,y.f)(Ee,Te,()=>Ee.next(Fe),he),()=>(0,y.f)(Ee,Te,()=>Ee.complete(),he),Fe=>(0,y.f)(Ee,Te,()=>Ee.error(Fe),he)))})}},3099:(Et,Se,V)=>{V.d(Se,{B:()=>Te});var y=V(8421),$=V(7579),L=V(930),ce=V(4482);function Te(Le={}){const{connector:Ee=(()=>new $.x),resetOnError:Fe=!0,resetOnComplete:G=!0,resetOnRefCountZero:z=!0}=Le;return Y=>{let Ge,ke,rt,qe=0,ie=!1,De=!1;const we=()=>{ke?.unsubscribe(),ke=void 0},Ae=()=>{we(),Ge=rt=void 0,ie=De=!1},ye=()=>{const ve=Ge;Ae(),ve?.unsubscribe()};return(0,ce.e)((ve,Ie)=>{qe++,!De&&!ie&&we();const Be=rt=rt??Ee();Ie.add(()=>{qe--,0===qe&&!De&&!ie&&(ke=he(ye,z))}),Be.subscribe(Ie),!Ge&&qe>0&&(Ge=new L.Hp({next:K=>Be.next(K),error:K=>{De=!0,we(),ke=he(Ae,Fe,K),Be.error(K)},complete:()=>{ie=!0,we(),ke=he(Ae,G),Be.complete()}}),(0,y.Xf)(ve).subscribe(Ge))})(Y)}}function he(Le,Ee,...Fe){if(!0===Ee)return void Le();if(!1===Ee)return;const G=new L.Hp({next:()=>{G.unsubscribe(),Le()}});return(0,y.Xf)(Ee(...Fe)).subscribe(G)}},9468:(Et,Se,V)=>{V.d(Se,{R:()=>$});var y=V(4482);function $(L,ce=0){return(0,y.e)((Te,he)=>{he.add(L.schedule(()=>Te.subscribe(he),ce))})}},3410:(Et,Se,V)=>{V.d(Se,{z:()=>y});const y={setTimeout($,L,...ce){const{delegate:Te}=y;return Te?.setTimeout?Te.setTimeout($,L,...ce):setTimeout($,L,...ce)},clearTimeout($){const{delegate:L}=y;return(L?.clearTimeout||clearTimeout)($)},delegate:void 0}},2202:(Et,Se,V)=>{V.d(Se,{h:()=>$});const $=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Et,Se,V)=>{V.d(Se,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Et,Se,V)=>{V.d(Se,{_6:()=>he,jO:()=>ce,yG:()=>Te});var y=V(576);function L(Le){return Le[Le.length-1]}function ce(Le){return(0,y.m)(L(Le))?Le.pop():void 0}function Te(Le){return function $(Le){return Le&&(0,y.m)(Le.schedule)}(L(Le))?Le.pop():void 0}function he(Le,Ee){return"number"==typeof L(Le)?Le.pop():Ee}},8737:(Et,Se,V)=>{function y($,L){if($){const ce=$.indexOf(L);0<=ce&&$.splice(ce,1)}}V.d(Se,{P:()=>y})},3888:(Et,Se,V)=>{function y($){const ce=$(Te=>{Error.call(Te),Te.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}V.d(Se,{d:()=>y})},2806:(Et,Se,V)=>{V.d(Se,{O:()=>ce,x:()=>L});var y=V(2416);let $=null;function L(Te){if(y.v.useDeprecatedSynchronousErrorHandling){const he=!$;if(he&&($={errorThrown:!1,error:null}),Te(),he){const{errorThrown:Le,error:Ee}=$;if($=null,Le)throw Ee}}else Te()}function ce(Te){y.v.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=Te)}},9672:(Et,Se,V)=>{function y($,L,ce,Te=0,he=!1){const Le=L.schedule(function(){ce(),he?$.add(this.schedule(null,Te)):this.unsubscribe()},Te);if($.add(Le),!he)return Le}V.d(Se,{f:()=>y})},4671:(Et,Se,V)=>{function y($){return $}V.d(Se,{y:()=>y})},1144:(Et,Se,V)=>{V.d(Se,{z:()=>y});const y=$=>$&&"number"==typeof $.length&&"function"!=typeof $},2206:(Et,Se,V)=>{V.d(Se,{D:()=>$});var y=V(576);function $(L){return Symbol.asyncIterator&&(0,y.m)(L?.[Symbol.asyncIterator])}},576:(Et,Se,V)=>{function y($){return"function"==typeof $}V.d(Se,{m:()=>y})},3670:(Et,Se,V)=>{V.d(Se,{c:()=>L});var y=V(8822),$=V(576);function L(ce){return(0,$.m)(ce[y.L])}},6495:(Et,Se,V)=>{V.d(Se,{T:()=>L});var y=V(2202),$=V(576);function L(ce){return(0,$.m)(ce?.[y.h])}},8239:(Et,Se,V)=>{V.d(Se,{t:()=>$});var y=V(576);function $(L){return(0,y.m)(L?.then)}},3260:(Et,Se,V)=>{V.d(Se,{L:()=>ce,Q:()=>L});var y=V(655),$=V(576);function L(Te){return(0,y.FC)(this,arguments,function*(){const Le=Te.getReader();try{for(;;){const{value:Ee,done:Fe}=yield(0,y.qq)(Le.read());if(Fe)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(Ee)}}finally{Le.releaseLock()}})}function ce(Te){return(0,$.m)(Te?.getReader)}},4482:(Et,Se,V)=>{V.d(Se,{A:()=>$,e:()=>L});var y=V(576);function $(ce){return(0,y.m)(ce?.lift)}function L(ce){return Te=>{if($(Te))return Te.lift(function(he){try{return ce(he,this)}catch(Le){this.error(Le)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Et,Se,V)=>{function y(){}V.d(Se,{Z:()=>y})},9635:(Et,Se,V)=>{V.d(Se,{U:()=>L,z:()=>$});var y=V(4671);function $(...ce){return L(ce)}function L(ce){return 0===ce.length?y.y:1===ce.length?ce[0]:function(he){return ce.reduce((Le,Ee)=>Ee(Le),he)}}},7849:(Et,Se,V)=>{V.d(Se,{h:()=>L});var y=V(2416),$=V(3410);function L(ce){$.z.setTimeout(()=>{const{onUnhandledError:Te}=y.v;if(!Te)throw ce;Te(ce)})}},4532:(Et,Se,V)=>{function y($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Se,{z:()=>y})},655:(Et,Se,V)=>{function ce(re,oe){var de={};for(var be in re)Object.prototype.hasOwnProperty.call(re,be)&&oe.indexOf(be)<0&&(de[be]=re[be]);if(null!=re&&"function"==typeof Object.getOwnPropertySymbols){var Ne=0;for(be=Object.getOwnPropertySymbols(re);Ne<be.length;Ne++)oe.indexOf(be[Ne])<0&&Object.prototype.propertyIsEnumerable.call(re,be[Ne])&&(de[be[Ne]]=re[be[Ne]])}return de}function Y(re,oe,de,be){return new(de||(de=Promise))(function(Me,Xe){function st(ft){try{vt(be.next(ft))}catch(Ze){Xe(Ze)}}function hn(ft){try{vt(be.throw(ft))}catch(Ze){Xe(Ze)}}function vt(ft){ft.done?Me(ft.value):function Ne(Me){return Me instanceof de?Me:new de(function(Xe){Xe(Me)})}(ft.value).then(st,hn)}vt((be=be.apply(re,oe||[])).next())})}function ye(re){return this instanceof ye?(this.v=re,this):new ye(re)}function ve(re,oe,de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,be=de.apply(re,oe||[]),Me=[];return Ne={},Xe("next"),Xe("throw"),Xe("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne;function Xe(Jt){be[Jt]&&(Ne[Jt]=function(Cn){return new Promise(function(wn,on){Me.push([Jt,Cn,wn,on])>1||st(Jt,Cn)})})}function st(Jt,Cn){try{!function hn(Jt){Jt.value instanceof ye?Promise.resolve(Jt.value.v).then(vt,ft):Ze(Me[0][2],Jt)}(be[Jt](Cn))}catch(wn){Ze(Me[0][3],wn)}}function vt(Jt){st("next",Jt)}function ft(Jt){st("throw",Jt)}function Ze(Jt,Cn){Jt(Cn),Me.shift(),Me.length&&st(Me[0][0],Me[0][1])}}function Be(re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,oe=re[Symbol.asyncIterator];return oe?oe.call(re):(re=function qe(re){var oe="function"==typeof Symbol&&Symbol.iterator,de=oe&&re[oe],be=0;if(de)return de.call(re);if(re&&"number"==typeof re.length)return{next:function(){return re&&be>=re.length&&(re=void 0),{value:re&&re[be++],done:!re}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(re),de={},be("next"),be("throw"),be("return"),de[Symbol.asyncIterator]=function(){return this},de);function be(Me){de[Me]=re[Me]&&function(Xe){return new Promise(function(st,hn){!function Ne(Me,Xe,st,hn){Promise.resolve(hn).then(function(vt){Me({value:vt,done:st})},Xe)}(st,hn,(Xe=re[Me](Xe)).done,Xe.value)})}}}V.d(Se,{FC:()=>ve,KL:()=>Be,_T:()=>ce,mG:()=>Y,qq:()=>ye})},4650:(Et,Se,V)=>{V.d(Se,{$8M:()=>Nc,$WT:()=>H,$Z:()=>Py,AFp:()=>f0,AaK:()=>Ee,CHM:()=>w_,CRH:()=>r0,CZH:()=>um,CqO:()=>Ss,D6c:()=>R0,EJc:()=>pA,EpF:()=>ev,F4k:()=>Dh,FYo:()=>OD,FiY:()=>Iu,GfV:()=>Pu,JOm:()=>ns,KtG:()=>yd,LFG:()=>He,Lbi:()=>GT,Lck:()=>WS,MAs:()=>ui,MMx:()=>Bg,NdJ:()=>Sh,OlP:()=>Rn,P3R:()=>xD,PXZ:()=>XT,QGY:()=>Ch,Qsj:()=>zM,R0b:()=>yn,RDi:()=>ID,Rgc:()=>Wh,SBq:()=>Nu,Sil:()=>gA,Suo:()=>kl,TTD:()=>su,TgZ:()=>mg,X6Q:()=>rb,XFs:()=>ot,Xpm:()=>er,Xts:()=>cy,Y36:()=>ya,YKP:()=>IT,Yjl:()=>Ue,Yz7:()=>Ze,Z0I:()=>on,ZZ4:()=>C0,_UZ:()=>Th,_Vd:()=>Mu,_c5:()=>Jr,_uU:()=>Ca,aQg:()=>S0,c2e:()=>zT,cJS:()=>Cn,cg1:()=>On,dDg:()=>YT,dqk:()=>St,eFA:()=>eb,eJc:()=>em,eoX:()=>Ol,f3M:()=>tt,g9A:()=>Pa,h0i:()=>bl,hGG:()=>A0,iGM:()=>n0,ifc:()=>x,ip1:()=>HT,jDz:()=>Gu,kL8:()=>gl,lG2:()=>fe,lqb:()=>Ru,lri:()=>y0,n5z:()=>_u,oAB:()=>co,q4F:()=>my,qLn:()=>Cs,qZA:()=>Eh,rWj:()=>ks,sBO:()=>uf,s_b:()=>$n,soG:()=>lm,tb:()=>Ll,tp0:()=>mo,uIk:()=>Qy,vHH:()=>ie,vpe:()=>Fi,wAp:()=>Nt,z2F:()=>Zi,zSh:()=>Zp,zs3:()=>Uu});var y=V(7579),$=V(727),L=V(9751),ce=V(6451),Te=V(3099);function he(s){for(let a in s)if(s[a]===he)return a;throw Error("Could not find renamed property on target object.")}function Ee(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Ee).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function Fe(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const G=he({__forward_ref__:he});function z(s){return s.__forward_ref__=z,s.toString=function(){return Ee(this())},s}function Y(s){return Ge(s)?s():s}function Ge(s){return"function"==typeof s&&s.hasOwnProperty(G)&&s.__forward_ref__===z}function ke(s){return s&&!!s.\u0275providers}const qe="https://g.co/ng/security#xss";class ie extends Error{constructor(a,u){super(De(a,u)),this.code=a}}function De(s,a){return`NG0${Math.abs(s)}${a?": "+a.trim():""}`}function we(s){return"string"==typeof s?s:null==s?"":String(s)}function Be(s,a){throw new ie(-201,!1)}function Xe(s,a){null==s&&function st(s,a,u,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${u} ${l} ${a} <=Actual]`))}(a,s,null,"!=")}function Ze(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Cn(s){return{providers:s.providers||[],imports:s.imports||[]}}function wn(s){return nn(s,Mr)||nn(s,gn)}function on(s){return null!==wn(s)}function nn(s,a){return s.hasOwnProperty(a)?s[a]:null}function Xn(s){return s&&(s.hasOwnProperty(Hr)||s.hasOwnProperty(Mn))?s[Hr]:null}const Mr=he({\u0275prov:he}),Hr=he({\u0275inj:he}),gn=he({ngInjectableDef:he}),Mn=he({ngInjectorDef:he});var ot=(()=>((ot=ot||{})[ot.Default=0]="Default",ot[ot.Host=1]="Host",ot[ot.Self=2]="Self",ot[ot.SkipSelf=4]="SkipSelf",ot[ot.Optional=8]="Optional",ot))();let Jn;function Ln(s){const a=Jn;return Jn=s,a}function Fn(s,a,u){const l=wn(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:u&ot.Optional?null:void 0!==a?a:void Be(Ee(s))}const St=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Dn={},Un="__NG_DI_FLAG__",hr="ngTempTokenPath",Sn="ngTokenPath",Vn=/\n/gm,Ot="\u0275",zr="__source";let Vt;function Dr(s){const a=Vt;return Vt=s,a}function Bn(s,a=ot.Default){if(void 0===Vt)throw new ie(-203,!1);return null===Vt?Fn(s,void 0,a):Vt.get(s,a&ot.Optional?null:void 0,a)}function He(s,a=ot.Default){return(function dr(){return Jn}()||Bn)(Y(s),a)}function tt(s,a=ot.Default){return He(s,pt(a))}function pt(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function xt(s){const a=[];for(let u=0;u<s.length;u++){const l=Y(s[u]);if(Array.isArray(l)){if(0===l.length)throw new ie(900,!1);let h,p=ot.Default;for(let v=0;v<l.length;v++){const E=l[v],b=An(E);"number"==typeof b?-1===b?h=E.token:p|=b:h=E}a.push(He(h,p))}else a.push(He(l))}return a}function Qt(s,a){return s[Un]=a,s.prototype[Un]=a,s}function An(s){return s[Un]}function k(s){return{toString:s}.toString()}var N=(()=>((N=N||{})[N.OnPush=0]="OnPush",N[N.Default=1]="Default",N))(),x=(()=>{return(s=x||(x={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",x;var s})();const Z={},ae=[],nt=he({\u0275cmp:he}),At=he({\u0275dir:he}),kt=he({\u0275pipe:he}),Lt=he({\u0275mod:he}),Ct=he({\u0275fac:he}),_n=he({__NG_ELEMENT_ID__:he});let Ht=0;function er(s){return k(()=>{const a=at(s),u={...a,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===N.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&s.dependencies||null,getStandaloneInjector:null,data:s.data||{},encapsulation:s.encapsulation||x.Emulated,id:"c"+Ht++,styles:s.styles||ae,_:null,schemas:s.schemas||null,tView:null};Tt(u);const l=s.dependencies;return u.directiveDefs=In(l,!1),u.pipeDefs=In(l,!0),u})}function Ls(s){return ze(s)||Kt(s)}function jo(s){return null!==s}function co(s){return k(()=>({type:s.type,bootstrap:s.bootstrap||ae,declarations:s.declarations||ae,imports:s.imports||ae,exports:s.exports||ae,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function X(s,a){if(null==s)return Z;const u={};for(const l in s)if(s.hasOwnProperty(l)){let h=s[l],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),u[h]=l,a&&(a[h]=p)}return u}function fe(s){return k(()=>{const a=at(s);return Tt(a),a})}function Ue(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function ze(s){return s[nt]||null}function Kt(s){return s[At]||null}function W(s){return s[kt]||null}function H(s){const a=ze(s)||Kt(s)||W(s);return null!==a&&a.standalone}function te(s,a){const u=s[Lt]||null;if(!u&&!0===a)throw new Error(`Type ${Ee(s)} does not have '\u0275mod' property.`);return u}function at(s){const a={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,exportAs:s.exportAs||null,standalone:!0===s.standalone,selectors:s.selectors||ae,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:X(s.inputs,a),outputs:X(s.outputs)}}function Tt(s){s.features?.forEach(a=>a(s))}function In(s,a){if(!s)return null;const u=a?W:Ls;return()=>("function"==typeof s?s():s).map(l=>u(l)).filter(jo)}const Nn=0,Qe=1,$t=2,En=3,wr=4,Ii=5,pr=6,ms=7,tr=8,Ho=9,hc=10,Zt=11,Ja=12,_s=13,Pf=14,Fs=15,ti=16,Us=17,ys=18,Nr=19,Go=20,d_=21,Gt=22,eu=1,Of=2,zo=7,fc=8,Vs=9,ni=10;function ri(s){return Array.isArray(s)&&"object"==typeof s[eu]}function Pr(s){return Array.isArray(s)&&!0===s[eu]}function ad(s){return 0!=(4&s.flags)}function tu(s){return s.componentOffset>-1}function Bs(s){return 1==(1&s.flags)}function Ji(s){return!!s.template}function ud(s){return 0!=(256&s[$t])}function qo(s,a){return s.hasOwnProperty(Ct)?s[Ct]:null}class Vf{constructor(a,u,l){this.previousValue=a,this.currentValue=u,this.firstChange=l}isFirstChange(){return this.firstChange}}function su(){return gc}function gc(s){return s.type.prototype.ngOnChanges&&(s.setInput=ld),ou}function ou(){const s=mc(this),a=s?.current;if(a){const u=s.previous;if(u===Z)s.previous=a;else for(let l in a)u[l]=a[l];s.current=null,this.ngOnChanges(a)}}function ld(s,a,u,l){const h=this.declaredInputs[u],p=mc(s)||function g_(s,a){return s[Bf]=a}(s,{previous:Z,current:null}),v=p.current||(p.current={}),E=p.previous,b=E[h];v[h]=new Vf(b&&b.currentValue,a,E===Z),s[l]=a}su.ngInherit=!0;const Bf="__ngSimpleChanges__";function mc(s){return s[Bf]||null}const hi=function(s,a,u){};function nr(s){for(;Array.isArray(s);)s=s[Nn];return s}function ii(s,a){return nr(a[s.index])}function pd(s,a){return s.data[a]}function si(s,a){const u=a[s];return ri(u)?u:u[Nn]}function vc(s){return 64==(64&s[$t])}function js(s,a){return null==a?null:s[a]}function wc(s){s[ys]=0}function gd(s,a){s[Ii]+=a;let u=s,l=s[En];for(;null!==l&&(1===a&&1===u[Ii]||-1===a&&0===u[Ii]);)l[Ii]+=a,u=l,l=l[En]}const Bt={lFrame:b_(null),bindingsEnabled:!0};function _d(){return Bt.bindingsEnabled}function Ce(){return Bt.lFrame.lView}function cn(){return Bt.lFrame.tView}function w_(s){return Bt.lFrame.contextLView=s,s[tr]}function yd(s){return Bt.lFrame.contextLView=null,s}function Wr(){let s=vd();for(;null!==s&&64===s.type;)s=s.parent;return s}function vd(){return Bt.lFrame.currentTNode}function Hi(s,a){const u=Bt.lFrame;u.currentTNode=s,u.isParent=a}function Gf(){return Bt.lFrame.isParent}function Jw(s,a){const u=Bt.lFrame;u.bindingIndex=u.bindingRootIndex=s,cu(a)}function cu(s){Bt.lFrame.currentDirectiveIndex=s}function I_(){return Bt.lFrame.currentQueryIndex}function Zf(s){Bt.lFrame.currentQueryIndex=s}function eI(s){const a=s[Qe];return 2===a.type?a.declTNode:1===a.type?s[pr]:null}function E_(s,a,u){if(u&ot.SkipSelf){let h=a,p=s;for(;!(h=h.parent,null!==h||u&ot.Host||(h=eI(p),null===h||(p=p[Fs],10&h.type))););if(null===h)return!1;a=h,s=p}const l=Bt.lFrame=Yf();return l.currentTNode=a,l.lView=s,!0}function T_(s){const a=Yf(),u=s[Qe];Bt.lFrame=a,a.currentTNode=u.firstChild,a.lView=s,a.tView=u,a.contextLView=s,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function Yf(){const s=Bt.lFrame,a=null===s?null:s.child;return null===a?b_(s):a}function b_(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function C_(){const s=Bt.lFrame;return Bt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const tI=C_;function Qf(){const s=C_();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function ki(s){Bt.lFrame.selectedIndex=s}function Td(s,a){for(let u=a.directiveStart,l=a.directiveEnd;u<l;u++){const p=s.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:b,ngAfterViewChecked:D,ngOnDestroy:R}=p;v&&(s.contentHooks||(s.contentHooks=[])).push(-u,v),E&&((s.contentHooks||(s.contentHooks=[])).push(u,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,E)),b&&(s.viewHooks||(s.viewHooks=[])).push(-u,b),D&&((s.viewHooks||(s.viewHooks=[])).push(u,D),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,D)),null!=R&&(s.destroyHooks||(s.destroyHooks=[])).push(u,R)}}function Zo(s,a,u){Yo(s,a,3,u)}function lu(s,a,u,l){(3&s[$t])===u&&Yo(s,a,u,l)}function du(s,a){let u=s[$t];(3&u)===a&&(u&=2047,u+=1,s[$t]=u)}function Yo(s,a,u,l){const p=l??-1,v=a.length-1;let E=0;for(let b=void 0!==l?65535&s[ys]:0;b<v;b++)if("number"==typeof a[b+1]){if(E=a[b],null!=l&&E>=l)break}else a[b]<0&&(s[ys]+=65536),(E<p||-1==p)&&(D_(s,u,a,b),s[ys]=(4294901760&s[ys])+b+2),b++}function D_(s,a,u,l){const h=u[l]<0,p=u[l+1],E=s[h?-u[l]:u[l]];if(h){if(s[$t]>>11<s[ys]>>16&&(3&s[$t])===a){s[$t]+=2048,hi(4,E,p);try{p.call(E)}finally{hi(5,E,p)}}}else{hi(4,E,p);try{p.call(E)}finally{hi(5,E,p)}}}const Hs=-1;class Qo{constructor(a,u,l){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=l}}function Xo(s,a,u){let l=0;for(;l<u.length;){const h=u[l];if("number"==typeof h){if(0!==h)break;l++;const p=u[l++],v=u[l++],E=u[l++];s.setAttribute(a,v,E,p)}else{const p=h,v=u[++l];ea(p)?s.setProperty(a,p,v):s.setAttribute(a,p,v),l++}}return l}function Jo(s){return 3===s||4===s||6===s}function ea(s){return 64===s.charCodeAt(0)}function fo(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let u=-1;for(let l=0;l<a.length;l++){const h=a[l];"number"==typeof h?u=h:0===u||Cd(s,u,h,null,-1===u||2===u?a[++l]:null)}}return s}function Cd(s,a,u,l,h){let p=0,v=s.length;if(-1===a)v=-1;else for(;p<s.length;){const E=s[p++];if("number"==typeof E){if(E===a){v=-1;break}if(E>a){v=p-1;break}}}for(;p<s.length;){const E=s[p];if("number"==typeof E)break;if(E===u){if(null===l)return void(null!==h&&(s[p+1]=h));if(l===s[p+1])return void(s[p+2]=h)}p++,null!==l&&p++,null!==h&&p++}-1!==v&&(s.splice(v,0,a),p=v+1),s.splice(p++,0,u),null!==l&&s.splice(p++,0,l),null!==h&&s.splice(p++,0,h)}function Tc(s){return s!==Hs}function bc(s){return 32767&s}function fu(s,a){let u=function Cc(s){return s>>16}(s),l=a;for(;u>0;)l=l[Fs],u--;return l}let Gs=!0;function po(s){const a=Gs;return Gs=s,a}const pu=255,Dc=5;let gu=0;const Mi={};function ta(s,a){const u=tp(s,a);if(-1!==u)return u;const l=a[Qe];l.firstCreatePass&&(s.injectorIndex=a.length,Sc(l.data,s),Sc(a,null),Sc(l.blueprint,null));const h=Ac(s,a),p=s.injectorIndex;if(Tc(h)){const v=bc(h),E=fu(h,a),b=E[Qe].data;for(let D=0;D<8;D++)a[p+D]=E[v+D]|b[v+D]}return a[p+8]=h,p}function Sc(s,a){s.push(0,0,0,0,0,0,0,0,a)}function tp(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function Ac(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,l=null,h=a;for(;null!==h;){if(l=Rd(h),null===l)return Hs;if(u++,h=h[Fs],-1!==l.injectorIndex)return l.injectorIndex|u<<16}return Hs}function mu(s,a,u){!function Dd(s,a,u){let l;"string"==typeof u?l=u.charCodeAt(0)||0:u.hasOwnProperty(_n)&&(l=u[_n]),null==l&&(l=u[_n]=gu++);const h=l&pu;a.data[s+(h>>Dc)]|=1<<h}(s,a,u)}function Sd(s,a,u){if(u&ot.Optional||void 0!==s)return s;Be()}function np(s,a,u,l){if(u&ot.Optional&&void 0===l&&(l=null),!(u&(ot.Self|ot.Host))){const h=s[Ho],p=Ln(void 0);try{return h?h.get(a,l,u&ot.Optional):Fn(a,l,u&ot.Optional)}finally{Ln(p)}}return Sd(l,0,u)}function Rc(s,a,u,l=ot.Default,h){if(null!==s){if(1024&a[$t]){const v=function op(s,a,u,l,h){let p=s,v=a;for(;null!==p&&null!==v&&1024&v[$t]&&!(256&v[$t]);){const E=rp(p,v,u,l|ot.Self,Mi);if(E!==Mi)return E;let b=p.parent;if(!b){const D=v[d_];if(D){const R=D.get(u,Mi,l);if(R!==Mi)return R}b=Rd(v),v=v[Fs]}p=b}return h}(s,a,u,l,Mi);if(v!==Mi)return v}const p=rp(s,a,u,l,Mi);if(p!==Mi)return p}return np(a,u,l,h)}function rp(s,a,u,l,h){const p=function ip(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(_n)?s[_n]:void 0;return"number"==typeof a?a>=0?a&pu:x_:a}(u);if("function"==typeof p){if(!E_(a,s,l))return l&ot.Host?Sd(h,0,l):np(a,u,l,h);try{const v=p(l);if(null!=v||l&ot.Optional)return v;Be()}finally{tI()}}else if("number"==typeof p){let v=null,E=tp(s,a),b=Hs,D=l&ot.Host?a[ti][pr]:null;for((-1===E||l&ot.SkipSelf)&&(b=-1===E?Ac(s,a):a[E+8],b!==Hs&&sp(l,!1)?(v=a[Qe],E=bc(b),a=fu(b,a)):E=-1);-1!==E;){const R=a[Qe];if(Mc(p,E,R.data)){const F=xc(E,a,u,v,l,D);if(F!==Mi)return F}b=a[E+8],b!==Hs&&sp(l,a[Qe].data[E+8]===D)&&Mc(p,E,a)?(v=R,E=bc(b),a=fu(b,a)):E=-1}}return h}function xc(s,a,u,l,h,p){const v=a[Qe],E=v.data[s+8],R=kc(E,v,u,null==l?tu(E)&&Gs:l!=v&&0!=(3&E.type),h&ot.Host&&p===E);return null!==R?na(a,v,R,E):Mi}function kc(s,a,u,l,h){const p=s.providerIndexes,v=a.data,E=1048575&p,b=s.directiveStart,R=p>>20,q=h?E+R:s.directiveEnd;for(let ee=l?E:E+R;ee<q;ee++){const ge=v[ee];if(ee<b&&u===ge||ee>=b&&ge.type===u)return ee}if(h){const ee=v[b];if(ee&&Ji(ee)&&ee.type===u)return b}return null}function na(s,a,u,l){let h=s[u];const p=a.data;if(function S_(s){return s instanceof Qo}(h)){const v=h;v.resolving&&function ye(s,a){const u=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new ie(-200,`Circular dependency in DI detected for ${s}${u}`)}(function Ae(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():we(s)}(p[u]));const E=po(v.canSeeViewProviders);v.resolving=!0;const b=v.injectImpl?Ln(v.injectImpl):null;E_(s,l,ot.Default);try{h=s[u]=v.factory(void 0,p,s,l),a.firstCreatePass&&u>=l.directiveStart&&function Jf(s,a,u){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:p}=a.type.prototype;if(l){const v=gc(a);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,v)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,h),p&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,p),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,p))}(u,p[u],a)}finally{null!==b&&Ln(b),po(E),v.resolving=!1,tI()}}return h}function Mc(s,a,u){return!!(u[a+(s>>Dc)]&1<<s)}function sp(s,a){return!(s&ot.Self||s&ot.Host&&a)}class ra{constructor(a,u){this._tNode=a,this._lView=u}get(a,u,l){return Rc(this._tNode,this._lView,a,pt(l),u)}}function x_(){return new ra(Wr(),Ce())}function _u(s){return k(()=>{const a=s.prototype.constructor,u=a[Ct]||Ad(a),l=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==l;){const p=h[Ct]||Ad(h);if(p&&p!==u)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function Ad(s){return Ge(s)?()=>{const a=Ad(Y(s));return a&&a()}:qo(s)}function Rd(s){const a=s[Qe],u=a.type;return 2===u?a.declTNode:1===u?s[pr]:null}function Nc(s){return function R_(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const u=s.attrs;if(u){const l=u.length;let h=0;for(;h<l;){const p=u[h];if(Jo(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<l&&"string"==typeof u[h];)h++;else{if(p===a)return u[h+1];h+=2}}}return null}(Wr(),s)}const sa="__parameters__";function ws(s,a,u){return k(()=>{const l=function xd(s){return function(...u){if(s){const l=s(...u);for(const h in l)this[h]=l[h]}}}(a);function h(...p){if(this instanceof h)return l.apply(this,p),this;const v=new h(...p);return E.annotation=v,E;function E(b,D,R){const F=b.hasOwnProperty(sa)?b[sa]:Object.defineProperty(b,sa,{value:[]})[sa];for(;F.length<=R;)F.push(null);return(F[R]=F[R]||[]).push(v),b}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Rn{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Ze({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function aa(s,a){s.forEach(u=>Array.isArray(u)?aa(u,a):a(u))}function O_(s,a,u){a>=s.length?s.push(u):s.splice(a,0,u)}function wu(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}const Iu=Qt(ws("Optional"),8),mo=Qt(ws("SkipSelf"),4);var ns=(()=>((ns=ns||{})[ns.Important=1]="Important",ns[ns.DashCase=2]="DashCase",ns))();const Gc=new Map;let ca=0;const zd="__ngContext__";function qr(s,a){ri(a)?(s[zd]=a[Go],function H_(s){Gc.set(s[Go],s)}(a)):s[zd]=a}let pe;function ut(s,a){return pe(s,a)}function zt(s){const a=s[En];return Pr(a)?a[En]:a}function Pi(s){return Cu(s[_s])}function zs(s){return Cu(s[wr])}function Cu(s){for(;null!==s&&!Pr(s);)s=s[wr];return s}function is(s,a,u,l,h){if(null!=l){let p,v=!1;Pr(l)?p=l:ri(l)&&(v=!0,l=l[Nn]);const E=nr(l);0===s&&null!==u?null==h?bI(a,u,E):ha(a,u,E,h||null,!0):1===s&&null!==u?ha(a,u,E,h||null,!0):2===s?function Xd(s,a,u){const l=qc(s,a);l&&function mD(s,a,u,l){s.removeChild(a,u,l)}(s,l,a,u)}(a,E,v):3===s&&a.destroyNode(E),null!=p&&function wD(s,a,u,l,h){const p=u[zo];p!==nr(u)&&is(a,s,l,p,h);for(let E=ni;E<u.length;E++){const b=u[E];Zc(b[Qe],b,s,a,l,p)}}(a,s,p,u,h)}}function da(s,a,u){return s.createElement(a,u)}function wI(s,a){const u=s[Vs],l=u.indexOf(a),h=a[En];512&a[$t]&&(a[$t]&=-513,gd(h,-1)),u.splice(l,1)}function Qd(s,a){if(s.length<=ni)return;const u=ni+a,l=s[u];if(l){const h=l[Us];null!==h&&h!==s&&wI(h,l),a>0&&(s[u-1][wr]=l[wr]);const p=wu(s,ni+a);!function Kd(s,a){Zc(s,a,a[Zt],2,null,null),a[Nn]=null,a[pr]=null}(l[Qe],l);const v=p[Nr];null!==v&&v.detachView(p[Qe]),l[En]=null,l[wr]=null,l[$t]&=-65}return l}function II(s,a){if(!(128&a[$t])){const u=a[Zt];u.destroyNode&&Zc(s,a,u,3,null,null),function Zd(s){let a=s[_s];if(!a)return Ap(s[Qe],s);for(;a;){let u=null;if(ri(a))u=a[_s];else{const l=a[ni];l&&(u=l)}if(!u){for(;a&&!a[wr]&&a!==s;)ri(a)&&Ap(a[Qe],a),a=a[En];null===a&&(a=s),ri(a)&&Ap(a[Qe],a),u=a&&a[wr]}a=u}}(a)}}function Ap(s,a){if(!(128&a[$t])){a[$t]&=-65,a[$t]|=128,function gD(s,a){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let l=0;l<u.length;l+=2){const h=a[u[l]];if(!(h instanceof Qo)){const p=u[l+1];if(Array.isArray(p))for(let v=0;v<p.length;v+=2){const E=h[p[v]],b=p[v+1];hi(4,E,b);try{b.call(E)}finally{hi(5,E,b)}}else{hi(4,h,p);try{p.call(h)}finally{hi(5,h,p)}}}}}(s,a),function pD(s,a){const u=s.cleanup,l=a[ms];let h=-1;if(null!==u)for(let p=0;p<u.length-1;p+=2)if("string"==typeof u[p]){const v=u[p+3];v>=0?l[h=v]():l[h=-v].unsubscribe(),p+=2}else{const v=l[h=u[p+1]];u[p].call(v)}if(null!==l){for(let p=h+1;p<l.length;p++)(0,l[p])();a[ms]=null}}(s,a),1===a[Qe].type&&a[Zt].destroy();const u=a[Us];if(null!==u&&Pr(a[En])){u!==a[En]&&wI(u,a);const l=a[Nr];null!==l&&l.detachView(s)}!function G_(s){Gc.delete(s[Go])}(a)}}function EI(s,a,u){return function TI(s,a,u){let l=a;for(;null!==l&&40&l.type;)l=(a=l).parent;if(null===l)return u[Nn];{const{componentOffset:h}=l;if(h>-1){const{encapsulation:p}=s.data[l.directiveStart+h];if(p===x.None||p===x.Emulated)return null}return ii(l,u)}}(s,a.parent,u)}function ha(s,a,u,l,h){s.insertBefore(a,u,l,h)}function bI(s,a,u){s.appendChild(a,u)}function Rp(s,a,u,l,h){null!==l?ha(s,a,u,l,h):bI(s,a,u)}function qc(s,a){return s.parentNode(a)}let Mp,K_,Vp,kp=function CI(s,a,u){return 40&s.type?ii(s,u):null};function Pp(s,a,u,l){const h=EI(s,l,a),p=a[Zt],E=function xp(s,a,u){return kp(s,a,u)}(l.parent||a[pr],l,a);if(null!=h)if(Array.isArray(u))for(let b=0;b<u.length;b++)Rp(p,h,u[b],E,!1);else Rp(p,h,u,E,!1);void 0!==Mp&&Mp(p,l,a,u,h)}function Kc(s,a){if(null!==a){const u=a.type;if(3&u)return ii(a,s);if(4&u)return z_(-1,s[a.index]);if(8&u){const l=a.child;if(null!==l)return Kc(s,l);{const h=s[a.index];return Pr(h)?z_(-1,h):nr(h)}}if(32&u)return ut(a,s)()||nr(s[a.index]);{const l=DI(s,a);return null!==l?Array.isArray(l)?l[0]:Kc(zt(s[ti]),l):Kc(s,a.next)}}return null}function DI(s,a){return null!==a?s[ti][pr].projection[a.projection]:null}function z_(s,a){const u=ni+s+1;if(u<a.length){const l=a[u],h=l[Qe].firstChild;if(null!==h)return Kc(l,h)}return a[zo]}function Op(s,a,u,l,h,p,v){for(;null!=u;){const E=l[u.index],b=u.type;if(v&&0===a&&(E&&qr(nr(E),l),u.flags|=2),32!=(32&u.flags))if(8&b)Op(s,a,u.child,l,h,p,!1),is(a,s,h,E,p);else if(32&b){const D=ut(u,l);let R;for(;R=D();)is(a,s,h,R,p);is(a,s,h,E,p)}else 16&b?SI(s,a,l,u,h,p):is(a,s,h,E,p);u=v?u.projectionNext:u.next}}function Zc(s,a,u,l,h,p){Op(u,l,s.firstChild,a,h,p,!1)}function SI(s,a,u,l,h,p){const v=u[ti],b=v[pr].projection[l.projection];if(Array.isArray(b))for(let D=0;D<b.length;D++)is(a,s,h,b[D],p);else Op(s,a,b,v[En],h,p,!0)}function RI(s,a,u){""===u?s.removeAttribute(a,"class"):s.setAttribute(a,"class",u)}function Lp(s,a,u){const{mergedAttrs:l,classes:h,styles:p}=u;null!==l&&Xo(s,a,l),null!==h&&RI(s,a,h),null!==p&&function W_(s,a,u){s.setAttribute(a,"style",u)}(s,a,p)}function ID(s){K_=s}function MI(s){return function Bp(){if(void 0===Vp&&(Vp=null,St.trustedTypes))try{Vp=St.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Vp}()?.createScriptURL(s)||s}class NI{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qe})`}}function fa(s){return s instanceof NI?s.changingThisBreaksApplicationSecurity:s}function eh(s,a){const u=function CD(s){return s instanceof NI&&s.getTypeName()||null}(s);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see ${qe})`)}return u===a}const J_=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Rr=(()=>((Rr=Rr||{})[Rr.NONE=0]="NONE",Rr[Rr.HTML=1]="HTML",Rr[Rr.STYLE=2]="STYLE",Rr[Rr.SCRIPT=3]="SCRIPT",Rr[Rr.URL=4]="URL",Rr[Rr.RESOURCE_URL=5]="RESOURCE_URL",Rr))();function ay(s){const a=zp();return a?a.sanitize(Rr.URL,s)||"":eh(s,"URL")?fa(s):function $p(s){return(s=String(s)).match(J_)?s:"unsafe:"+s}(we(s))}function rh(s){const a=zp();if(a)return MI(a.sanitize(Rr.RESOURCE_URL,s)||"");if(eh(s,"ResourceURL"))return MI(fa(s));throw new ie(904,!1)}function xD(s,a,u){return function uy(s,a){return"src"===a&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===a&&("base"===s||"link"===s)?rh:ay}(a,u)(s)}function zp(){const s=Ce();return s&&s[Ja]}const cy=new Rn("ENVIRONMENT_INITIALIZER"),HI=new Rn("INJECTOR",-1),Wp=new Rn("INJECTOR_DEF_TYPES");class kD{get(a,u=Dn){if(u===Dn){const l=new Error(`NullInjectorError: No provider for ${Ee(a)}!`);throw l.name="NullInjectorError",l}return u}}function jM(...s){return{\u0275providers:MD(0,s),\u0275fromNgModule:!0}}function MD(s,...a){const u=[],l=new Set;let h;return aa(a,p=>{const v=p;ly(v,u,[],l)&&(h||(h=[]),h.push(v))}),void 0!==h&&ND(h,u),u}function ND(s,a){for(let u=0;u<s.length;u++){const{providers:h}=s[u];qp(h,p=>{a.push(p)})}}function ly(s,a,u,l){if(!(s=Y(s)))return!1;let h=null,p=Xn(s);const v=!p&&ze(s);if(p||v){if(v&&!v.standalone)return!1;h=s}else{const b=s.ngModule;if(p=Xn(b),!p)return!1;h=b}const E=l.has(h);if(v){if(E)return!1;if(l.add(h),v.dependencies){const b="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const D of b)ly(D,a,u,l)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let D;l.add(h);try{aa(p.imports,R=>{ly(R,a,u,l)&&(D||(D=[]),D.push(R))})}finally{}void 0!==D&&ND(D,a)}if(!E){const D=qo(h)||(()=>new h);a.push({provide:h,useFactory:D,deps:ae},{provide:Wp,useValue:h,multi:!0},{provide:cy,useValue:()=>He(h),multi:!0})}const b=p.providers;null==b||E||qp(b,R=>{a.push(R)})}}return h!==s&&void 0!==s.providers}function qp(s,a){for(let u of s)ke(u)&&(u=u.\u0275providers),Array.isArray(u)?qp(u,a):a(u)}const GI=he({provide:String,useValue:he});function dy(s){return null!==s&&"object"==typeof s&&GI in s}function Ws(s){return"function"==typeof s}const Zp=new Rn("Set Injector scope."),Yp={},hy={};let Au;function ih(){return void 0===Au&&(Au=new kD),Au}class Ru{}class WI extends Ru{get destroyed(){return this._destroyed}constructor(a,u,l,h){super(),this.parent=u,this.source=l,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gn(a,v=>this.processProvider(v)),this.records.set(HI,Io(void 0,this)),h.has("environment")&&this.records.set(Ru,Io(void 0,this));const p=this.records.get(Zp);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Wp.multi,ae,ot.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const u=Dr(this),l=Ln(void 0);try{return a()}finally{Dr(u),Ln(l)}}get(a,u=Dn,l=ot.Default){this.assertNotDestroyed(),l=pt(l);const h=Dr(this),p=Ln(void 0);try{if(!(l&ot.SkipSelf)){let E=this.records.get(a);if(void 0===E){const b=function xu(s){return"function"==typeof s||"object"==typeof s&&s instanceof Rn}(a)&&wn(a);E=b&&this.injectableDefInScope(b)?Io(qI(a),Yp):null,this.records.set(a,E)}if(null!=E)return this.hydrate(a,E)}return(l&ot.Self?ih():this.parent).get(a,u=l&ot.Optional&&u===Dn?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[hr]=v[hr]||[]).unshift(Ee(a)),h)throw v;return function j(s,a,u,l){const h=s[hr];throw a[zr]&&h.unshift(a[zr]),s.message=function B(s,a,u,l=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==Ot?s.slice(2):s;let h=Ee(a);if(Array.isArray(a))h=a.map(Ee).join(" -> ");else if("object"==typeof a){let p=[];for(let v in a)if(a.hasOwnProperty(v)){let E=a[v];p.push(v+":"+("string"==typeof E?JSON.stringify(E):Ee(E)))}h=`{${p.join(", ")}}`}return`${u}${l?"("+l+")":""}[${h}]: ${s.replace(Vn,"\n  ")}`}("\n"+s.message,h,u,l),s[Sn]=h,s[hr]=null,s}(v,a,"R3InjectorError",this.source)}throw v}finally{Ln(p),Dr(h)}}resolveInjectorInitializers(){const a=Dr(this),u=Ln(void 0);try{const l=this.get(cy.multi,ae,ot.Self);for(const h of l)h()}finally{Dr(a),Ln(u)}}toString(){const a=[],u=this.records;for(const l of u.keys())a.push(Ee(l));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ie(205,!1)}processProvider(a){let u=Ws(a=Y(a))?a:Y(a&&a.provide);const l=function HM(s){return dy(s)?Io(void 0,s.useValue):Io(function fi(s,a,u){let l;if(Ws(s)){const h=Y(s);return qo(h)||qI(h)}if(dy(s))l=()=>Y(s.useValue);else if(function zI(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...xt(s.deps||[]));else if(function Kp(s){return!(!s||!s.useExisting)}(s))l=()=>He(Y(s.useExisting));else{const h=Y(s&&(s.useClass||s.provide));if(!function Fr(s){return!!s.deps}(s))return qo(h)||qI(h);l=()=>new h(...xt(s.deps))}return l}(s),Yp)}(a);if(Ws(a)||!0!==a.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=Io(void 0,Yp,!0),h.factory=()=>xt(h.multi),this.records.set(u,h)),u=a,h.multi.push(a)}this.records.set(u,l)}hydrate(a,u){return u.value===Yp&&(u.value=hy,u.value=u.factory()),"object"==typeof u.value&&u.value&&function xr(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(a){if(!a.providedIn)return!1;const u=Y(a.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function qI(s){const a=wn(s),u=null!==a?a.factory:qo(s);if(null!==u)return u;if(s instanceof Rn)throw new ie(204,!1);if(s instanceof Function)return function fy(s){const a=s.length;if(a>0)throw function Oc(s,a){const u=[];for(let l=0;l<s;l++)u.push(a);return u}(a,"?"),new ie(204,!1);const u=function Qn(s){const a=s&&(s[Mr]||s[gn]);return a?(function kr(s){if(s.hasOwnProperty("name"))return s.name;(""+s).match(/^function\s*([^\s(]+)/)}(s),a):null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new ie(204,!1)}function Io(s,a,u=!1){return{factory:s,value:a,multi:u?[]:void 0}}function Gn(s,a){for(const u of s)Array.isArray(u)?Gn(u,a):u&&ke(u)?Gn(u.\u0275providers,a):a(u)}class ku{}class Yc{}class py{resolveComponentFactory(a){throw function Qc(s){const a=Error(`No component factory found for ${Ee(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let Mu=(()=>{class s{}return s.NULL=new py,s})();function gy(){return pa(Wr(),Ce())}function pa(s,a){return new Nu(ii(s,a))}let Nu=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=gy,s})();function GM(s){return s instanceof Nu?s.nativeElement:s}class OD{}let zM=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Xp(){const s=Ce(),u=si(Wr().index,s);return(ri(u)?u:s)[Zt]}(),s})(),Jp=(()=>{class s{}return s.\u0275prov=Ze({token:s,providedIn:"root",factory:()=>null}),s})();class Pu{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const my=new Pu("15.2.4"),_y={},ga="ngOriginalError";function yy(s){return s[ga]}class Cs{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a);this._console.error("ERROR",a),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(a){let u=a&&yy(a);for(;u&&yy(u);)u=yy(u);return u||null}}function _a(s){return s instanceof Function?s():s}function QI(s,a,u){let l=s.length;for(;;){const h=s.indexOf(a,u);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=a.length;if(h+p===l||s.charCodeAt(h+p)<=32)return h}u=h+1}}const VD="ng-template";function YM(s,a,u){let l=0,h=!0;for(;l<s.length;){let p=s[l++];if("string"==typeof p&&h){const v=s[l++];if(u&&"class"===p&&-1!==QI(v.toLowerCase(),a,0))return!0}else{if(1===p){for(;l<s.length&&"string"==typeof(p=s[l++]);)if(p.toLowerCase()===a)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function BD(s){return 4===s.type&&s.value!==VD}function $D(s,a,u){return a===(4!==s.type||u?s.value:VD)}function QM(s,a,u){let l=4;const h=s.attrs||[],p=function jD(s){for(let a=0;a<s.length;a++)if(Jo(s[a]))return a;return s.length}(h);let v=!1;for(let E=0;E<a.length;E++){const b=a[E];if("number"!=typeof b){if(!v)if(4&l){if(l=2|1&l,""!==b&&!$D(s,b,u)||""===b&&1===a.length){if(Ks(l))return!1;v=!0}}else{const D=8&l?b:a[++E];if(8&l&&null!==s.attrs){if(!YM(s.attrs,D,u)){if(Ks(l))return!1;v=!0}continue}const F=XM(8&l?"class":b,h,BD(s),u);if(-1===F){if(Ks(l))return!1;v=!0;continue}if(""!==D){let q;q=F>p?"":h[F+1].toLowerCase();const ee=8&l?q:null;if(ee&&-1!==QI(ee,D,0)||2&l&&D!==q){if(Ks(l))return!1;v=!0}}}}else{if(!v&&!Ks(l)&&!Ks(b))return!1;if(v&&Ks(b))continue;v=!1,l=b|1&l}}return Ks(l)||v}function Ks(s){return 0==(1&s)}function XM(s,a,u,l){if(null===a)return-1;let h=0;if(l||!u){let p=!1;for(;h<a.length;){const v=a[h];if(v===s)return h;if(3===v||6===v)p=!0;else{if(1===v||2===v){let E=a[++h];for(;"string"==typeof E;)E=a[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=p?1:2}return-1}return function ai(s,a){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const l=s[u];if("number"==typeof l)return-1;if(l===a)return u;u++}return-1}(a,s)}function eg(s,a,u=!1){for(let l=0;l<a.length;l++)if(QM(s,a[l],u))return!0;return!1}function sh(s,a){return s?":not("+a.trim()+")":a}function wy(s){let a=s[0],u=1,l=2,h="",p=!1;for(;u<s.length;){let v=s[u];if("string"==typeof v)if(2&l){const E=s[++u];h+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&l?h+="."+v:4&l&&(h+=" "+v);else""!==h&&!Ks(v)&&(a+=sh(p,h),h=""),l=v,p=p||!Ks(l);u++}return""!==h&&(a+=sh(p,h)),a}const Xt={};function rg(s,a=null,u=null,l){const h=rE(s,a,u,l);return h.resolveInjectorInitializers(),h}function rE(s,a=null,u=null,l,h=new Set){const p=[u||ae,jM(s)];return l=l||("object"==typeof s?void 0:Ee(s)),new WI(p,a||ih(),l||null,h)}let Uu=(()=>{class s{static create(u,l){if(Array.isArray(u))return rg({name:""},l,u,"");{const h=u.name??"";return rg({name:h},u.parent,u.providers,h)}}}return s.THROW_IF_NOT_FOUND=Dn,s.NULL=new kD,s.\u0275prov=Ze({token:s,providedIn:"any",factory:()=>He(HI)}),s.__NG_ELEMENT_ID__=-1,s})();function ya(s,a=ot.Default){const u=Ce();return null===u?He(s,a):Rc(Wr(),u,Y(s),a)}function Py(){throw new Error("invalid")}function Oy(s,a){const u=s.contentQueries;if(null!==u)for(let l=0;l<u.length;l+=2){const p=u[l+1];if(-1!==p){const v=s.data[p];Zf(u[l]),v.contentQueries(2,a[p],p)}}}function sg(s,a,u,l,h,p,v,E,b,D,R){const F=a.blueprint.slice();return F[Nn]=h,F[$t]=76|l,(null!==R||s&&1024&s[$t])&&(F[$t]|=1024),wc(F),F[En]=F[Fs]=s,F[tr]=u,F[hc]=v||s&&s[hc],F[Zt]=E||s&&s[Zt],F[Ja]=b||s&&s[Ja]||null,F[Ho]=D||s&&s[Ho]||null,F[pr]=p,F[Go]=function rs(){return ca++}(),F[d_]=R,F[ti]=2==a.type?s[ti]:F,F}function nl(s,a,u,l,h){let p=s.data[a];if(null===p)p=function Ly(s,a,u,l,h){const p=vd(),v=Gf(),b=s.data[a]=function rS(s,a,u,l,h,p){return{type:u,index:l,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?p:p&&p.parent,u,a,l,h);return null===s.firstChild&&(s.firstChild=b),null!==p&&(v?null==p.child&&null!==b.parent&&(p.child=b):null===p.next&&(p.next=b,b.prev=p)),b}(s,a,u,l,h),function Id(){return Bt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=u,p.value=l,p.attrs=h;const v=function au(){const s=Bt.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();p.injectorIndex=null===v?-1:v.injectorIndex}return Hi(p,!0),p}function ah(s,a,u,l){if(0===u)return-1;const h=a.length;for(let p=0;p<u;p++)a.push(l),s.blueprint.push(l),s.data.push(null);return h}function Fy(s,a,u){T_(a);try{const l=s.viewQuery;null!==l&&Bu(1,l,u);const h=s.template;null!==h&&lE(s,a,h,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Oy(s,a),s.staticViewQueries&&Bu(2,s.viewQuery,u);const p=s.components;null!==p&&function cE(s,a){for(let u=0;u<a.length;u++)lN(s,a[u])}(a,p)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{a[$t]&=-5,Qf()}}function og(s,a,u,l){const h=a[$t];if(128!=(128&h)){T_(a);try{wc(a),function wd(s){return Bt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&lE(s,a,u,2,l);const v=3==(3&h);if(v){const D=s.preOrderCheckHooks;null!==D&&Zo(a,D,null)}else{const D=s.preOrderHooks;null!==D&&lu(a,D,0,null),du(a,0)}if(function uN(s){for(let a=Pi(s);null!==a;a=zs(a)){if(!a[Of])continue;const u=a[Vs];for(let l=0;l<u.length;l++){const h=u[l];512&h[$t]||gd(h[En],1),h[$t]|=512}}}(a),function aN(s){for(let a=Pi(s);null!==a;a=zs(a))for(let u=ni;u<a.length;u++){const l=a[u],h=l[Qe];vc(l)&&og(h,l,h.template,l[tr])}}(a),null!==s.contentQueries&&Oy(s,a),v){const D=s.contentCheckHooks;null!==D&&Zo(a,D)}else{const D=s.contentHooks;null!==D&&lu(a,D,1),du(a,1)}!function tS(s,a){const u=s.hostBindingOpCodes;if(null!==u)try{for(let l=0;l<u.length;l++){const h=u[l];if(h<0)ki(~h);else{const p=h,v=u[++l],E=u[++l];Jw(v,p),E(2,a[p])}}}finally{ki(-1)}}(s,a);const E=s.components;null!==E&&function tl(s,a){for(let u=0;u<a.length;u++)cN(s,a[u])}(a,E);const b=s.viewQuery;if(null!==b&&Bu(2,b,l),v){const D=s.viewCheckHooks;null!==D&&Zo(a,D)}else{const D=s.viewHooks;null!==D&&lu(a,D,2),du(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[$t]&=-41,512&a[$t]&&(a[$t]&=-513,gd(a[En],-1))}finally{Qf()}}}function lE(s,a,u,l,h){const p=function Or(){return Bt.lFrame.selectedIndex}(),v=2&l;try{ki(-1),v&&a.length>Gt&&function eE(s,a,u,l){if(!l)if(3==(3&a[$t])){const p=s.preOrderCheckHooks;null!==p&&Zo(a,p,u)}else{const p=s.preOrderHooks;null!==p&&lu(a,p,0,u)}ki(u)}(s,a,Gt,!1),hi(v?2:0,h),u(l,h)}finally{ki(p),hi(v?3:1,h)}}function Uy(s,a,u){if(ad(a)){const h=a.directiveEnd;for(let p=a.directiveStart;p<h;p++){const v=s.data[p];v.contentQueries&&v.contentQueries(1,u[p],p)}}}function By(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=ag(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function ag(s,a,u,l,h,p,v,E,b,D){const R=Gt+l,F=R+h,q=function $y(s,a){const u=[];for(let l=0;l<a;l++)u.push(l<s?null:Xt);return u}(R,F),ee="function"==typeof D?D():D;return q[Qe]={type:s,blueprint:q,template:u,queries:null,viewQuery:E,declTNode:a,data:q.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:b,consts:ee,incompleteFirstPass:!1}}function dE(s,a,u,l){const h=lS(a);null===u?h.push(l):(h.push(u),s.firstCreatePass&&dg(s).push(l,h.length-1))}function jy(s,a,u,l){for(let h in s)if(s.hasOwnProperty(h)){u=null===u?{}:u;const p=s[h];null===l?Hy(u,a,h,p):l.hasOwnProperty(h)&&Hy(u,a,l[h],p)}return u}function Hy(s,a,u,l){s.hasOwnProperty(u)?s[u].push(a,l):s[u]=[a,l]}function ug(s,a,u,l,h,p){for(let D=0;D<l.length;D++)mu(ta(u,a),s,l[D].type);!function rN(s,a,u){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+u,s.providerIndexes=a}(u,s.data.length,l.length);for(let D=0;D<l.length;D++){const R=l[D];R.providersResolver&&R.providersResolver(R)}let v=!1,E=!1,b=ah(s,a,l.length,null);for(let D=0;D<l.length;D++){const R=l[D];u.mergedAttrs=fo(u.mergedAttrs,R.hostAttrs),aS(s,u,a,b,R),zy(b,R,h),null!==R.contentQueries&&(u.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(u.flags|=64);const F=R.type.prototype;!v&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),v=!0),!E&&(F.ngOnChanges||F.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),E=!0),b++}!function hE(s,a,u){const h=a.directiveEnd,p=s.data,v=a.attrs,E=[];let b=null,D=null;for(let R=a.directiveStart;R<h;R++){const F=p[R],q=u?u.get(F):null,ge=q?q.outputs:null;b=jy(F.inputs,R,b,q?q.inputs:null),D=jy(F.outputs,R,D,ge);const je=null===b||null===v||BD(a)?null:oN(b,R,v);E.push(je)}null!==b&&(b.hasOwnProperty("class")&&(a.flags|=8),b.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=E,a.inputs=b,a.outputs=D}(s,u,p)}function mE(s,a,u){const l=u.directiveStart,h=u.directiveEnd,p=u.index,v=function Ko(){return Bt.lFrame.currentDirectiveIndex}();try{ki(p);for(let E=l;E<h;E++){const b=s.data[E],D=a[E];cu(E),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&_E(b,D)}}finally{ki(-1),cu(v)}}function _E(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function va(s,a,u){a.componentOffset=u,(s.components||(s.components=[])).push(a.index)}function zy(s,a,u){if(u){if(a.exportAs)for(let l=0;l<a.exportAs.length;l++)u[a.exportAs[l]]=s;Ji(a)&&(u[""]=s)}}function aS(s,a,u,l,h){s.data[l]=h;const p=h.factory||(h.factory=qo(h.type)),v=new Qo(p,Ji(h),ya);s.blueprint[l]=v,u[l]=v,function tN(s,a,u,l,h){const p=h.hostBindings;if(p){let v=s.hostBindingOpCodes;null===v&&(v=s.hostBindingOpCodes=[]);const E=~a.index;(function oS(s){let a=s.length;for(;a>0;){const u=s[--a];if("number"==typeof u&&u<0)return u}return 0})(v)!=E&&v.push(E),v.push(u,l,p)}}(s,a,l,ah(s,u,h.hostVars,Xt),h)}function Zs(s,a,u,l,h,p){const v=ii(s,a);!function Wy(s,a,u,l,h,p,v){if(null==p)s.removeAttribute(a,h,u);else{const E=null==v?we(p):v(p,l||"",h);s.setAttribute(a,h,E,u)}}(a[Zt],v,p,s.value,u,l,h)}function sN(s,a,u,l,h,p){const v=p[a];if(null!==v){const E=l.setInput;for(let b=0;b<v.length;){const D=v[b++],R=v[b++],F=v[b++];null!==E?l.setInput(u,F,D,R):u[R]=F}}}function oN(s,a,u){let l=null,h=0;for(;h<u.length;){const p=u[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(s.hasOwnProperty(p)){null===l&&(l=[]);const v=s[p];for(let E=0;E<v.length;E+=2)if(v[E]===a){l.push(p,v[E+1],u[h+1]);break}}h+=2}else h+=2;else h+=4}return l}function cN(s,a){const u=si(a,s);if(vc(u)){const l=u[Qe];48&u[$t]?og(l,u,l.template,u[tr]):u[Ii]>0&&vE(u)}}function vE(s){for(let l=Pi(s);null!==l;l=zs(l))for(let h=ni;h<l.length;h++){const p=l[h];if(vc(p))if(512&p[$t]){const v=p[Qe];og(v,p,v.template,p[tr])}else p[Ii]>0&&vE(p)}const u=s[Qe].components;if(null!==u)for(let l=0;l<u.length;l++){const h=si(u[l],s);vc(h)&&h[Ii]>0&&vE(h)}}function lN(s,a){const u=si(a,s),l=u[Qe];(function uh(s,a){for(let u=a.length;u<s.blueprint.length;u++)a.push(s.blueprint[u])})(l,u),Fy(l,u,u[tr])}function cg(s,a){return s[_s]?s[Pf][wr]=a:s[_s]=a,s[Pf]=a,a}function lg(s){for(;s;){s[$t]|=32;const a=zt(s);if(ud(s)&&!a)return s;s=a}return null}function qy(s,a,u,l=!0){const h=a[hc];h.begin&&h.begin();try{og(s,a,s.template,u)}catch(v){throw l&&IE(a,v),v}finally{h.end&&h.end()}}function Bu(s,a,u){Zf(0),a(s,u)}function lS(s){return s[ms]||(s[ms]=[])}function dg(s){return s.cleanup||(s.cleanup=[])}function IE(s,a){const u=s[Ho],l=u?u.get(Cs,null):null;l&&l.handleError(a)}function Ky(s,a,u,l,h){for(let p=0;p<u.length;){const v=u[p++],E=u[p++],b=a[v],D=s.data[v];null!==D.setInput?D.setInput(b,h,l,E):b[E]=h}}function hg(s,a,u){let l=u?s.styles:null,h=u?s.classes:null,p=0;if(null!==a)for(let v=0;v<a.length;v++){const E=a[v];"number"==typeof E?p=E:1==p?h=Fe(h,E):2==p&&(l=Fe(l,E+": "+a[++v]+";"))}u?s.styles=l:s.stylesWithoutHost=l,u?s.classes=h:s.classesWithoutHost=h}function fg(s,a,u,l,h=!1){for(;null!==u;){const p=a[u.index];if(null!==p&&l.push(nr(p)),Pr(p))for(let E=ni;E<p.length;E++){const b=p[E],D=b[Qe].firstChild;null!==D&&fg(b[Qe],b,D,l)}const v=u.type;if(8&v)fg(s,a,u.child,l);else if(32&v){const E=ut(u,a);let b;for(;b=E();)l.push(b)}else if(16&v){const E=DI(a,u);if(Array.isArray(E))l.push(...E);else{const b=zt(a[ti]);fg(b[Qe],b,E,l,!0)}}u=h?u.projectionNext:u.next}return l}class il{get rootNodes(){const a=this._lView,u=a[Qe];return fg(u,a,u.firstChild,[])}constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[tr]}set context(a){this._lView[tr]=a}get destroyed(){return 128==(128&this._lView[$t])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[En];if(Pr(a)){const u=a[fc],l=u?u.indexOf(this):-1;l>-1&&(Qd(a,l),wu(u,l))}this._attachedToViewContainer=!1}II(this._lView[Qe],this._lView)}onDestroy(a){dE(this._lView[Qe],this._lView,null,a)}markForCheck(){lg(this._cdRefInjectingView||this._lView)}detach(){this._lView[$t]&=-65}reattach(){this._lView[$t]|=64}detectChanges(){qy(this._lView[Qe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Sp(s,a){Zc(s,a,a[Zt],2,null,null)}(this._lView[Qe],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new ie(902,!1);this._appRef=a}}class dS extends il{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;qy(a[Qe],a,a[tr],!1)}checkNoChanges(){}get context(){return null}}class hS extends Mu{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=ze(a);return new pg(u,this.ngModule)}}function fS(s){const a=[];for(let u in s)s.hasOwnProperty(u)&&a.push({propName:s[u],templateName:u});return a}class hN{constructor(a,u){this.injector=a,this.parentInjector=u}get(a,u,l){l=pt(l);const h=this.injector.get(a,_y,l);return h!==_y||u===_y?h:this.parentInjector.get(a,u,l)}}class pg extends Yc{get inputs(){return fS(this.componentDef.inputs)}get outputs(){return fS(this.componentDef.outputs)}constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=function GD(s){return s.map(wy).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}create(a,u,l,h){let p=(h=h||this.ngModule)instanceof Ru?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const v=p?new hN(a,p):a,E=v.get(OD,null);if(null===E)throw new ie(407,!1);const b=v.get(Jp,null),D=E.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",F=l?function nS(s,a,u){return s.selectRootElement(a,u===x.ShadowDom)}(D,l,this.componentDef.encapsulation):da(D,R,function dN(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(R)),q=this.componentDef.onPush?288:272,ee=ag(0,null,null,1,0,null,null,null,null,null),ge=sg(null,ee,null,q,null,null,E,D,b,v,null);let je,We;T_(ge);try{const ct=this.componentDef;let Pt,xe=null;ct.findHostDirectiveDefs?(Pt=[],xe=new Map,ct.findHostDirectiveDefs(ct,Pt,xe),Pt.push(ct)):Pt=[ct];const qt=function pN(s,a){const u=s[Qe],l=Gt;return s[l]=a,nl(u,l,2,"#host",null)}(ge,F),qn=function gN(s,a,u,l,h,p,v,E){const b=h[Qe];!function mN(s,a,u,l){for(const h of s)a.mergedAttrs=fo(a.mergedAttrs,h.hostAttrs);null!==a.mergedAttrs&&(hg(a,a.mergedAttrs,!0),null!==u&&Lp(l,u,a))}(l,s,a,v);const D=p.createRenderer(a,u),R=sg(h,By(u),null,u.onPush?32:16,h[s.index],s,p,D,E||null,null,null);return b.firstCreatePass&&va(b,s,l.length-1),cg(h,R),h[s.index]=R}(qt,F,ct,Pt,ge,E,D);We=pd(ee,Gt),F&&function yN(s,a,u,l){if(l)Xo(s,u,["ng-version",my.full]);else{const{attrs:h,classes:p}=function zD(s){const a=[],u=[];let l=1,h=2;for(;l<s.length;){let p=s[l];if("string"==typeof p)2===h?""!==p&&a.push(p,s[++l]):8===h&&u.push(p);else{if(!Ks(h))break;h=p}l++}return{attrs:a,classes:u}}(a.selectors[0]);h&&Xo(s,u,h),p&&p.length>0&&RI(s,u,p.join(" "))}}(D,ct,F,l),void 0!==u&&function vN(s,a,u){const l=s.projection=[];for(let h=0;h<a.length;h++){const p=u[h];l.push(null!=p?Array.from(p):null)}}(We,this.ngContentSelectors,u),je=function _N(s,a,u,l,h,p){const v=Wr(),E=h[Qe],b=ii(v,h);ug(E,h,v,u,null,l);for(let R=0;R<u.length;R++)qr(na(h,E,v.directiveStart+R,v),h);mE(E,h,v),b&&qr(b,h);const D=na(h,E,v.directiveStart+v.componentOffset,v);if(s[tr]=h[tr]=D,null!==p)for(const R of p)R(D,a);return Uy(E,v,s),D}(qn,ct,Pt,xe,ge,[wN]),Fy(ee,ge,null)}finally{Qf()}return new fN(this.componentType,je,pa(We,ge),ge,We)}}class fN extends ku{constructor(a,u,l,h,p){super(),this.location=l,this._rootLView=h,this._tNode=p,this.instance=u,this.hostView=this.changeDetectorRef=new dS(h),this.componentType=a}setInput(a,u){const l=this._tNode.inputs;let h;if(null!==l&&(h=l[a])){const p=this._rootLView;Ky(p[Qe],p,h,a,u),function iS(s,a){const u=si(a,s);16&u[$t]||(u[$t]|=32)}(p,this._tNode.index)}}get injector(){return new ra(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function wN(){const s=Wr();Td(Ce()[Qe],s)}function Zy(s){return!!TE(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function TE(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Qy(s,a,u,l){const h=Ce();return function bi(s,a,u){return!Object.is(s[a],u)&&(s[a]=u,!0)}(h,function uu(){return Bt.lFrame.bindingIndex++}(),a)&&(cn(),Zs(function Pn(){const s=Bt.lFrame;return pd(s.tView,s.selectedIndex)}(),h,s,a,u,l)),Qy}function ui(s){return function vs(s,a){return s[a]}(function zf(){return Bt.lFrame.contextLView}(),Gt+s)}function Ur(s,a,u,l,h){const v=h?"class":"style";Ky(s,u,a.inputs[v],v,l)}function mg(s,a,u,l){const h=Ce(),p=cn(),v=Gt+s,E=h[Zt],b=p.firstCreatePass?function wa(s,a,u,l,h,p){const v=a.consts,b=nl(a,s,2,l,js(v,h));return function pE(s,a,u,l){if(_d()){const h=null===l?null:{"":-1},p=function Gy(s,a){const u=s.directiveRegistry;let l=null,h=null;if(u)for(let p=0;p<u.length;p++){const v=u[p];if(eg(a,v.selectors,!1))if(l||(l=[]),Ji(v))if(null!==v.findHostDirectiveDefs){const E=[];h=h||new Map,v.findHostDirectiveDefs(v,E,h),l.unshift(...E,v),va(s,a,E.length)}else l.unshift(v),va(s,a,0);else h=h||new Map,v.findHostDirectiveDefs?.(v,l,h),l.push(v)}return null===l?null:[l,h]}(s,u);let v,E;null===p?v=E=null:[v,E]=p,null!==v&&ug(s,a,u,v,h,E),h&&function nN(s,a,u){if(a){const l=s.localNames=[];for(let h=0;h<a.length;h+=2){const p=u[a[h+1]];if(null==p)throw new ie(-301,!1);l.push(a[h],p)}}}(u,l,h)}u.mergedAttrs=fo(u.mergedAttrs,u.attrs)}(a,u,b,js(v,p)),null!==b.attrs&&hg(b,b.attrs,!1),null!==b.mergedAttrs&&hg(b,b.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,b),b}(v,p,h,a,u,l):p.data[v],D=h[v]=da(E,a,function Xf(){return Bt.lFrame.currentNamespace}()),R=Bs(b);return Hi(b,!0),Lp(E,D,b),32!=(32&b.flags)&&Pp(p,h,D,b),0===function __(){return Bt.lFrame.elementDepthCount}()&&qr(D,h),function md(){Bt.lFrame.elementDepthCount++}(),R&&(function Vy(s,a,u){_d()&&(function gE(s,a,u,l){const h=u.directiveStart,p=u.directiveEnd;tu(u)&&function iN(s,a,u){const l=ii(a,s),h=By(u),p=s[hc],v=cg(s,sg(s,h,null,u.onPush?32:16,l,a,p,p.createRenderer(l,u),null,null,null));s[a.index]=v}(a,u,s.data[h+u.componentOffset]),s.firstCreatePass||ta(u,a),qr(l,a);const v=u.initialInputs;for(let E=h;E<p;E++){const b=s.data[E],D=na(a,s,E,u);qr(D,a),null!==v&&sN(0,E-h,D,b,0,v),Ji(b)&&(si(u.index,a)[tr]=na(a,s,E,u))}}(s,a,u,ii(u,a)),64==(64&u.flags)&&mE(s,a,u))}(p,h,b),Uy(p,b,h)),null!==l&&function rl(s,a,u=ii){const l=a.localNames;if(null!==l){let h=a.index+1;for(let p=0;p<l.length;p+=2){const v=l[p+1],E=-1===v?u(a,s):s[v];s[h++]=E}}}(h,b),mg}function Eh(){let s=Wr();Gf()?function Ic(){Bt.lFrame.isParent=!1}():(s=s.parent,Hi(s,!1));const a=s;!function y_(){Bt.lFrame.elementDepthCount--}();const u=cn();return u.firstCreatePass&&(Td(u,s),ad(s)&&u.queries.elementEnd(s)),null!=a.classesWithoutHost&&function hu(s){return 0!=(8&s.flags)}(a)&&Ur(u,a,Ce(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Ec(s){return 0!=(16&s.flags)}(a)&&Ur(u,a,Ce(),a.stylesWithoutHost,!1),Eh}function Th(s,a,u,l){return mg(s,a,u,l),Eh(),Th}function ev(){return Ce()}function Ch(s){return!!s&&"function"==typeof s.then}function Dh(s){return!!s&&"function"==typeof s.subscribe}const Ss=Dh;function Sh(s,a,u,l){const h=Ce(),p=cn(),v=Wr();return function $u(s,a,u,l,h,p,v){const E=Bs(l),D=s.firstCreatePass&&dg(s),R=a[tr],F=lS(a);let q=!0;if(3&l.type||v){const je=ii(l,a),We=v?v(je):je,ct=F.length,Pt=v?qt=>v(nr(qt[l.index])):l.index;let xe=null;if(!v&&E&&(xe=function ES(s,a,u,l){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const v=h[p];if(v===u&&h[p+1]===l){const E=a[ms],b=h[p+2];return E.length>b?E[b]:null}"string"==typeof v&&(p+=2)}return null}(s,a,h,l.index)),null!==xe)(xe.__ngLastListenerFn__||xe).__ngNextListenerFn__=p,xe.__ngLastListenerFn__=p,q=!1;else{p=_g(l,a,R,p,!1);const qt=u.listen(We,h,p);F.push(p,qt),D&&D.push(h,Pt,ct,ct+1)}}else p=_g(l,a,R,p,!1);const ee=l.outputs;let ge;if(q&&null!==ee&&(ge=ee[h])){const je=ge.length;if(je)for(let We=0;We<je;We+=2){const qn=a[ge[We]][ge[We+1]].subscribe(p),ur=F.length;F.push(p,qn),D&&D.push(h,l.index,ur,-(ur+1))}}}(p,h,h[Zt],v,s,a,l),Sh}function tv(s,a,u,l){try{return hi(6,a,u),!1!==u(l)}catch(h){return IE(s,h),!1}finally{hi(7,a,u)}}function _g(s,a,u,l,h){return function p(v){if(v===Function)return l;lg(s.componentOffset>-1?si(s.index,a):a);let b=tv(a,u,l,v),D=p.__ngNextListenerFn__;for(;D;)b=tv(a,u,D,v)&&b,D=D.__ngNextListenerFn__;return h&&!1===b&&(v.preventDefault(),v.returnValue=!1),b}}function Ca(s,a=""){const u=Ce(),l=cn(),h=s+Gt,p=l.firstCreatePass?nl(l,h,1,a,null):l.data[h],v=u[h]=function Du(s,a){return s.createText(a)}(u[Zt],a);Pp(l,u,v,p),Hi(p,!1)}const qi=void 0;var xg=["en",[["a","p"],["AM","PM"],qi],[["AM","PM"],qi,qi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qi,"{1} 'at' {0}",qi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Co(s){const u=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===l?1:5}];let Do={};function On(s){const a=function kS(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=ml(a);if(u)return u;const l=a.split("-")[0];if(u=ml(l),u)return u;if("en"===l)return xg;throw new ie(701,!1)}function gl(s){return On(s)[Nt.PluralCase]}function ml(s){return s in Do||(Do[s]=St.ng&&St.ng.common&&St.ng.common.locales&&St.ng.common.locales[s]),Do[s]}var Nt=(()=>((Nt=Nt||{})[Nt.LocaleId=0]="LocaleId",Nt[Nt.DayPeriodsFormat=1]="DayPeriodsFormat",Nt[Nt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Nt[Nt.DaysFormat=3]="DaysFormat",Nt[Nt.DaysStandalone=4]="DaysStandalone",Nt[Nt.MonthsFormat=5]="MonthsFormat",Nt[Nt.MonthsStandalone=6]="MonthsStandalone",Nt[Nt.Eras=7]="Eras",Nt[Nt.FirstDayOfWeek=8]="FirstDayOfWeek",Nt[Nt.WeekendRange=9]="WeekendRange",Nt[Nt.DateFormat=10]="DateFormat",Nt[Nt.TimeFormat=11]="TimeFormat",Nt[Nt.DateTimeFormat=12]="DateTimeFormat",Nt[Nt.NumberSymbols=13]="NumberSymbols",Nt[Nt.NumberFormats=14]="NumberFormats",Nt[Nt.CurrencyCode=15]="CurrencyCode",Nt[Nt.CurrencySymbol=16]="CurrencySymbol",Nt[Nt.CurrencyName=17]="CurrencyName",Nt[Nt.Currencies=18]="Currencies",Nt[Nt.Directionality=19]="Directionality",Nt[Nt.PluralCase=20]="PluralCase",Nt[Nt.ExtraData=21]="ExtraData",Nt))();const _l="en-US";let Hu=_l;class bl{}class IT{}function WS(s,a){return new ET(s,a??null)}class ET extends bl{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hS(this);const l=te(a);this._bootstrapComponents=_a(l.bootstrap),this._r3Injector=rE(a,u,[{provide:bl,useValue:this},{provide:Mu,useValue:this.componentFactoryResolver}],Ee(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class TT extends IT{constructor(a){super(),this.moduleType=a}create(a){return new ET(this.moduleType,a)}}class KS extends bl{constructor(a,u,l){super(),this.componentFactoryResolver=new hS(this),this.instance=null;const h=new WI([...a,{provide:bl,useValue:this},{provide:Mu,useValue:this.componentFactoryResolver}],u||ih(),l,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Bg(s,a,u=null){return new KS(s,a,u).injector}let Yt=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const l=MD(0,u.type),h=l.length>0?Bg([l],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,h)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Ze({token:s,providedIn:"environment",factory:()=>new s(He(Ru))}),s})();function Gu(s){s.getStandaloneInjector=a=>a.get(Yt).getOrCreateStandaloneInjector(s)}function Kg(s){return a=>{setTimeout(s,void 0,a)}}const Fi=class Wu extends y.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,l){let h=a,p=u||(()=>null),v=l;if(a&&"object"==typeof a){const b=a;h=b.next?.bind(b),p=b.error?.bind(b),v=b.complete?.bind(b)}this.__isAsync&&(p=Kg(p),h&&(h=Kg(h)),v&&(v=Kg(v)));const E=super.subscribe({next:h,error:p,complete:v});return a instanceof $.w0&&a.add(E),E}};function zh(){return this._results[Symbol.iterator]()}class Zg{get changes(){return this._changes||(this._changes=new Fi)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Zg.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=zh)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const l=this;l.dirty=!1;const h=function Ni(s){return s.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function hp(s,a,u){if(s.length!==a.length)return!1;for(let l=0;l<s.length;l++){let h=s[l],p=a[l];if(u&&(h=u(h),p=u(p)),p!==h)return!1}return!0}(l._results,h,u))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Wh=(()=>{class s{}return s.__NG_ELEMENT_ID__=rA,s})();const GN=Wh,$r=class extends GN{constructor(a,u,l){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=l}createEmbeddedView(a,u){const l=this._declarationTContainer.tView,h=sg(this._declarationLView,l,a,16,null,l.declTNode,null,null,null,null,u||null);h[Us]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[Nr];return null!==v&&(h[Nr]=v.createEmbeddedView(l)),Fy(l,h,a),new il(h)}};function rA(){return xs(Wr(),Ce())}function xs(s,a){return 4&s.type?new $r(a,s,pa(s,a)):null}let $n=(()=>{class s{}return s.__NG_ELEMENT_ID__=qu,s})();function qu(){return qh(Wr(),Ce())}const Xv=$n,Jv=class extends Xv{constructor(a,u,l){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=l}get element(){return pa(this._hostTNode,this._hostLView)}get injector(){return new ra(this._hostTNode,this._hostLView)}get parentInjector(){const a=Ac(this._hostTNode,this._hostLView);if(Tc(a)){const u=fu(a,this._hostLView),l=bc(a);return new ra(u[Qe].data[l+8],u)}return new ra(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=Sl(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-ni}createEmbeddedView(a,u,l){let h,p;"number"==typeof l?h=l:null!=l&&(h=l.index,p=l.injector);const v=a.createEmbeddedView(u||{},p);return this.insert(v,h),v}createComponent(a,u,l,h,p){const v=a&&!function vu(s){return"function"==typeof s}(a);let E;if(v)E=u;else{const F=u||{};E=F.index,l=F.injector,h=F.projectableNodes,p=F.environmentInjector||F.ngModuleRef}const b=v?a:new pg(ze(a)),D=l||this.parentInjector;if(!p&&null==b.ngModule){const q=(v?D:this.parentInjector).get(Ru,null);q&&(p=q)}const R=b.create(D,h,void 0,p);return this.insert(R.hostView,E),R}insert(a,u){const l=a._lView,h=l[Qe];if(function $f(s){return Pr(s[En])}(l)){const R=this.indexOf(a);if(-1!==R)this.detach(R);else{const F=l[En],q=new Jv(F,F[pr],F[En]);q.detach(q.indexOf(a))}}const p=this._adjustIndex(u),v=this._lContainer;!function Wc(s,a,u,l){const h=ni+l,p=u.length;l>0&&(u[h-1][wr]=a),l<p-ni?(a[wr]=u[h],O_(u,ni+l,a)):(u.push(a),a[wr]=null),a[En]=u;const v=a[Us];null!==v&&u!==v&&function Yd(s,a){const u=s[Vs];a[ti]!==a[En][En][ti]&&(s[Of]=!0),null===u?s[Vs]=[a]:u.push(a)}(v,a);const E=a[Nr];null!==E&&E.insertView(s),a[$t]|=64}(h,l,v,p);const E=z_(p,v),b=l[Zt],D=qc(b,v[zo]);return null!==D&&function Su(s,a,u,l,h,p){l[Nn]=h,l[pr]=a,Zc(s,l,u,1,h,p)}(h,v[pr],b,l,D,E),a.attachToViewContainerRef(),O_(Js(v),p,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=Sl(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),l=Qd(this._lContainer,u);l&&(wu(Js(this._lContainer),u),II(l[Qe],l))}detach(a){const u=this._adjustIndex(a,-1),l=Qd(this._lContainer,u);return l&&null!=wu(Js(this._lContainer),u)?new il(l):null}_adjustIndex(a,u=0){return a??this.length+u}};function Sl(s){return s[fc]}function Js(s){return s[fc]||(s[fc]=[])}function qh(s,a){let u;const l=a[s.index];if(Pr(l))u=l;else{let h;if(8&s.type)h=nr(l);else{const p=a[Zt];h=p.createComment("");const v=ii(s,a);ha(p,qc(p,v),h,function yD(s,a){return s.nextSibling(a)}(p,v),!1)}a[s.index]=u=function yE(s,a,u,l){return[s,!0,!1,a,null,0,l,u,null,null]}(l,a,h,s),cg(a,u)}return new Jv(u,s,a)}class ko{constructor(a){this.queryList=a,this.matches=null}clone(){return new ko(this.queryList)}setDirty(){this.queryList.setDirty()}}class us{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const l=null!==a.contentQueries?a.contentQueries[0]:u.length,h=[];for(let p=0;p<l;p++){const v=u.getByIndex(p);h.push(this.queries[v.indexInDeclarationView].clone())}return new us(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==Mo(a,u).matches&&this.queries[u].setDirty()}}class Al{constructor(a,u,l=null){this.predicate=a,this.flags=u,this.read=l}}class eo{constructor(a=[]){this.queries=a}elementStart(a,u){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let l=0;l<this.length;l++){const h=null!==u?u.length:0,p=this.getByIndex(l).embeddedTView(a,h);p&&(p.indexInDeclarationView=l,null!==u?u.push(p):u=[p])}return null!==u?new eo(u):null}template(a,u){for(let l=0;l<this.queries.length;l++)this.queries[l].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Yg{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new Yg(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let l=a.parent;for(;null!==l&&8&l.type&&l.index!==u;)l=l.parent;return u===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const p=l[h];this.matchTNodeWithReadOption(a,u,Rl(u,p)),this.matchTNodeWithReadOption(a,u,kc(u,a,p,!1,!1))}else l===Wh?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,kc(u,a,l,!1,!1))}matchTNodeWithReadOption(a,u,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===Nu||h===$n||h===Wh&&4&u.type)this.addMatch(u.index,-2);else{const p=kc(u,a,h,!1,!1);null!==p&&this.addMatch(u.index,p)}else this.addMatch(u.index,l)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function Rl(s,a){const u=s.localNames;if(null!==u)for(let l=0;l<u.length;l+=2)if(u[l]===a)return u[l+1];return null}function Ku(s,a,u,l){return-1===u?function e0(s,a){return 11&s.type?pa(s,a):4&s.type?xs(s,a):null}(a,s):-2===u?function t0(s,a,u){return u===Nu?pa(a,s):u===Wh?xs(a,s):u===$n?qh(a,s):void 0}(s,a,l):na(s,s[Qe],u,a)}function xl(s,a,u,l){const h=a[Nr].queries[l];if(null===h.matches){const p=s.data,v=u.matches,E=[];for(let b=0;b<v.length;b+=2){const D=v[b];E.push(D<0?null:Ku(a,p[D],v[b+1],u.metadata.read))}h.matches=E}return h.matches}function Qg(s,a,u,l){const h=s.queries.getByIndex(u),p=h.matches;if(null!==p){const v=xl(s,a,h,u);for(let E=0;E<p.length;E+=2){const b=p[E];if(b>0)l.push(v[E/2]);else{const D=p[E+1],R=a[-b];for(let F=ni;F<R.length;F++){const q=R[F];q[Us]===q[En]&&Qg(q[Qe],q,D,l)}if(null!==R[Vs]){const F=R[Vs];for(let q=0;q<F.length;q++){const ee=F[q];Qg(ee[Qe],ee,D,l)}}}}}return l}function n0(s){const a=Ce(),u=cn(),l=I_();Zf(l+1);const h=Mo(u,l);if(s.dirty&&function yc(s){return 4==(4&s[$t])}(a)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?Qg(u,a,l,[]):xl(u,a,h,l);s.reset(p,GM),s.notifyOnChanges()}return!0}return!1}function kl(s,a,u,l){const h=cn();if(h.firstCreatePass){const p=Wr();(function s0(s,a,u){null===s.queries&&(s.queries=new eo),s.queries.track(new Yg(a,u))})(h,new Al(a,u,l),p.index),function xT(s,a){const u=s.contentQueries||(s.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,a)}(h,s),2==(2&u)&&(h.staticContentQueries=!0)}!function RT(s,a,u){const l=new Zg(4==(4&u));dE(s,a,l,l.destroy),null===a[Nr]&&(a[Nr]=new us),a[Nr].queries.push(new ko(l))}(h,Ce(),u)}function r0(){return function iA(s,a){return s[Nr].queries[a].queryList}(Ce(),I_())}function Mo(s,a){return s.queries.getByIndex(a)}function em(s){return!!te(s)}function Xh(...s){}const HT=new Rn("Application Initializer");let um=(()=>{class s{constructor(u){this.appInits=u,this.resolve=Xh,this.reject=Xh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(Ch(p))u.push(p);else if(Ss(p)){const v=new Promise((E,b)=>{p.subscribe({complete:E,error:b})});u.push(v)}}Promise.all(u).then(()=>{l()}).catch(h=>{this.reject(h)}),0===u.length&&l(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(He(HT,8))},s.\u0275prov=Ze({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const f0=new Rn("AppId",{providedIn:"root",factory:function Ju(){return`${cm()}${cm()}${cm()}`}});function cm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Pa=new Rn("Platform Initializer"),GT=new Rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let zT=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Ze({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const lm=new Rn("LocaleId",{providedIn:"root",factory:()=>tt(lm,ot.Optional|ot.SkipSelf)||function ef(){return typeof $localize<"u"&&$localize.locale||_l}()}),pA=new Rn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class WT{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}let gA=(()=>{class s{compileModuleSync(u){return new TT(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const l=this.compileModuleSync(u),p=_a(te(u).declarations).reduce((v,E)=>{const b=ze(E);return b&&v.push(new pg(b)),v},[]);return new WT(l,p)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Ze({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const KT=(()=>Promise.resolve(0))();function Oa(s){typeof Zone>"u"?KT.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class yn{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fi(!1),this.onMicrotaskEmpty=new Fi(!1),this.onStable=new Fi(!1),this.onError=new Fi(!1),typeof Zone>"u")throw new ie(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&u,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function g0(){let s=St.requestAnimationFrame,a=St.cancelAnimationFrame;if(typeof Zone<"u"&&s&&a){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const l=a[Zone.__symbol__("OriginalDelegate")];l&&(a=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function La(s){const a=()=>{!function ZT(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(St,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,m0(s),s.isCheckStableRunning=!0,dm(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),m0(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,l,h,p,v,E)=>{try{return Di(s),u.invokeTask(h,p,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&a(),_0(s)}},onInvoke:(u,l,h,p,v,E,b)=>{try{return Di(s),u.invoke(h,p,v,E,b)}finally{s.shouldCoalesceRunChangeDetection&&a(),_0(s)}},onHasTask:(u,l,h,p)=>{u.hasTask(h,p),l===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,m0(s),dm(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(u,l,h,p)=>(u.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!yn.isInAngularZone())throw new ie(909,!1)}static assertNotInAngularZone(){if(yn.isInAngularZone())throw new ie(909,!1)}run(a,u,l){return this._inner.run(a,u,l)}runTask(a,u,l,h){const p=this._inner,v=p.scheduleEventTask("NgZoneEvent: "+h,a,dn,Xh,Xh);try{return p.runTask(v,u,l)}finally{p.cancelTask(v)}}runGuarded(a,u,l){return this._inner.runGuarded(a,u,l)}runOutsideAngular(a){return this._outer.run(a)}}const dn={};function dm(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function m0(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Di(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function _0(s){s._nesting--,dm(s)}class nf{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fi,this.onMicrotaskEmpty=new Fi,this.onStable=new Fi,this.onError=new Fi}run(a,u,l){return a.apply(u,l)}runGuarded(a,u,l){return a.apply(u,l)}runOutsideAngular(a){return a()}runTask(a,u,l,h){return a.apply(u,l)}}const y0=new Rn(""),ks=new Rn("");let v0,YT=(()=>{class s{constructor(u,l,h){this._ngZone=u,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,v0||(function _A(s){v0=s}(h),h.addToWindow(l)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{yn.assertNotInAngularZone(),Oa(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Oa(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(u)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,l,h){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==p),u(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:u,timeoutId:p,updateCb:h})}whenStable(u,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,l,h){return[]}}return s.\u0275fac=function(u){return new(u||s)(He(yn),He(Ol),He(ks))},s.\u0275prov=Ze({token:s,factory:s.\u0275fac}),s})(),Ol=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,l){this._applications.set(u,l)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,l=!0){return v0?.findTestabilityInTree(this,u,l)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Ze({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Ut=!1;let Fa=null;const rf=new Rn("AllowMultipleToken"),tc=new Rn("PlatformDestroyListeners"),Ll=new Rn("appBootstrapListener");class XT{constructor(a,u){this.name=a,this.token=u}}function eb(s,a,u=[]){const l=`Platform: ${a}`,h=new Rn(l);return(p=[])=>{let v=fm();if(!v||v.injector.get(rf,!1)){const E=[...u,...p,{provide:h,useValue:!0}];s?s(E):function vA(s){if(Fa&&!Fa.get(rf,!1))throw new ie(400,!1);Fa=s;const a=s.get(nb);(function w0(s){const a=s.get(Pa,null);a&&a.forEach(u=>u())})(s)}(function tb(s=[],a){return Uu.create({name:a,providers:[{provide:Zp,useValue:"platform"},{provide:tc,useValue:new Set([()=>Fa=null])},...s]})}(E,l))}return function wA(s){const a=fm();if(!a)throw new ie(401,!1);return a}()}}function fm(){return Fa?.get(nb)??null}let nb=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,l){const h=function pm(s,a){let u;return u="noop"===s?new nf:("zone.js"===s?void 0:s)||new yn(a),u}(l?.ngZone,function _r(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(l)),p=[{provide:yn,useValue:h}];return h.run(()=>{const v=Uu.create({providers:p,parent:this.injector,name:u.moduleType.name}),E=u.create(v),b=E.injector.get(Cs,null);if(!b)throw new ie(402,!1);return h.runOutsideAngular(()=>{const D=h.onError.subscribe({next:R=>{b.handleError(R)}});E.onDestroy(()=>{Ul(this._modules,E),D.unsubscribe()})}),function I0(s,a,u){try{const l=u();return Ch(l)?l.catch(h=>{throw a.runOutsideAngular(()=>s.handleError(h)),h}):l}catch(l){throw a.runOutsideAngular(()=>s.handleError(l)),l}}(b,h,()=>{const D=E.injector.get(um);return D.runInitializers(),D.donePromise.then(()=>(function rT(s){Xe(s,"Expected localeId to be defined"),"string"==typeof s&&(Hu=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(lm,_l)||_l),this._moduleDoBootstrap(E),E))})})}bootstrapModule(u,l=[]){const h=Fl({},l);return function hm(s,a,u){const l=new TT(u);return Promise.resolve(l)}(0,0,u).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(u){const l=u.injector.get(Zi);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new ie(-403,!1);u.instance.ngDoBootstrap(l)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ie(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const u=this._injector.get(tc,null);u&&(u.forEach(l=>l()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(He(Uu))},s.\u0275prov=Ze({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Fl(s,a){return Array.isArray(a)?a.reduce(Fl,s):{...s,...a}}let Zi=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(u,l,h){this._zone=u,this._injector=l,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new L.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),v=new L.y(E=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{yn.assertNotInAngularZone(),Oa(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const D=this._zone.onUnstable.subscribe(()=>{yn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{b.unsubscribe(),D.unsubscribe()}});this.isStable=(0,ce.T)(p,v.pipe((0,Te.B)()))}bootstrap(u,l){const h=u instanceof Yc;if(!this._injector.get(um).done){!h&&H(u);throw new ie(405,Ut)}let v;v=h?u:this._injector.get(Mu).resolveComponentFactory(u),this.componentTypes.push(v.componentType);const E=function QT(s){return s.isBoundToModule}(v)?void 0:this._injector.get(bl),D=v.create(Uu.NULL,[],l||v.selector,E),R=D.location.nativeElement,F=D.injector.get(y0,null);return F?.registerApplication(R),D.onDestroy(()=>{this.detachView(D.hostView),Ul(this.components,D),F?.unregisterApplication(R)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new ie(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const l=u;this._views.push(l),l.attachToAppRef(this)}detachView(u){const l=u;Ul(this._views,l),l.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const l=this._injector.get(Ll,[]);l.push(...this._bootstrapListeners),l.forEach(h=>h(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Ul(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new ie(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)(He(yn),He(Ru),He(Cs))},s.\u0275prov=Ze({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Ul(s,a){const u=s.indexOf(a);u>-1&&s.splice(u,1)}function rb(){return!1}let uf=(()=>{class s{}return s.__NG_ELEMENT_ID__=T0,s})();function T0(s){return function TA(s,a,u){if(tu(s)&&!u){const l=si(s.index,a);return new il(l,l)}return 47&s.type?new il(a[ti],a):null}(Wr(),Ce(),16==(16&s))}class ab{constructor(){}supports(a){return Zy(a)}create(a){return new MA(a)}}const kA=(s,a)=>a;class MA{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||kA}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,l=this._removalsHead,h=0,p=null;for(;u||l;){const v=!l||u&&u.currentIndex<cb(l,h,p)?u:l,E=cb(v,h,p),b=v.currentIndex;if(v===l)h--,l=l._nextRemoved;else if(u=u._next,null==v.previousIndex)h++;else{p||(p=[]);const D=E-h,R=b-h;if(D!=R){for(let q=0;q<D;q++){const ee=q<p.length?p[q]:p[q]=0,ge=ee+q;R<=ge&&ge<D&&(p[q]=ee+1)}p[v.previousIndex]=R-D}}E!==b&&a(v,E,b)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!Zy(a))throw new ie(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,p,v,u=this._itHead,l=!1;if(Array.isArray(a)){this.length=a.length;for(let E=0;E<this.length;E++)p=a[E],v=this._trackByFn(E,p),null!==u&&Object.is(u.trackById,v)?(l&&(u=this._verifyReinsertion(u,p,v,E)),Object.is(u.item,p)||this._addIdentityChange(u,p)):(u=this._mismatch(u,p,v,E),l=!0),u=u._next}else h=0,function kN(s,a){if(Array.isArray(s))for(let u=0;u<s.length;u++)a(s[u]);else{const u=s[Symbol.iterator]();let l;for(;!(l=u.next()).done;)a(l.value)}}(a,E=>{v=this._trackByFn(h,E),null!==u&&Object.is(u.trackById,v)?(l&&(u=this._verifyReinsertion(u,E,v,h)),Object.is(u.item,E)||this._addIdentityChange(u,E)):(u=this._mismatch(u,E,v,h),l=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,l,h){let p;return null===a?p=this._itTail:(p=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,p,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,p,h)):a=this._addAfter(new NA(u,l),p,h),a}_verifyReinsertion(a,u,l,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?a=this._reinsertAfter(p,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,p=a._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(a,u,l),this._addToMoves(a,l),a}_moveAfter(a,u,l){return this._unlink(a),this._insertAfter(a,u,l),this._addToMoves(a,l),a}_addAfter(a,u,l){return this._insertAfter(a,u,l),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,l){const h=null===u?this._itHead:u._next;return a._next=h,a._prev=u,null===h?this._itTail=a:h._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new ub),this._linkedRecords.put(a),a.currentIndex=l,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,l=a._next;return null===u?this._itHead=l:u._next=l,null===l?this._itTail=u:l._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ub),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class NA{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class PA{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===u||u<=l.currentIndex)&&Object.is(l.trackById,a))return l;return null}remove(a){const u=a._prevDup,l=a._nextDup;return null===u?this._head=l:u._nextDup=l,null===l?this._tail=u:l._prevDup=u,null===this._head}}class ub{constructor(){this.map=new Map}put(a){const u=a.trackById;let l=this.map.get(u);l||(l=new PA,this.map.set(u,l)),l.add(a)}get(a,u){const h=this.map.get(a);return h?h.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cb(s,a,u){const l=s.previousIndex;if(null===l)return l;let h=0;return u&&l<u.length&&(h=u[l]),l+a+h}class lb{constructor(){}supports(a){return a instanceof Map||TE(a)}create(){return new OA}}class OA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||TE(a)))throw new ie(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(l,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,l),this._appendAfter=u,u=u._next;else{const p=this._getOrCreateRecordForKey(h,l);u=this._insertBeforeOrAppend(u,p)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let l=u;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const l=a._prev;return u._next=a,u._prev=l,a._prev=u,l&&(l._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,u);const p=h._prev,v=h._next;return p&&(p._next=v),v&&(v._prev=p),h._next=null,h._prev=null,h}const l=new LA(a);return this._records.set(a,l),l.currentValue=u,this._addToAdditions(l),l}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(l=>u(a[l],l))}}class LA{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function db(){return new C0([new ab])}let C0=(()=>{class s{constructor(u){this.factories=u}static create(u,l){if(null!=l){const h=l.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:l=>s.create(u,l||db()),deps:[[s,new mo,new Iu]]}}find(u){const l=this.factories.find(h=>h.supports(u));if(null!=l)return l;throw new ie(901,!1)}}return s.\u0275prov=Ze({token:s,providedIn:"root",factory:db}),s})();function D0(){return new S0([new lb])}let S0=(()=>{class s{constructor(u){this.factories=u}static create(u,l){if(l){const h=l.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:l=>s.create(u,l||D0()),deps:[[s,new mo,new Iu]]}}find(u){const l=this.factories.find(h=>h.supports(u));if(l)return l;throw new ie(901,!1)}}return s.\u0275prov=Ze({token:s,providedIn:"root",factory:D0}),s})();const Jr=eb(null,"core",[]);let A0=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(He(Zi))},s.\u0275mod=co({type:s}),s.\u0275inj=Cn({}),s})();function R0(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(Et,Se,V)=>{V.d(Se,{Z:()=>rt});var y=V(2090),$=V(4859),L=V(9681),ce=V(1877);class Te{constructor(ie,De){this._delegate=ie,this.firebase=De,(0,L._addComponent)(ie,new $.wA("app-compat",()=>this,"PUBLIC")),this.container=ie.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ie){this._delegate.automaticDataCollectionEnabled=ie}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ie=>{this._delegate.checkDestroyed(),ie()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(ie,De=L._DEFAULT_ENTRY_NAME){var we;this._delegate.checkDestroyed();const Ae=this._delegate.container.getProvider(ie);return!Ae.isInitialized()&&"EXPLICIT"===(null===(we=Ae.getComponent())||void 0===we?void 0:we.instantiationMode)&&Ae.initialize(),Ae.getImmediate({identifier:De})}_removeServiceInstance(ie,De=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ie).clearInstance(De)}_addComponent(ie){(0,L._addComponent)(this._delegate,ie)}_addOrOverwriteComponent(ie){(0,L._addOrOverwriteComponent)(this._delegate,ie)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Le=new y.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function Fe(){const qe=function Ee(qe){const ie={},De={__esModule:!0,initializeApp:function ye(K,ne={}){const me=L.initializeApp(K,ne);if((0,y.r3)(ie,me.name))return ie[me.name];const Ke=new qe(me,De);return ie[me.name]=Ke,Ke},app:Ae,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function Ie(K){const ne=K.name,me=ne.replace("-compat","");if(L._registerComponent(K)&&"PUBLIC"===K.type){const Ke=(Ve=Ae())=>{if("function"!=typeof Ve[me])throw Le.create("invalid-app-argument",{appName:ne});return Ve[me]()};void 0!==K.serviceProps&&(0,y.ZB)(Ke,K.serviceProps),De[me]=Ke,qe.prototype[me]=function(...Ve){return this._getService.bind(this,ne).apply(this,K.multipleInstances?Ve:[])}}return"PUBLIC"===K.type?De[me]:null},removeApp:function we(K){delete ie[K]},useAsService:function Be(K,ne){return"serverAuth"===ne?null:ne},modularAPIs:L}};function Ae(K){if(!(0,y.r3)(ie,K=K||L._DEFAULT_ENTRY_NAME))throw Le.create("no-app",{appName:K});return ie[K]}return De.default=De,Object.defineProperty(De,"apps",{get:function ve(){return Object.keys(ie).map(K=>ie[K])}}),Ae.App=qe,De}(Te);return qe.INTERNAL=Object.assign(Object.assign({},qe.INTERNAL),{createFirebaseNamespace:Fe,extendNamespace:function ie(De){(0,y.ZB)(qe,De)},createSubscribe:y.ne,ErrorFactory:y.LL,deepExtend:y.ZB}),qe}(),z=new ce.Yd("@firebase/app-compat");if((0,y.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const qe=self.firebase.SDK_VERSION;qe&&qe.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const rt=G;!function ke(qe){(0,L.registerVersion)("@firebase/app-compat","0.2.5",qe)}()},9681:(Et,Se,V)=>{V.r(Se),V.d(Se,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>Qn,_DEFAULT_ENTRY_NAME:()=>Ne,_addComponent:()=>hn,_addOrOverwriteComponent:()=>vt,_apps:()=>Xe,_clearComponents:()=>Cn,_components:()=>st,_getProvider:()=>Ze,_registerComponent:()=>ft,_removeServiceInstance:()=>Jt,deleteApp:()=>Hr,getApp:()=>Xn,getApps:()=>Mr,initializeApp:()=>kr,onLog:()=>ot,registerVersion:()=>Mn,setLogLevel:()=>Jn});var y=V(5861),$=V(4859),L=V(1877),ce=V(2090),Te=V(8766);class he{constructor(_e){this.container=_e}getPlatformInfoString(){return this.container.getProviders().map(tt=>{if(function Le(He){return"VERSION"===He.getComponent()?.type}(tt)){const pt=tt.getImmediate();return`${pt.library}/${pt.version}`}return null}).filter(tt=>tt).join(" ")}}const Ee="@firebase/app",G=new L.Yd("@firebase/app"),Ne="[DEFAULT]",Me={[Ee]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xe=new Map,st=new Map;function hn(He,_e){try{He.container.addComponent(_e)}catch(tt){G.debug(`Component ${_e.name} failed to register with FirebaseApp ${He.name}`,tt)}}function vt(He,_e){He.container.addOrOverwriteComponent(_e)}function ft(He){const _e=He.name;if(st.has(_e))return G.debug(`There were multiple attempts to register component ${_e}.`),!1;st.set(_e,He);for(const tt of Xe.values())hn(tt,He);return!0}function Ze(He,_e){const tt=He.container.getProvider("heartbeat").getImmediate({optional:!0});return tt&&tt.triggerHeartbeat(),He.container.getProvider(_e)}function Jt(He,_e,tt=Ne){Ze(He,_e).clearInstance(tt)}function Cn(){st.clear()}const on=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class nn{constructor(_e,tt,pt){this._isDeleted=!1,this._options=Object.assign({},_e),this._config=Object.assign({},tt),this._name=tt.name,this._automaticDataCollectionEnabled=tt.automaticDataCollectionEnabled,this._container=pt,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this.checkDestroyed(),this._automaticDataCollectionEnabled=_e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_e){this._isDeleted=_e}checkDestroyed(){if(this.isDeleted)throw on.create("app-deleted",{appName:this._name})}}const Qn="9.18.0";function kr(He,_e={}){let tt=He;"object"!=typeof _e&&(_e={name:_e});const pt=Object.assign({name:Ne,automaticDataCollectionEnabled:!1},_e),xt=pt.name;if("string"!=typeof xt||!xt)throw on.create("bad-app-name",{appName:String(xt)});if(tt||(tt=(0,ce.aH)()),!tt)throw on.create("no-options");const Qt=Xe.get(xt);if(Qt){if((0,ce.vZ)(tt,Qt.options)&&(0,ce.vZ)(pt,Qt.config))return Qt;throw on.create("duplicate-app",{appName:xt})}const An=new $.H0(xt);for(const B of st.values())An.addComponent(B);const j=new nn(tt,pt,An);return Xe.set(xt,j),j}function Xn(He=Ne){const _e=Xe.get(He);if(!_e&&He===Ne)return kr();if(!_e)throw on.create("no-app",{appName:He});return _e}function Mr(){return Array.from(Xe.values())}function Hr(He){return gn.apply(this,arguments)}function gn(){return(gn=(0,y.Z)(function*(He){const _e=He.name;Xe.has(_e)&&(Xe.delete(_e),yield Promise.all(He.container.getProviders().map(tt=>tt.delete())),He.isDeleted=!0)})).apply(this,arguments)}function Mn(He,_e,tt){var pt;let xt=null!==(pt=Me[He])&&void 0!==pt?pt:He;tt&&(xt+=`-${tt}`);const Qt=xt.match(/\s|\//),An=_e.match(/\s|\//);if(Qt||An){const j=[`Unable to register library "${xt}" with version "${_e}":`];return Qt&&j.push(`library name "${xt}" contains illegal characters (whitespace or "/")`),Qt&&An&&j.push("and"),An&&j.push(`version name "${_e}" contains illegal characters (whitespace or "/")`),void G.warn(j.join(" "))}ft(new $.wA(`${xt}-version`,()=>({library:xt,version:_e}),"VERSION"))}function ot(He,_e){if(null!==He&&"function"!=typeof He)throw on.create("invalid-log-argument");(0,L.Am)(He,_e)}function Jn(He){(0,L.Ub)(He)}const dr="firebase-heartbeat-database",Ln=1,Fn="firebase-heartbeat-store";let Gr=null;function St(){return Gr||(Gr=(0,Te.X3)(dr,Ln,{upgrade:(He,_e)=>{0===_e&&He.createObjectStore(Fn)}}).catch(He=>{throw on.create("idb-open",{originalErrorMessage:He.message})})),Gr}function bt(){return(bt=(0,y.Z)(function*(He){try{return(yield St()).transaction(Fn).objectStore(Fn).get(Un(He))}catch(_e){if(_e instanceof ce.ZR)G.warn(_e.message);else{const tt=on.create("idb-get",{originalErrorMessage:_e?.message});G.warn(tt.message)}}})).apply(this,arguments)}function mn(He,_e){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,y.Z)(function*(He,_e){try{const pt=(yield St()).transaction(Fn,"readwrite");return yield pt.objectStore(Fn).put(_e,Un(He)),pt.done}catch(tt){if(tt instanceof ce.ZR)G.warn(tt.message);else{const pt=on.create("idb-set",{originalErrorMessage:tt?.message});G.warn(pt.message)}}})).apply(this,arguments)}function Un(He){return`${He.name}!${He.options.appId}`}class Vn{constructor(_e){this.container=_e,this._heartbeatsCache=null;const tt=this.container.getProvider("app").getImmediate();this._storage=new Vt(tt),this._heartbeatsCachePromise=this._storage.read().then(pt=>(this._heartbeatsCache=pt,pt))}triggerHeartbeat(){var _e=this;return(0,y.Z)(function*(){const pt=_e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),xt=Ot();if(null===_e._heartbeatsCache&&(_e._heartbeatsCache=yield _e._heartbeatsCachePromise),_e._heartbeatsCache.lastSentHeartbeatDate!==xt&&!_e._heartbeatsCache.heartbeats.some(Qt=>Qt.date===xt))return _e._heartbeatsCache.heartbeats.push({date:xt,agent:pt}),_e._heartbeatsCache.heartbeats=_e._heartbeatsCache.heartbeats.filter(Qt=>{const An=new Date(Qt.date).valueOf();return Date.now()-An<=2592e6}),_e._storage.overwrite(_e._heartbeatsCache)})()}getHeartbeatsHeader(){var _e=this;return(0,y.Z)(function*(){if(null===_e._heartbeatsCache&&(yield _e._heartbeatsCachePromise),null===_e._heartbeatsCache||0===_e._heartbeatsCache.heartbeats.length)return"";const tt=Ot(),{heartbeatsToSend:pt,unsentEntries:xt}=function zr(He,_e=1024){const tt=[];let pt=He.slice();for(const xt of He){const Qt=tt.find(An=>An.agent===xt.agent);if(Qt){if(Qt.dates.push(xt.date),Dr(tt)>_e){Qt.dates.pop();break}}else if(tt.push({agent:xt.agent,dates:[xt.date]}),Dr(tt)>_e){tt.pop();break}pt=pt.slice(1)}return{heartbeatsToSend:tt,unsentEntries:pt}}(_e._heartbeatsCache.heartbeats),Qt=(0,ce.L)(JSON.stringify({version:2,heartbeats:pt}));return _e._heartbeatsCache.lastSentHeartbeatDate=tt,xt.length>0?(_e._heartbeatsCache.heartbeats=xt,yield _e._storage.overwrite(_e._heartbeatsCache)):(_e._heartbeatsCache.heartbeats=[],_e._storage.overwrite(_e._heartbeatsCache)),Qt})()}}function Ot(){return(new Date).toISOString().substring(0,10)}class Vt{constructor(_e){this.app=_e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var _e=this;return(0,y.Z)(function*(){return(yield _e._canUseIndexedDBPromise)&&(yield function ht(He){return bt.apply(this,arguments)}(_e.app))||{heartbeats:[]}})()}overwrite(_e){var tt=this;return(0,y.Z)(function*(){var pt;if(yield tt._canUseIndexedDBPromise){const Qt=yield tt.read();return mn(tt.app,{lastSentHeartbeatDate:null!==(pt=_e.lastSentHeartbeatDate)&&void 0!==pt?pt:Qt.lastSentHeartbeatDate,heartbeats:_e.heartbeats})}})()}add(_e){var tt=this;return(0,y.Z)(function*(){var pt;if(yield tt._canUseIndexedDBPromise){const Qt=yield tt.read();return mn(tt.app,{lastSentHeartbeatDate:null!==(pt=_e.lastSentHeartbeatDate)&&void 0!==pt?pt:Qt.lastSentHeartbeatDate,heartbeats:[...Qt.heartbeats,..._e.heartbeats]})}})()}}function Dr(He){return(0,ce.L)(JSON.stringify({version:2,heartbeats:He})).length}!function Bn(He){ft(new $.wA("platform-logger",_e=>new he(_e),"PRIVATE")),ft(new $.wA("heartbeat",_e=>new Vn(_e),"PRIVATE")),Mn(Ee,"0.9.5",He),Mn(Ee,"0.9.5","esm2017"),Mn("fire-js","")}("")},4859:(Et,Se,V)=>{V.d(Se,{H0:()=>Ee,wA:()=>L,zt:()=>Te});var y=V(5861),$=V(2090);class L{constructor(G,z,Y){this.name=G,this.instanceFactory=z,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const ce="[DEFAULT]";class Te{constructor(G,z){this.name=G,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const z=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(z)){const Y=new $.BH;if(this.instancesDeferred.set(z,Y),this.isInitialized(z)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:z});Ge&&Y.resolve(Ge)}catch{}}return this.instancesDeferred.get(z).promise}getImmediate(G){var z;const Y=this.normalizeInstanceIdentifier(G?.identifier),Ge=null!==(z=G?.optional)&&void 0!==z&&z;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(ke){if(Ge)return null;throw ke}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function Le(Fe){return"EAGER"===Fe.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:ce})}catch{}for(const[z,Y]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(z);try{const ke=this.getOrInitializeService({instanceIdentifier:Ge});Y.resolve(ke)}catch{}}}}clearInstance(G=ce){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,y.Z)(function*(){const z=Array.from(G.instances.values());yield Promise.all([...z.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...z.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=ce){return this.instances.has(G)}getOptions(G=ce){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:z={}}=G,Y=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:Y,options:z});for(const[ke,rt]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(ke)&&rt.resolve(Ge);return Ge}onInit(G,z){var Y;const Ge=this.normalizeInstanceIdentifier(z),ke=null!==(Y=this.onInitCallbacks.get(Ge))&&void 0!==Y?Y:new Set;ke.add(G),this.onInitCallbacks.set(Ge,ke);const rt=this.instances.get(Ge);return rt&&G(rt,Ge),()=>{ke.delete(G)}}invokeOnInitCallbacks(G,z){const Y=this.onInitCallbacks.get(z);if(Y)for(const Ge of Y)try{Ge(G,z)}catch{}}getOrInitializeService({instanceIdentifier:G,options:z={}}){let Y=this.instances.get(G);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(Fe=G,Fe===ce?void 0:Fe),options:z}),this.instances.set(G,Y),this.instancesOptions.set(G,z),this.invokeOnInitCallbacks(Y,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,Y)}catch{}var Fe;return Y||null}normalizeInstanceIdentifier(G=ce){return this.component?this.component.multipleInstances?G:ce:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ee{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const z=this.getProvider(G.name);if(z.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);z.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const z=new Te(G,this);return this.providers.set(G,z),z}getProviders(){return Array.from(this.providers.values())}}},2833:(Et,Se,V)=>{var y=V(5861),$=V(9681),L=V(4859),ce=V(2090),Te=V(8766);const he="@firebase/installations",Le="0.6.4",Ee=1e4,Fe=`w:${Le}`,G="FIS_v2",z="https://firebaseinstallations.googleapis.com/v1",Y=36e5,qe=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ie(X){return X instanceof ce.ZR&&X.code.includes("request-failed")}function De({projectId:X}){return`${z}/projects/${X}/installations`}function we(X){return{token:X.token,requestStatus:2,expiresIn:ne(X.expiresIn),creationTime:Date.now()}}function Ae(X,fe){return ye.apply(this,arguments)}function ye(){return(ye=(0,y.Z)(function*(X,fe){const ze=(yield fe.json()).error;return qe.create("request-failed",{requestName:X,serverCode:ze.code,serverMessage:ze.message,serverStatus:ze.status})})).apply(this,arguments)}function ve({apiKey:X}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":X})}function Be(X){return K.apply(this,arguments)}function K(){return(K=(0,y.Z)(function*(X){const fe=yield X();return fe.status>=500&&fe.status<600?X():fe})).apply(this,arguments)}function ne(X){return Number(X.replace("s","000"))}function Ve(){return(Ve=(0,y.Z)(function*({appConfig:X,heartbeatServiceProvider:fe},{fid:Ue}){const ze=De(X),Kt=ve(X),W=fe.getImmediate({optional:!0});if(W){const Tt=yield W.getHeartbeatsHeader();Tt&&Kt.append("x-firebase-client",Tt)}const te={method:"POST",headers:Kt,body:JSON.stringify({fid:Ue,authVersion:G,appId:X.appId,sdkVersion:Fe})},at=yield Be(()=>fetch(ze,te));if(at.ok){const Tt=yield at.json();return{fid:Tt.fid||Ue,registrationStatus:2,refreshToken:Tt.refreshToken,authToken:we(Tt.authToken)}}throw yield Ae("Create Installation",at)})).apply(this,arguments)}function Dt(X){return new Promise(fe=>{setTimeout(fe,X)})}const re=/^[cdef][\w-]{21}$/,oe="";function de(){try{const X=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(X),X[0]=112+X[0]%16;const Ue=function be(X){return function it(X){return btoa(String.fromCharCode(...X)).replace(/\+/g,"-").replace(/\//g,"_")}(X).substr(0,22)}(X);return re.test(Ue)?Ue:oe}catch{return oe}}function Ne(X){return`${X.appName}!${X.appId}`}const Me=new Map;function Xe(X,fe){const Ue=Ne(X);vt(Ue,fe),function ft(X,fe){const Ue=function Jt(){return!Ze&&"BroadcastChannel"in self&&(Ze=new BroadcastChannel("[Firebase] FID Change"),Ze.onmessage=X=>{vt(X.data.key,X.data.fid)}),Ze}();Ue&&Ue.postMessage({key:X,fid:fe}),function Cn(){0===Me.size&&Ze&&(Ze.close(),Ze=null)}()}(Ue,fe)}function vt(X,fe){const Ue=Me.get(X);if(Ue)for(const ze of Ue)ze(fe)}let Ze=null;const wn="firebase-installations-database",on=1,nn="firebase-installations-store";let Qn=null;function kr(){return Qn||(Qn=(0,Te.X3)(wn,on,{upgrade:(X,fe)=>{0===fe&&X.createObjectStore(nn)}})),Qn}function Xn(X,fe){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,y.Z)(function*(X,fe){const Ue=Ne(X),Kt=(yield kr()).transaction(nn,"readwrite"),W=Kt.objectStore(nn),H=yield W.get(Ue);return yield W.put(fe,Ue),yield Kt.done,(!H||H.fid!==fe.fid)&&Xe(X,fe.fid),fe})).apply(this,arguments)}function Hr(X){return gn.apply(this,arguments)}function gn(){return(gn=(0,y.Z)(function*(X){const fe=Ne(X),ze=(yield kr()).transaction(nn,"readwrite");yield ze.objectStore(nn).delete(fe),yield ze.done})).apply(this,arguments)}function Mn(X,fe){return ot.apply(this,arguments)}function ot(){return(ot=(0,y.Z)(function*(X,fe){const Ue=Ne(X),Kt=(yield kr()).transaction(nn,"readwrite"),W=Kt.objectStore(nn),H=yield W.get(Ue),te=fe(H);return void 0===te?yield W.delete(Ue):yield W.put(te,Ue),yield Kt.done,te&&(!H||H.fid!==te.fid)&&Xe(X,te.fid),te})).apply(this,arguments)}function Jn(X){return dr.apply(this,arguments)}function dr(){return dr=(0,y.Z)(function*(X){let fe;const Ue=yield Mn(X.appConfig,ze=>{const Kt=function Ln(X){return Dn(X||{fid:de(),registrationStatus:0})}(ze),W=function Fn(X,fe){if(0===fe.registrationStatus){if(!navigator.onLine)return{installationEntry:fe,registrationPromise:Promise.reject(qe.create("app-offline"))};const Ue={fid:fe.fid,registrationStatus:1,registrationTime:Date.now()},ze=function Gr(X,fe){return St.apply(this,arguments)}(X,Ue);return{installationEntry:Ue,registrationPromise:ze}}return 1===fe.registrationStatus?{installationEntry:fe,registrationPromise:ht(X)}:{installationEntry:fe}}(X,Kt);return fe=W.registrationPromise,W.installationEntry});return Ue.fid===oe?{installationEntry:yield fe}:{installationEntry:Ue,registrationPromise:fe}}),dr.apply(this,arguments)}function St(){return St=(0,y.Z)(function*(X,fe){try{const Ue=yield function Ke(X,fe){return Ve.apply(this,arguments)}(X,fe);return Xn(X.appConfig,Ue)}catch(Ue){throw ie(Ue)&&409===Ue.customData.serverCode?yield Hr(X.appConfig):yield Xn(X.appConfig,{fid:fe.fid,registrationStatus:0}),Ue}}),St.apply(this,arguments)}function ht(X){return bt.apply(this,arguments)}function bt(){return(bt=(0,y.Z)(function*(X){let fe=yield mn(X.appConfig);for(;1===fe.registrationStatus;)yield Dt(100),fe=yield mn(X.appConfig);if(0===fe.registrationStatus){const{installationEntry:Ue,registrationPromise:ze}=yield Jn(X);return ze||Ue}return fe})).apply(this,arguments)}function mn(X){return Mn(X,fe=>{if(!fe)throw qe.create("installation-not-found");return Dn(fe)})}function Dn(X){return function Un(X){return 1===X.registrationStatus&&X.registrationTime+Ee<Date.now()}(X)?{fid:X.fid,registrationStatus:0}:X}function Sn(){return(Sn=(0,y.Z)(function*({appConfig:X,heartbeatServiceProvider:fe},Ue){const ze=function Vn(X,{fid:fe}){return`${De(X)}/${fe}/authTokens:generate`}(X,Ue),Kt=function Ie(X,{refreshToken:fe}){const Ue=ve(X);return Ue.append("Authorization",function me(X){return`${G} ${X}`}(fe)),Ue}(X,Ue),W=fe.getImmediate({optional:!0});if(W){const Tt=yield W.getHeartbeatsHeader();Tt&&Kt.append("x-firebase-client",Tt)}const te={method:"POST",headers:Kt,body:JSON.stringify({installation:{sdkVersion:Fe,appId:X.appId}})},at=yield Be(()=>fetch(ze,te));if(at.ok)return we(yield at.json());throw yield Ae("Generate Auth Token",at)})).apply(this,arguments)}function Ot(X){return zr.apply(this,arguments)}function zr(){return zr=(0,y.Z)(function*(X,fe=!1){let Ue;const ze=yield Mn(X.appConfig,W=>{if(!tt(W))throw qe.create("not-registered");const H=W.authToken;if(!fe&&function pt(X){return 2===X.requestStatus&&!function xt(X){const fe=Date.now();return fe<X.creationTime||X.creationTime+X.expiresIn<fe+Y}(X)}(H))return W;if(1===H.requestStatus)return Ue=function Vt(X,fe){return Dr.apply(this,arguments)}(X,fe),W;{if(!navigator.onLine)throw qe.create("app-offline");const te=function Qt(X){const fe={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},X),{authToken:fe})}(W);return Ue=function He(X,fe){return _e.apply(this,arguments)}(X,te),te}});return Ue?yield Ue:ze.authToken}),zr.apply(this,arguments)}function Dr(){return(Dr=(0,y.Z)(function*(X,fe){let Ue=yield Bn(X.appConfig);for(;1===Ue.authToken.requestStatus;)yield Dt(100),Ue=yield Bn(X.appConfig);const ze=Ue.authToken;return 0===ze.requestStatus?Ot(X,fe):ze})).apply(this,arguments)}function Bn(X){return Mn(X,fe=>{if(!tt(fe))throw qe.create("not-registered");return function An(X){return 1===X.requestStatus&&X.requestTime+Ee<Date.now()}(fe.authToken)?Object.assign(Object.assign({},fe),{authToken:{requestStatus:0}}):fe})}function _e(){return _e=(0,y.Z)(function*(X,fe){try{const Ue=yield function hr(X,fe){return Sn.apply(this,arguments)}(X,fe),ze=Object.assign(Object.assign({},fe),{authToken:Ue});return yield Xn(X.appConfig,ze),Ue}catch(Ue){if(!ie(Ue)||401!==Ue.customData.serverCode&&404!==Ue.customData.serverCode){const ze=Object.assign(Object.assign({},fe),{authToken:{requestStatus:0}});yield Xn(X.appConfig,ze)}else yield Hr(X.appConfig);throw Ue}}),_e.apply(this,arguments)}function tt(X){return void 0!==X&&2===X.registrationStatus}function B(){return(B=(0,y.Z)(function*(X){const fe=X,{installationEntry:Ue,registrationPromise:ze}=yield Jn(fe);return ze?ze.catch(console.error):Ot(fe).catch(console.error),Ue.fid})).apply(this,arguments)}function N(){return N=(0,y.Z)(function*(X,fe=!1){const Ue=X;return yield function x(X){return Z.apply(this,arguments)}(Ue),(yield Ot(Ue,fe)).token}),N.apply(this,arguments)}function Z(){return(Z=(0,y.Z)(function*(X){const{registrationPromise:fe}=yield Jn(X);fe&&(yield fe)})).apply(this,arguments)}function er(X){return qe.create("missing-app-config-values",{valueName:X})}const gs="installations",jo=X=>{const fe=X.getProvider("app").getImmediate(),Ue=function Ht(X){if(!X||!X.options)throw er("App Configuration");if(!X.name)throw er("App Name");const fe=["projectId","apiKey","appId"];for(const Ue of fe)if(!X.options[Ue])throw er(Ue);return{appName:X.name,projectId:X.options.projectId,apiKey:X.options.apiKey,appId:X.options.appId}}(fe);return{app:fe,appConfig:Ue,heartbeatServiceProvider:(0,$._getProvider)(fe,"heartbeat"),_delete:()=>Promise.resolve()}},co=X=>{const fe=X.getProvider("app").getImmediate(),Ue=(0,$._getProvider)(fe,gs).getImmediate();return{getId:()=>function j(X){return B.apply(this,arguments)}(Ue),getToken:Kt=>function k(X){return N.apply(this,arguments)}(Ue,Kt)}};(function fr(){(0,$._registerComponent)(new L.wA(gs,jo,"PUBLIC")),(0,$._registerComponent)(new L.wA("installations-internal",co,"PRIVATE"))})(),(0,$.registerVersion)(he,Le),(0,$.registerVersion)(he,Le,"esm2017")},1877:(Et,Se,V)=>{V.d(Se,{Am:()=>Fe,Ub:()=>Ee,Yd:()=>Le,in:()=>$});const y=[];var $=(()=>{return(G=$||($={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",$;var G})();const L={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},ce=$.INFO,Te={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},he=(G,z,...Y)=>{if(z<G.logLevel)return;const Ge=(new Date).toISOString(),ke=Te[z];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[ke](`[${Ge}]  ${G.name}:`,...Y)};class Le{constructor(z){this.name=z,this._logLevel=ce,this._logHandler=he,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in $))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?L[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...z),this._logHandler(this,$.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...z),this._logHandler(this,$.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,$.INFO,...z),this._logHandler(this,$.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,$.WARN,...z),this._logHandler(this,$.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...z),this._logHandler(this,$.ERROR,...z)}}function Ee(G){y.forEach(z=>{z.setLogLevel(G)})}function Fe(G,z){for(const Y of y){let Ge=null;z&&z.level&&(Ge=L[z.level]),Y.userLogHandler=null===G?null:(ke,rt,...qe)=>{const ie=qe.map(De=>{if(null==De)return null;if("string"==typeof De)return De;if("number"==typeof De||"boolean"==typeof De)return De.toString();if(De instanceof Error)return De.message;try{return JSON.stringify(De)}catch{return null}}).filter(De=>De).join(" ");rt>=(Ge??ke.logLevel)&&G({level:$[rt].toLowerCase(),message:ie,args:qe,type:ke.name})}}}},9260:(Et,Se,V)=>{V.d(Se,{Z:()=>y.Z});var y=V(3942);y.Z.registerVersion("firebase","9.18.0","app-compat")},9568:(Et,Se,V)=>{V.r(Se);var y=V(5861),$=V(3942),L=V(5114),ce=V(2090),Le=(V(9681),V(1877),V(4859));function Ee(){return window}const Fe=2e3;function z(){return z=(0,y.Z)(function*(k,N,x){var Z;const{BuildInfo:ae}=Ee();(0,L.ap)(N.sessionId,"AuthEvent did not contain a session ID");const nt=yield function De(k){return we.apply(this,arguments)}(N.sessionId),At={};return(0,L.aq)()?At.ibi=ae.packageName:(0,L.ar)()?At.apn=ae.packageName:(0,L.as)(k,"operation-not-supported-in-this-environment"),ae.displayName&&(At.appDisplayName=ae.displayName),At.sessionId=nt,(0,L.at)(k,x,N.type,void 0,null!==(Z=N.eventId)&&void 0!==Z?Z:void 0,At)}),z.apply(this,arguments)}function Ge(){return(Ge=(0,y.Z)(function*(k){const{BuildInfo:N}=Ee(),x={};(0,L.aq)()?x.iosBundleId=N.packageName:(0,L.ar)()?x.androidPackageName=N.packageName:(0,L.as)(k,"operation-not-supported-in-this-environment"),yield(0,L.au)(k,x)})).apply(this,arguments)}function qe(){return(qe=(0,y.Z)(function*(k,N,x){const{cordova:Z}=Ee();let ae=()=>{};try{yield new Promise((nt,At)=>{let kt=null;function Lt(){var Ht;nt();const er=null===(Ht=Z.plugins.browsertab)||void 0===Ht?void 0:Ht.close;"function"==typeof er&&er(),"function"==typeof x?.close&&x.close()}function Ct(){kt||(kt=window.setTimeout(()=>{At((0,L.aw)(k,"redirect-cancelled-by-user"))},Fe))}function _n(){"visible"===document?.visibilityState&&Ct()}N.addPassiveListener(Lt),document.addEventListener("resume",Ct,!1),(0,L.ar)()&&document.addEventListener("visibilitychange",_n,!1),ae=()=>{N.removePassiveListener(Lt),document.removeEventListener("resume",Ct,!1),document.removeEventListener("visibilitychange",_n,!1),kt&&window.clearTimeout(kt)}})}finally{ae()}})).apply(this,arguments)}function we(){return(we=(0,y.Z)(function*(k){const N=function Ae(k){if((0,L.ap)(/[0-9a-zA-Z]+/.test(k),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(k);const N=new ArrayBuffer(k.length),x=new Uint8Array(N);for(let Z=0;Z<k.length;Z++)x[Z]=k.charCodeAt(Z);return x}(k),x=yield crypto.subtle.digest("SHA-256",N);return Array.from(new Uint8Array(x)).map(ae=>ae.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const ye=20;class ve extends L.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(N=>{this.resolveInialized=N})}addPassiveListener(N){this.passiveListeners.add(N)}removePassiveListener(N){this.passiveListeners.delete(N)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(N){return this.resolveInialized(),this.passiveListeners.forEach(x=>x(N)),super.onEvent(N)}initialized(){var N=this;return(0,y.Z)(function*(){yield N.initPromise})()}}function K(k){return ne.apply(this,arguments)}function ne(){return(ne=(0,y.Z)(function*(k){const N=yield Ve()._get(Dt(k));return N&&(yield Ve()._remove(Dt(k))),N})).apply(this,arguments)}function Ke(){const k=[],N="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<ye;x++){const Z=Math.floor(Math.random()*N.length);k.push(N.charAt(Z))}return k.join("")}function Ve(){return(0,L.az)(L.b)}function Dt(k){return(0,L.aA)("authEvent",k.config.apiKey,k.name)}function oe(k){if(!k?.includes("?"))return{};const[N,...x]=k.split("?");return(0,ce.zd)(x.join("?"))}const Ne=class be{constructor(){this._redirectPersistence=L.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=L.aB,this._overrideRedirectResult=L.aC}_initialize(N){var x=this;return(0,y.Z)(function*(){const Z=N._key();let ae=x.eventManagers.get(Z);return ae||(ae=new ve(N),x.eventManagers.set(Z,ae),x.attachCallbackListeners(N,ae)),ae})()}_openPopup(N){(0,L.as)(N,"operation-not-supported-in-this-environment")}_openRedirect(N,x,Z,ae){var nt=this;return(0,y.Z)(function*(){!function ie(k){var N,x,Z,ae,nt,At,kt,Lt,Ct,_n;const Ht=Ee();(0,L.ax)("function"==typeof(null===(N=Ht?.universalLinks)||void 0===N?void 0:N.subscribe),k,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,L.ax)(typeof(null===(x=Ht?.BuildInfo)||void 0===x?void 0:x.packageName)<"u",k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,L.ax)("function"==typeof(null===(nt=null===(ae=null===(Z=Ht?.cordova)||void 0===Z?void 0:Z.plugins)||void 0===ae?void 0:ae.browsertab)||void 0===nt?void 0:nt.openUrl),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.ax)("function"==typeof(null===(Lt=null===(kt=null===(At=Ht?.cordova)||void 0===At?void 0:At.plugins)||void 0===kt?void 0:kt.browsertab)||void 0===Lt?void 0:Lt.isAvailable),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.ax)("function"==typeof(null===(_n=null===(Ct=Ht?.cordova)||void 0===Ct?void 0:Ct.InAppBrowser)||void 0===_n?void 0:_n.open),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(N);const At=yield nt._initialize(N);yield At.initialized(),At.resetRedirect(),(0,L.aD)(),yield nt._originValidation(N);const kt=function Ie(k,N,x=null){return{type:N,eventId:x,urlResponse:null,sessionId:Ke(),postBody:null,tenantId:k.tenantId,error:(0,L.aw)(k,"no-auth-event")}}(N,Z,ae);yield function Be(k,N){return Ve()._set(Dt(k),N)}(N,kt);const Lt=yield function G(k,N,x){return z.apply(this,arguments)}(N,kt,x),Ct=yield function ke(k){const{cordova:N}=Ee();return new Promise(x=>{N.plugins.browsertab.isAvailable(Z=>{let ae=null;Z?N.plugins.browsertab.openUrl(k):ae=N.InAppBrowser.open(k,(0,L.av)()?"_blank":"_system","location=yes"),x(ae)})})}(Lt);return function rt(k,N,x){return qe.apply(this,arguments)}(N,At,Ct)})()}_isIframeWebStorageSupported(N,x){throw new Error("Method not implemented.")}_originValidation(N){const x=N._key();return this.originValidationPromises[x]||(this.originValidationPromises[x]=function Y(k){return Ge.apply(this,arguments)}(N)),this.originValidationPromises[x]}attachCallbackListeners(N,x){const{universalLinks:Z,handleOpenURL:ae,BuildInfo:nt}=Ee(),At=setTimeout((0,y.Z)(function*(){yield K(N),x.onEvent(Me())}),500),kt=function(){var _n=(0,y.Z)(function*(Ht){clearTimeout(At);const er=yield K(N);let gs=null;er&&Ht?.url&&(gs=function me(k,N){var x,Z;const ae=function re(k){const N=oe(k),x=N.link?decodeURIComponent(N.link):void 0,Z=oe(x).link,ae=N.deep_link_id?decodeURIComponent(N.deep_link_id):void 0;return oe(ae).link||ae||Z||x||k}(N);if(ae.includes("/__/auth/callback")){const nt=oe(ae),At=nt.firebaseError?function it(k){try{return JSON.parse(k)}catch{return null}}(decodeURIComponent(nt.firebaseError)):null,kt=null===(Z=null===(x=At?.code)||void 0===x?void 0:x.split("auth/"))||void 0===Z?void 0:Z[1],Lt=kt?(0,L.aw)(kt):null;return Lt?{type:k.type,eventId:k.eventId,tenantId:k.tenantId,error:Lt,urlResponse:null,sessionId:null,postBody:null}:{type:k.type,eventId:k.eventId,tenantId:k.tenantId,sessionId:k.sessionId,urlResponse:ae,postBody:null}}return null}(er,Ht.url)),x.onEvent(gs||Me())});return function(er){return _n.apply(this,arguments)}}();typeof Z<"u"&&"function"==typeof Z.subscribe&&Z.subscribe(null,kt);const Lt=ae,Ct=`${nt.packageName.toLowerCase()}://`;Ee().handleOpenURL=function(){var _n=(0,y.Z)(function*(Ht){if(Ht.toLowerCase().startsWith(Ct)&&kt({url:Ht}),"function"==typeof Lt)try{Lt(Ht)}catch(er){console.error(er)}});return function(Ht){return _n.apply(this,arguments)}}()}};function Me(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,L.aw)("no-auth-event")}}const vt=1e3;function ft(){var k;return(null===(k=self?.location)||void 0===k?void 0:k.protocol)||null}function Jt(k=(0,ce.z$)()){return!("file:"!==ft()&&"ionic:"!==ft()&&"capacitor:"!==ft()||!k.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qn(){try{const k=self.localStorage,N=L.aI();if(k)return k.setItem(N,"1"),k.removeItem(N),!function nn(k=(0,ce.z$)()){return function wn(){return(0,ce.w1)()&&11===document?.documentMode}()||function on(k=(0,ce.z$)()){return/Edge\/\d+/.test(k)}(k)}()||(0,ce.hl)()}catch{return kr()&&(0,ce.hl)()}return!1}function kr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xn(){return(function Ze(){return"http:"===ft()||"https:"===ft()}()||(0,ce.ru)()||Jt())&&!function Cn(){return(0,ce.b$)()||(0,ce.UG)()}()&&Qn()&&!kr()}function Mr(){return Jt()&&typeof document<"u"}function gn(){return(gn=(0,y.Z)(function*(){return!!Mr()&&new Promise(k=>{const N=setTimeout(()=>{k(!1)},vt);document.addEventListener("deviceready",()=>{clearTimeout(N),k(!0)})})})).apply(this,arguments)}const ot={LOCAL:"local",NONE:"none",SESSION:"session"},Jn=L.ax,dr="persistence";function Fn(k){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,y.Z)(function*(k){yield k._initializationPromise;const N=ht(),x=L.aA(dr,k.config.apiKey,k.name);N&&N.setItem(x,k._getPersistence())})).apply(this,arguments)}function ht(){var k;try{return(null===(k=function Mn(){return typeof window<"u"?window:null}())||void 0===k?void 0:k.sessionStorage)||null}catch{return null}}const bt=L.ax;class mn{constructor(){this.browserResolver=L.az(L.k),this.cordovaResolver=L.az(Ne),this.underlyingResolver=null,this._redirectPersistence=L.a,this._completeRedirectFn=L.aB,this._overrideRedirectResult=L.aC}_initialize(N){var x=this;return(0,y.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._initialize(N)})()}_openPopup(N,x,Z,ae){var nt=this;return(0,y.Z)(function*(){return yield nt.selectUnderlyingResolver(),nt.assertedUnderlyingResolver._openPopup(N,x,Z,ae)})()}_openRedirect(N,x,Z,ae){var nt=this;return(0,y.Z)(function*(){return yield nt.selectUnderlyingResolver(),nt.assertedUnderlyingResolver._openRedirect(N,x,Z,ae)})()}_isIframeWebStorageSupported(N,x){this.assertedUnderlyingResolver._isIframeWebStorageSupported(N,x)}_originValidation(N){return this.assertedUnderlyingResolver._originValidation(N)}get _shouldInitProactively(){return Mr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return bt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var N=this;return(0,y.Z)(function*(){if(N.underlyingResolver)return;const x=yield function Hr(){return gn.apply(this,arguments)}();N.underlyingResolver=x?N.cordovaResolver:N.browserResolver})()}}function Dn(k){return k.unwrap()}function hr(k){return Vn(k)}function Vn(k){const{_tokenResponse:N}=k instanceof ce.ZR?k.customData:k;if(!N)return null;if(!(k instanceof ce.ZR)&&"temporaryProof"in N&&"phoneNumber"in N)return L.P.credentialFromResult(k);const x=N.providerId;if(!x||x===L.o.PASSWORD)return null;let Z;switch(x){case L.o.GOOGLE:Z=L.Q;break;case L.o.FACEBOOK:Z=L.N;break;case L.o.GITHUB:Z=L.T;break;case L.o.TWITTER:Z=L.W;break;default:const{oauthIdToken:ae,oauthAccessToken:nt,oauthTokenSecret:At,pendingToken:kt,nonce:Lt}=N;return nt||At||ae||kt?kt?x.startsWith("saml.")?L.aL._create(x,kt):L.J._fromParams({providerId:x,signInMethod:x,pendingToken:kt,idToken:ae,accessToken:nt}):new L.U(x).credential({idToken:ae,accessToken:nt,rawNonce:Lt}):null}return k instanceof ce.ZR?Z.credentialFromError(k):Z.credentialFromResult(k)}function Ot(k,N){return N.catch(x=>{throw x instanceof ce.ZR&&function Sn(k,N){var x;const Z=null===(x=N.customData)||void 0===x?void 0:x._tokenResponse;if("auth/multi-factor-auth-required"===N?.code)N.resolver=new Dr(k,L.an(k,N));else if(Z){const ae=Vn(N),nt=N;ae&&(nt.credential=ae,nt.tenantId=Z.tenantId||void 0,nt.email=Z.email||void 0,nt.phoneNumber=Z.phoneNumber||void 0)}}(k,x),x}).then(x=>{const ae=x.user;return{operationType:x.operationType,credential:hr(x),additionalUserInfo:L.al(x),user:Bn.getOrCreate(ae)}})}function zr(k,N){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,y.Z)(function*(k,N){const x=yield N;return{verificationId:x.verificationId,confirm:Z=>Ot(k,x.confirm(Z))}})).apply(this,arguments)}class Dr{constructor(N,x){this.resolver=x,this.auth=function Un(k){return k.wrapped()}(N)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(N){return Ot(Dn(this.auth),this.resolver.resolveSignIn(N))}}class Bn{constructor(N){this._delegate=N,this.multiFactor=L.ao(N)}static getOrCreate(N){return Bn.USER_MAP.has(N)||Bn.USER_MAP.set(N,new Bn(N)),Bn.USER_MAP.get(N)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(N){return this._delegate.getIdTokenResult(N)}getIdToken(N){return this._delegate.getIdToken(N)}linkAndRetrieveDataWithCredential(N){return this.linkWithCredential(N)}linkWithCredential(N){var x=this;return(0,y.Z)(function*(){return Ot(x.auth,L.Z(x._delegate,N))})()}linkWithPhoneNumber(N,x){var Z=this;return(0,y.Z)(function*(){return zr(Z.auth,L.l(Z._delegate,N,x))})()}linkWithPopup(N){var x=this;return(0,y.Z)(function*(){return Ot(x.auth,L.d(x._delegate,N,mn))})()}linkWithRedirect(N){var x=this;return(0,y.Z)(function*(){return yield Fn(L.aE(x.auth)),L.g(x._delegate,N,mn)})()}reauthenticateAndRetrieveDataWithCredential(N){return this.reauthenticateWithCredential(N)}reauthenticateWithCredential(N){var x=this;return(0,y.Z)(function*(){return Ot(x.auth,L._(x._delegate,N))})()}reauthenticateWithPhoneNumber(N,x){return zr(this.auth,L.r(this._delegate,N,x))}reauthenticateWithPopup(N){return Ot(this.auth,L.e(this._delegate,N,mn))}reauthenticateWithRedirect(N){var x=this;return(0,y.Z)(function*(){return yield Fn(L.aE(x.auth)),L.h(x._delegate,N,mn)})()}sendEmailVerification(N){return L.ab(this._delegate,N)}unlink(N){var x=this;return(0,y.Z)(function*(){return yield L.ak(x._delegate,N),x})()}updateEmail(N){return L.ag(this._delegate,N)}updatePassword(N){return L.ah(this._delegate,N)}updatePhoneNumber(N){return L.u(this._delegate,N)}updateProfile(N){return L.af(this._delegate,N)}verifyBeforeUpdateEmail(N,x){return L.ac(this._delegate,N,x)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Bn.USER_MAP=new WeakMap;const He=L.ax;let _e=(()=>{class k{constructor(x,Z){if(this.app=x,Z.isInitialized())return this._delegate=Z.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ae}=x.options;He(ae,"invalid-api-key",{appName:x.name}),He(ae,"invalid-api-key",{appName:x.name});const nt=typeof window<"u"?mn:void 0;this._delegate=Z.initialize({options:{persistence:pt(ae,x.name),popupRedirectResolver:nt}}),this._delegate._updateErrorMap(L.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Bn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(x){this._delegate.languageCode=x}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(x){this._delegate.tenantId=x}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(x,Z){L.G(this._delegate,x,Z)}applyActionCode(x){return L.a2(this._delegate,x)}checkActionCode(x){return L.a3(this._delegate,x)}confirmPasswordReset(x,Z){return L.a1(this._delegate,x,Z)}createUserWithEmailAndPassword(x,Z){var ae=this;return(0,y.Z)(function*(){return Ot(ae._delegate,L.a5(ae._delegate,x,Z))})()}fetchProvidersForEmail(x){return this.fetchSignInMethodsForEmail(x)}fetchSignInMethodsForEmail(x){return L.aa(this._delegate,x)}isSignInWithEmailLink(x){return L.a8(this._delegate,x)}getRedirectResult(){var x=this;return(0,y.Z)(function*(){He(Xn(),x._delegate,"operation-not-supported-in-this-environment");const Z=yield L.j(x._delegate,mn);return Z?Ot(x._delegate,Promise.resolve(Z)):{credential:null,user:null}})()}addFrameworkForLogging(x){!function Xe(k,N){(0,L.aE)(k)._logFramework(N)}(this._delegate,x)}onAuthStateChanged(x,Z,ae){const{next:nt,error:At,complete:kt}=tt(x,Z,ae);return this._delegate.onAuthStateChanged(nt,At,kt)}onIdTokenChanged(x,Z,ae){const{next:nt,error:At,complete:kt}=tt(x,Z,ae);return this._delegate.onIdTokenChanged(nt,At,kt)}sendSignInLinkToEmail(x,Z){return L.a7(this._delegate,x,Z)}sendPasswordResetEmail(x,Z){return L.a0(this._delegate,x,Z||void 0)}setPersistence(x){var Z=this;return(0,y.Z)(function*(){let ae;switch(function Ln(k,N){Jn(Object.values(ot).includes(N),k,"invalid-persistence-type"),(0,ce.b$)()?Jn(N!==ot.SESSION,k,"unsupported-persistence-type"):(0,ce.UG)()?Jn(N===ot.NONE,k,"unsupported-persistence-type"):kr()?Jn(N===ot.NONE||N===ot.LOCAL&&(0,ce.hl)(),k,"unsupported-persistence-type"):Jn(N===ot.NONE||Qn(),k,"unsupported-persistence-type")}(Z._delegate,x),x){case ot.SESSION:ae=L.a;break;case ot.LOCAL:ae=(yield L.az(L.i)._isAvailable())?L.i:L.b;break;case ot.NONE:ae=L.L;break;default:return L.as("argument-error",{appName:Z._delegate.name})}return Z._delegate.setPersistence(ae)})()}signInAndRetrieveDataWithCredential(x){return this.signInWithCredential(x)}signInAnonymously(){return Ot(this._delegate,L.X(this._delegate))}signInWithCredential(x){return Ot(this._delegate,L.Y(this._delegate,x))}signInWithCustomToken(x){return Ot(this._delegate,L.$(this._delegate,x))}signInWithEmailAndPassword(x,Z){return Ot(this._delegate,L.a6(this._delegate,x,Z))}signInWithEmailLink(x,Z){return Ot(this._delegate,L.a9(this._delegate,x,Z))}signInWithPhoneNumber(x,Z){return zr(this._delegate,L.s(this._delegate,x,Z))}signInWithPopup(x){var Z=this;return(0,y.Z)(function*(){return He(Xn(),Z._delegate,"operation-not-supported-in-this-environment"),Ot(Z._delegate,L.c(Z._delegate,x,mn))})()}signInWithRedirect(x){var Z=this;return(0,y.Z)(function*(){return He(Xn(),Z._delegate,"operation-not-supported-in-this-environment"),yield Fn(Z._delegate),L.f(Z._delegate,x,mn)})()}updateCurrentUser(x){return this._delegate.updateCurrentUser(x)}verifyPasswordResetCode(x){return L.a4(this._delegate,x)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return k.Persistence=ot,k})();function tt(k,N,x){let Z=k;"function"!=typeof k&&({next:Z,error:N,complete:x}=k);const ae=Z;return{next:At=>ae(At&&Bn.getOrCreate(At)),error:N,complete:x}}function pt(k,N){const x=function St(k,N){const x=ht();if(!x)return[];const Z=L.aA(dr,k,N);switch(x.getItem(Z)){case ot.NONE:return[L.L];case ot.LOCAL:return[L.i,L.a];case ot.SESSION:return[L.a];default:return[]}}(k,N);if(typeof self<"u"&&!x.includes(L.i)&&x.push(L.i),typeof window<"u")for(const Z of[L.b,L.a])x.includes(Z)||x.push(Z);return x.includes(L.L)||x.push(L.L),x}class xt{constructor(){this.providerId="phone",this._delegate=new L.P(Dn($.Z.auth()))}static credential(N,x){return L.P.credential(N,x)}verifyPhoneNumber(N,x){return this._delegate.verifyPhoneNumber(N,x)}unwrap(){return this._delegate}}xt.PHONE_SIGN_IN_METHOD=L.P.PHONE_SIGN_IN_METHOD,xt.PROVIDER_ID=L.P.PROVIDER_ID;const Qt=L.ax;class An{constructor(N,x,Z=$.Z.app()){var ae;Qt(null===(ae=Z.options)||void 0===ae?void 0:ae.apiKey,"invalid-api-key",{appName:Z.name}),this._delegate=new L.R(N,x,Z.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function B(k){k.INTERNAL.registerComponent(new Le.wA("auth-compat",N=>{const x=N.getProvider("app-compat").getImmediate(),Z=N.getProvider("auth");return new _e(x,Z)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:L.A.EMAIL_SIGNIN,PASSWORD_RESET:L.A.PASSWORD_RESET,RECOVER_EMAIL:L.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:L.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:L.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:L.A.VERIFY_EMAIL}},EmailAuthProvider:L.M,FacebookAuthProvider:L.N,GithubAuthProvider:L.T,GoogleAuthProvider:L.Q,OAuthProvider:L.U,SAMLAuthProvider:L.V,PhoneAuthProvider:xt,PhoneMultiFactorGenerator:L.m,RecaptchaVerifier:An,TwitterAuthProvider:L.W,Auth:_e,AuthCredential:L.H,Error:ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),k.registerVersion("@firebase/auth-compat","0.3.5")}($.Z)},7834:(Et,Se,V)=>{V.r(Se),V.d(Se,{getPerformance:()=>X,initializePerformance:()=>fe,trace:()=>Ue});var y=V(2090),$=V(1877),L=V(9681),ce=V(4859);V(2833);const he="@firebase/performance",Le="0.6.4",Ee=Le,z="FB-PERF-TRACE-MEASURE",Y="_wt_",qe="@firebase/performance/config",ie="@firebase/performance/configexpire",we="Performance",ye=new y.LL("performance",we,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),ve=new $.Yd(we);let Ie,Be,me,re;ve.logLevel=$.in.INFO;class K{constructor(H){if(this.window=H,!H)throw ye.create("no window");this.performance=H.performance,this.PerformanceObserver=H.PerformanceObserver,this.windowLocation=H.location,this.navigator=H.navigator,this.document=H.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=H.localStorage),H.perfMetrics&&H.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=H.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(H){!this.performance||!this.performance.mark||this.performance.mark(H)}measure(H,te,at){!this.performance||!this.performance.measure||this.performance.measure(H,te,at)}getEntriesByType(H){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(H):[]}getEntriesByName(H){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(H):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&(0,y.zI)()?!!(0,y.hl)()||(ve.info("IndexedDB is not supported by current browswer"),!1):(ve.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(H,te){this.PerformanceObserver&&new this.PerformanceObserver(Tt=>{for(const In of Tt.getEntries())te(In)}).observe({entryTypes:[H]})}static getInstance(){return void 0===Ie&&(Ie=new K(Be)),Ie}}function Ve(){return me}function it(W,H){const te=W.length-H.length;if(te<0||te>1)throw ye.create("invalid String merger input");const at=[];for(let Tt=0;Tt<W.length;Tt++)at.push(W.charAt(Tt)),H.length>Tt&&at.push(H.charAt(Tt));return at.join("")}class oe{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=it("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=it("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===re&&(re=new oe),re}}var de=(()=>{return(W=de||(de={}))[W.UNKNOWN=0]="UNKNOWN",W[W.VISIBLE=1]="VISIBLE",W[W.HIDDEN=2]="HIDDEN",de;var W})();const be=["firebase_","google_","ga_"],Ne=new RegExp("^[a-zA-Z]\\w*$");function st(){const W=K.getInstance().navigator;return W?.serviceWorker?W.serviceWorker.controller?2:3:1}function hn(){switch(K.getInstance().document.visibilityState){case"visible":return de.VISIBLE;case"hidden":return de.HIDDEN;default:return de.UNKNOWN}}function vt(){const H=K.getInstance().navigator.connection;switch(H&&H.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function Jt(W){var H;const te=null===(H=W.options)||void 0===H?void 0:H.appId;if(!te)throw ye.create("no app id");return te}const on="0.0.1",nn={loggingEnabled:!0},Qn="FIREBASE_INSTALLATIONS_AUTH";const Hr="Could not fetch config, will use default configs";function Mn(W){if(!W)return W;const H=oe.getInstance(),te=W.entries||{};return H.loggingEnabled=void 0!==te.fpr_enabled?"true"===String(te.fpr_enabled):nn.loggingEnabled,te.fpr_log_source?H.logSource=Number(te.fpr_log_source):nn.logSource&&(H.logSource=nn.logSource),te.fpr_log_endpoint_url?H.logEndPointUrl=te.fpr_log_endpoint_url:nn.logEndPointUrl&&(H.logEndPointUrl=nn.logEndPointUrl),te.fpr_log_transport_key?H.transportKey=te.fpr_log_transport_key:nn.transportKey&&(H.transportKey=nn.transportKey),void 0!==te.fpr_vc_network_request_sampling_rate?H.networkRequestsSamplingRate=Number(te.fpr_vc_network_request_sampling_rate):void 0!==nn.networkRequestsSamplingRate&&(H.networkRequestsSamplingRate=nn.networkRequestsSamplingRate),void 0!==te.fpr_vc_trace_sampling_rate?H.tracesSamplingRate=Number(te.fpr_vc_trace_sampling_rate):void 0!==nn.tracesSamplingRate&&(H.tracesSamplingRate=nn.tracesSamplingRate),H.logTraceAfterSampling=Jn(H.tracesSamplingRate),H.logNetworkAfterSampling=Jn(H.networkRequestsSamplingRate),W}function Jn(W){return Math.random()<=W}let Ln,dr=1;function Fn(W){return dr=2,Ln=Ln||function St(W){return function ht(){const W=K.getInstance().document;return new Promise(H=>{if(W&&"complete"!==W.readyState){const te=()=>{"complete"===W.readyState&&(W.removeEventListener("readystatechange",te),H())};W.addEventListener("readystatechange",te)}else H()})}().then(()=>function Ke(W){const H=W.getId();return H.then(te=>{me=te}),H}(W.installations)).then(H=>function kr(W,H){const te=function Xn(){const W=K.getInstance().localStorage;if(!W)return;const H=W.getItem(ie);if(!H||!function ot(W){return Number(W)>Date.now()}(H))return;const te=W.getItem(qe);if(te)try{return JSON.parse(te)}catch{return}}();return te?(Mn(te),Promise.resolve()):function gn(W,H){return function Dt(W){const H=W.getToken();return H.then(te=>{}),H}(W.installations).then(te=>{const at=function Cn(W){var H;const te=null===(H=W.options)||void 0===H?void 0:H.projectId;if(!te)throw ye.create("no project id");return te}(W.app),Tt=function wn(W){var H;const te=null===(H=W.options)||void 0===H?void 0:H.apiKey;if(!te)throw ye.create("no api key");return te}(W.app),Nn=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${at}/namespaces/fireperf:fetch?key=${Tt}`,{method:"POST",headers:{Authorization:`${Qn} ${te}`},body:JSON.stringify({app_instance_id:H,app_instance_id_token:te,app_id:Jt(W.app),app_version:Ee,sdk_version:on})});return fetch(Nn).then(Qe=>{if(Qe.ok)return Qe.json();throw ye.create("RC response not ok")})}).catch(()=>{ve.info(Hr)})}(W,H).then(Mn).then(at=>function Mr(W){const H=K.getInstance().localStorage;!W||!H||(H.setItem(qe,JSON.stringify(W)),H.setItem(ie,String(Date.now()+60*oe.getInstance().configTimeToLive*60*1e3)))}(at),()=>{})}(W,H)).then(()=>bt(),()=>bt())}(W),Ln}function bt(){dr=3}const mn=1e4,Un=3,hr=1e3;let pt,Sn=Un,Vn=[],Ot=!1;function Vt(W){setTimeout(()=>{if(0!==Sn){if(!Vn.length)return Vt(mn);!function Dr(){const W=Vn.splice(0,hr),H=W.map(at=>({source_extension_json_proto3:at.message,event_time_ms:String(at.eventTime)}));(function Bn(W,H){return function He(W){const H=oe.getInstance().getFlTransportFullUrl();return fetch(H,{method:"POST",body:JSON.stringify(W)})}(W).then(te=>(te.ok||ve.info("Call to Firebase backend failed."),te.json())).then(te=>{const at=Number(te.nextRequestWaitMillis);let Tt=mn;isNaN(at)||(Tt=Math.max(at,Tt));const In=te.logResponseDetails;Array.isArray(In)&&In.length>0&&"RETRY_REQUEST_LATER"===In[0].responseAction&&(Vn=[...H,...Vn],ve.info("Retry transport request later.")),Sn=Un,Vt(Tt)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:oe.getInstance().logSource,log_event:H},W).catch(()=>{Vn=[...W,...Vn],Sn--,ve.info(`Tries left: ${Sn}.`),Vt(mn)})}()}},W)}function xt(W,H){pt||(pt=function tt(W){return(...H)=>{!function _e(W){if(!W.eventTime||!W.message)throw ye.create("invalid cc log");Vn=[...Vn,W]}({message:W(...H),eventTime:Date.now()})}}(B)),pt(W,H)}function Qt(W){const H=oe.getInstance();!H.instrumentationEnabled&&W.isAuto||!H.dataCollectionEnabled&&!W.isAuto||K.getInstance().requiredApisAvailable()&&(W.isAuto&&hn()!==de.VISIBLE||(function Gr(){return 3===dr}()?An(W):Fn(W.performanceController).then(()=>An(W),()=>An(W))))}function An(W){if(!Ve())return;const H=oe.getInstance();!H.loggingEnabled||!H.logTraceAfterSampling||setTimeout(()=>xt(W,1),0)}function B(W,H){return 0===H?function k(W){const H={url:W.url,http_method:W.httpMethod||0,http_response_code:200,response_payload_bytes:W.responsePayloadBytes,client_start_time_us:W.startTimeUs,time_to_response_initiated_us:W.timeToResponseInitiatedUs,time_to_response_completed_us:W.timeToResponseCompletedUs},te={application_info:x(W.performanceController.app),network_request_metric:H};return JSON.stringify(te)}(W):function N(W){const H={name:W.name,is_auto:W.isAuto,client_start_time_us:W.startTimeUs,duration_us:W.durationUs};0!==Object.keys(W.counters).length&&(H.counters=W.counters);const te=W.getAttributes();0!==Object.keys(te).length&&(H.custom_attributes=te);const at={application_info:x(W.performanceController.app),trace_metric:H};return JSON.stringify(at)}(W)}function x(W){return{google_app_id:Jt(W),app_instance_id:Ve(),web_app_info:{sdk_version:Ee,page_url:K.getInstance().getUrl(),service_worker_status:st(),visibility_state:hn(),effective_connection_type:vt()},application_process_state:0}}const nt=["_fp","_fcp","_fid"];class Lt{constructor(H,te,at=!1,Tt){this.performanceController=H,this.name=te,this.isAuto=at,this.state=1,this.customAttributes={},this.counters={},this.api=K.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=Tt||`${z}-${this.randomId}-${this.name}`,Tt&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw ye.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw ye.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Qt(this)}record(H,te,at){if(H<=0)throw ye.create("nonpositive trace startTime",{traceName:this.name});if(te<=0)throw ye.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*te),this.startTimeUs=Math.floor(1e3*H),at&&at.attributes&&(this.customAttributes=Object.assign({},at.attributes)),at&&at.metrics)for(const Tt of Object.keys(at.metrics))isNaN(Number(at.metrics[Tt]))||(this.counters[Tt]=Math.floor(Number(at.metrics[Tt])));Qt(this)}incrementMetric(H,te=1){this.putMetric(H,void 0===this.counters[H]?te:this.counters[H]+te)}putMetric(H,te){if(!function At(W,H){return!(0===W.length||W.length>100)&&(H&&H.startsWith(Y)&&nt.indexOf(W)>-1||!W.startsWith("_"))}(H,this.name))throw ye.create("invalid custom metric name",{customMetricName:H});this.counters[H]=function kt(W){const H=Math.floor(W);return H<W&&ve.info(`Metric value should be an Integer, setting the value as : ${H}.`),H}(te??0)}getMetric(H){return this.counters[H]||0}putAttribute(H,te){const at=function ft(W){return!(0===W.length||W.length>40||be.some(te=>W.startsWith(te))||!W.match(Ne))}(H),Tt=function Ze(W){return 0!==W.length&&W.length<=100}(te);if(at&&Tt)this.customAttributes[H]=te;else{if(!at)throw ye.create("invalid attribute name",{attributeName:H});if(!Tt)throw ye.create("invalid attribute value",{attributeValue:te})}}getAttribute(H){return this.customAttributes[H]}removeAttribute(H){void 0!==this.customAttributes[H]&&delete this.customAttributes[H]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(H){this.startTimeUs=H}setDuration(H){this.durationUs=H}calculateTraceMetrics(){const H=this.api.getEntriesByName(this.traceMeasure),te=H&&H[0];te&&(this.durationUs=Math.floor(1e3*te.duration),this.startTimeUs=Math.floor(1e3*(te.startTime+this.api.getTimeOrigin())))}static createOobTrace(H,te,at,Tt){const In=K.getInstance().getUrl();if(!In)return;const Nn=new Lt(H,Y+In,!0),Qe=Math.floor(1e3*K.getInstance().getTimeOrigin());if(Nn.setStartTime(Qe),te&&te[0]&&(Nn.setDuration(Math.floor(1e3*te[0].duration)),Nn.putMetric("domInteractive",Math.floor(1e3*te[0].domInteractive)),Nn.putMetric("domContentLoadedEventEnd",Math.floor(1e3*te[0].domContentLoadedEventEnd)),Nn.putMetric("loadEventEnd",Math.floor(1e3*te[0].loadEventEnd))),at){const wr=at.find(pr=>"first-paint"===pr.name);wr&&wr.startTime&&Nn.putMetric("_fp",Math.floor(1e3*wr.startTime));const Ii=at.find(pr=>"first-contentful-paint"===pr.name);Ii&&Ii.startTime&&Nn.putMetric("_fcp",Math.floor(1e3*Ii.startTime)),Tt&&Nn.putMetric("_fid",Math.floor(1e3*Tt))}Qt(Nn)}static createUserTimingTrace(H,te){Qt(new Lt(H,te,!1,te))}}function Ct(W,H){const te=H;if(!te||void 0===te.responseStart)return;const at=K.getInstance().getTimeOrigin(),Tt=Math.floor(1e3*(te.startTime+at)),In=te.responseStart?Math.floor(1e3*(te.responseStart-te.startTime)):void 0,Nn=Math.floor(1e3*(te.responseEnd-te.startTime));!function j(W){const H=oe.getInstance();if(!H.instrumentationEnabled)return;const te=W.url,at=H.logEndPointUrl.split("?")[0],Tt=H.flTransportEndpointUrl.split("?")[0];te===at||te===Tt||!H.loggingEnabled||!H.logNetworkAfterSampling||setTimeout(()=>xt(W,0),0)}({performanceController:W,url:te.name&&te.name.split("?")[0],responsePayloadBytes:te.transferSize,startTimeUs:Tt,timeToResponseInitiatedUs:In,timeToResponseCompletedUs:Nn})}const _n=5e3;function Ht(W){Ve()&&(setTimeout(()=>function gs(W){const H=K.getInstance(),te=H.getEntriesByType("navigation"),at=H.getEntriesByType("paint");if(H.onFirstInputDelay){let Tt=setTimeout(()=>{Lt.createOobTrace(W,te,at),Tt=void 0},_n);H.onFirstInputDelay(In=>{Tt&&(clearTimeout(Tt),Lt.createOobTrace(W,te,at,In))})}else Lt.createOobTrace(W,te,at)}(W),0),setTimeout(()=>function er(W){const H=K.getInstance(),te=H.getEntriesByType("resource");for(const at of te)Ct(W,at);H.setupObserver("resource",at=>Ct(W,at))}(W),0),setTimeout(()=>function Ls(W){const H=K.getInstance(),te=H.getEntriesByType("measure");for(const at of te)jo(W,at);H.setupObserver("measure",at=>jo(W,at))}(W),0))}function jo(W,H){const te=H.name;te.substring(0,z.length)!==z&&Lt.createUserTimingTrace(W,te)}class co{constructor(H,te){this.app=H,this.installations=te,this.initialized=!1}_init(H){this.initialized||(void 0!==H?.dataCollectionEnabled&&(this.dataCollectionEnabled=H.dataCollectionEnabled),void 0!==H?.instrumentationEnabled&&(this.instrumentationEnabled=H.instrumentationEnabled),K.getInstance().requiredApisAvailable()?(0,y.eu)().then(te=>{te&&(function zr(){Ot||(Vt(5500),Ot=!0)}(),Fn(this).then(()=>Ht(this),()=>Ht(this)),this.initialized=!0)}).catch(te=>{ve.info(`Environment doesn't support IndexedDB: ${te}`)}):ve.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(H){oe.getInstance().instrumentationEnabled=H}get instrumentationEnabled(){return oe.getInstance().instrumentationEnabled}set dataCollectionEnabled(H){oe.getInstance().dataCollectionEnabled=H}get dataCollectionEnabled(){return oe.getInstance().dataCollectionEnabled}}function X(W=(0,L.getApp)()){return W=(0,y.m9)(W),(0,L._getProvider)(W,"performance").getImmediate()}function fe(W,H){W=(0,y.m9)(W);const te=(0,L._getProvider)(W,"performance");if(te.isInitialized()){const Tt=te.getImmediate(),In=te.getOptions();if((0,y.vZ)(In,H??{}))return Tt;throw ye.create("already initialized")}return te.initialize({options:H})}function Ue(W,H){return W=(0,y.m9)(W),new Lt(W,H)}const ze=(W,{options:H})=>{const te=W.getProvider("app").getImmediate(),at=W.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==te.name)throw ye.create("FB not default");if(typeof window>"u")throw ye.create("no window");!function ne(W){Be=W}(window);const Tt=new co(te,at);return Tt._init(H),Tt};!function Kt(){(0,L._registerComponent)(new ce.wA("performance",ze,"PUBLIC")),(0,L.registerVersion)(he,Le),(0,L.registerVersion)(he,Le,"esm2017")}()},8766:(Et,Se,V)=>{V.d(Se,{Lj:()=>ye,X3:()=>Ae});var y=V(5861);const $=(ne,me)=>me.some(Ke=>ne instanceof Ke);let L,ce;const Le=new WeakMap,Ee=new WeakMap,Fe=new WeakMap,G=new WeakMap,z=new WeakMap;let ke={get(ne,me,Ke){if(ne instanceof IDBTransaction){if("done"===me)return Ee.get(ne);if("objectStoreNames"===me)return ne.objectStoreNames||Fe.get(ne);if("store"===me)return Ke.objectStoreNames[1]?void 0:Ke.objectStore(Ke.objectStoreNames[0])}return De(ne[me])},set:(ne,me,Ke)=>(ne[me]=Ke,!0),has:(ne,me)=>ne instanceof IDBTransaction&&("done"===me||"store"===me)||me in ne};function ie(ne){return"function"==typeof ne?function qe(ne){return ne!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return ce||(ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ne)?function(...me){return ne.apply(we(this),me),De(Le.get(this))}:function(...me){return De(ne.apply(we(this),me))}:function(me,...Ke){const Ve=ne.call(we(this),me,...Ke);return Fe.set(Ve,me.sort?me.sort():[me]),De(Ve)}}(ne):(ne instanceof IDBTransaction&&function Ge(ne){if(Ee.has(ne))return;const me=new Promise((Ke,Ve)=>{const Dt=()=>{ne.removeEventListener("complete",it),ne.removeEventListener("error",re),ne.removeEventListener("abort",re)},it=()=>{Ke(),Dt()},re=()=>{Ve(ne.error||new DOMException("AbortError","AbortError")),Dt()};ne.addEventListener("complete",it),ne.addEventListener("error",re),ne.addEventListener("abort",re)});Ee.set(ne,me)}(ne),$(ne,function Te(){return L||(L=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ne,ke):ne)}function De(ne){if(ne instanceof IDBRequest)return function Y(ne){const me=new Promise((Ke,Ve)=>{const Dt=()=>{ne.removeEventListener("success",it),ne.removeEventListener("error",re)},it=()=>{Ke(De(ne.result)),Dt()},re=()=>{Ve(ne.error),Dt()};ne.addEventListener("success",it),ne.addEventListener("error",re)});return me.then(Ke=>{Ke instanceof IDBCursor&&Le.set(Ke,ne)}).catch(()=>{}),z.set(me,ne),me}(ne);if(G.has(ne))return G.get(ne);const me=ie(ne);return me!==ne&&(G.set(ne,me),z.set(me,ne)),me}const we=ne=>z.get(ne);function Ae(ne,me,{blocked:Ke,upgrade:Ve,blocking:Dt,terminated:it}={}){const re=indexedDB.open(ne,me),oe=De(re);return Ve&&re.addEventListener("upgradeneeded",de=>{Ve(De(re.result),de.oldVersion,de.newVersion,De(re.transaction))}),Ke&&re.addEventListener("blocked",()=>Ke()),oe.then(de=>{it&&de.addEventListener("close",()=>it()),Dt&&de.addEventListener("versionchange",()=>Dt())}).catch(()=>{}),oe}function ye(ne,{blocked:me}={}){const Ke=indexedDB.deleteDatabase(ne);return me&&Ke.addEventListener("blocked",()=>me()),De(Ke).then(()=>{})}const ve=["get","getKey","getAll","getAllKeys","count"],Ie=["put","add","delete","clear"],Be=new Map;function K(ne,me){if(!(ne instanceof IDBDatabase)||me in ne||"string"!=typeof me)return;if(Be.get(me))return Be.get(me);const Ke=me.replace(/FromIndex$/,""),Ve=me!==Ke,Dt=Ie.includes(Ke);if(!(Ke in(Ve?IDBIndex:IDBObjectStore).prototype)||!Dt&&!ve.includes(Ke))return;const it=function(){var re=(0,y.Z)(function*(oe,...de){const be=this.transaction(oe,Dt?"readwrite":"readonly");let Ne=be.store;return Ve&&(Ne=Ne.index(de.shift())),(yield Promise.all([Ne[Ke](...de),Dt&&be.done]))[0]});return function(de){return re.apply(this,arguments)}}();return Be.set(me,it),it}!function rt(ne){ke=ne(ke)}(ne=>({...ne,get:(me,Ke,Ve)=>K(me,Ke)||ne.get(me,Ke,Ve),has:(me,Ke)=>!!K(me,Ke)||ne.has(me,Ke)}))},5861:(Et,Se,V)=>{function y(L,ce,Te,he,Le,Ee,Fe){try{var G=L[Ee](Fe),z=G.value}catch(Y){return void Te(Y)}G.done?ce(z):Promise.resolve(z).then(he,Le)}function $(L){return function(){var ce=this,Te=arguments;return new Promise(function(he,Le){var Ee=L.apply(ce,Te);function Fe(z){y(Ee,he,Le,Fe,G,"next",z)}function G(z){y(Ee,he,Le,Fe,G,"throw",z)}Fe(void 0)})}}V.d(Se,{Z:()=>$})}},Et=>{Et(Et.s=4958)}]);